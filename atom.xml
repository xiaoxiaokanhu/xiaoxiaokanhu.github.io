<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å°å°çœ‹æŠ¤</title>
  
  <subtitle>å®ˆæŠ¤è‡ªå·±ï¼Œå®ˆæŠ¤å®¶äºº</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2019-03-20T08:16:48.309Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>å°å°çœ‹æŠ¤</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Supervisord å¯åŠ¨æŠ¥é”™:No such file or directory: file: /usr/lib/python2.7/socket.py line: 224</title>
    <link href="http://yoursite.com/2019/03/20/Supervisord-%E5%90%AF%E5%8A%A8%E6%8A%A5%E9%94%99-No-such-file-or-directory-file-usr-lib-python2-7-socket-py-line-224/"/>
    <id>http://yoursite.com/2019/03/20/Supervisord-å¯åŠ¨æŠ¥é”™-No-such-file-or-directory-file-usr-lib-python2-7-socket-py-line-224/</id>
    <published>2019-03-20T08:09:50.000Z</published>
    <updated>2019-03-20T08:16:48.309Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘åœ¨éƒ¨ç½²çš„æ—¶å€™é‡åˆ°ä¸€ä¸ªé”™è¯¯<br><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">error:</span> , [Errno <span class="number">2</span>] No such file or <span class="symbol">directory:</span> <span class="symbol">file:</span> /usr/<span class="class"><span class="keyword">lib</span>/<span class="title">python2</span>.7/<span class="title">socket</span>.<span class="title">py</span> <span class="title">line</span>: 224</span></span><br></pre></td></tr></table></figure></p><p>å¦‚ä¸Šï¼Œå¦‚æœ supervisord æ­£å¸¸å¯åŠ¨è¿‡ï¼Œçªç„¶æŠ¥è¿™ä¸ªé”™è¯¯ï¼Œåˆ™æœ‰å¯èƒ½æ˜¯éæ­£å¸¸å…³é—­å¯¼è‡´çš„ã€‚<br>æ­¤æ—¶ï¼Œéœ€è¦å¼ºè¡Œå…³é—­åï¼Œå†æ­£å¸¸å¯åŠ¨å³å¯ã€‚</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ps</span> aux | <span class="keyword">grep</span> supervisord</span><br></pre></td></tr></table></figure><p>é¦–å…ˆç”¨<code>sudo kill -9 XXX</code>å…³é—­supervisord<br>ç„¶åå…³é—­è¿è¥ä¸­çš„ç¨‹åº<br>ç„¶åå¯åŠ¨<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo <span class="regexp">/bin/</span>supervisord -c <span class="regexp">/etc/</span>supervisord<span class="regexp">/supervisord.conf</span></span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æœ€è¿‘åœ¨éƒ¨ç½²çš„æ—¶å€™é‡åˆ°ä¸€ä¸ªé”™è¯¯&lt;br&gt;&lt;figure class=&quot;highlight crystal&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td clas
      
    
    </summary>
    
      <category term="Python" scheme="http://yoursite.com/categories/Python/"/>
    
    
  </entry>
  
  <entry>
    <title>ssl.SSLError: [SSL: TLSV1_ALERT_PROTOCOL_VERSION] tlsv1 alert protocol versioné”™è¯¯</title>
    <link href="http://yoursite.com/2019/02/27/ssl-SSLError-SSL-TLSV1-ALERT-PROTOCOL-VERSION-tlsv1-alert-protocol-version%E9%94%99%E8%AF%AF/"/>
    <id>http://yoursite.com/2019/02/27/ssl-SSLError-SSL-TLSV1-ALERT-PROTOCOL-VERSION-tlsv1-alert-protocol-versioné”™è¯¯/</id>
    <published>2019-02-27T10:29:56.000Z</published>
    <updated>2019-02-27T10:35:34.843Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©åœ¨å†™ä¸€ä¸ªdemoçš„æ—¶å€™ï¼ŒæŠ¥äº†è¿™ä¸ªé”™è¯¯ã€‚ä»£ç å¦‚ä¸‹:<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">r = requests.<span class="built_in">get</span>(<span class="string">"https://github.com/favicon.ico"</span>)</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">'favicon.ico'</span>, <span class="string">'wb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.<span class="built_in">write</span>(r.content)</span><br></pre></td></tr></table></figure></p><p>è¿è¡ŒæŠ¥é”™ï¼Œé”™è¯¯æ¶ˆæ¯å¦‚ä¸‹:<br><figure class="highlight vhdl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Traceback (most recent call last):</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"/Users/FQY/env350/lib/python3.5/site-packages/urllib3/connectionpool.py"</span>, <span class="literal">line</span> <span class="number">600</span>, <span class="keyword">in</span> urlopen</span><br><span class="line">    chunked=chunked)</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"/Users/FQY/env350/lib/python3.5/site-packages/urllib3/connectionpool.py"</span>, <span class="literal">line</span> <span class="number">343</span>, <span class="keyword">in</span> _make_request</span><br><span class="line">    self._validate_conn(conn)</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"/Users/FQY/env350/lib/python3.5/site-packages/urllib3/connectionpool.py"</span>, <span class="literal">line</span> <span class="number">849</span>, <span class="keyword">in</span> _validate_conn</span><br><span class="line">    conn.connect()</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"/Users/FQY/env350/lib/python3.5/site-packages/urllib3/connection.py"</span>, <span class="literal">line</span> <span class="number">356</span>, <span class="keyword">in</span> connect</span><br><span class="line">    ssl_context=<span class="keyword">context</span>)</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"/Users/FQY/env350/lib/python3.5/site-packages/urllib3/util/ssl_.py"</span>, <span class="literal">line</span> <span class="number">359</span>, <span class="keyword">in</span> ssl_wrap_socket</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">context</span>.wrap_socket(sock, server_hostname=server_hostname)</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/ssl.py"</span>, <span class="literal">line</span> <span class="number">376</span>, <span class="keyword">in</span> wrap_socket</span><br><span class="line">    _context=self)</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/ssl.py"</span>, <span class="literal">line</span> <span class="number">747</span>, <span class="keyword">in</span> __init__</span><br><span class="line">    self.do_handshake()</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/ssl.py"</span>, <span class="literal">line</span> <span class="number">983</span>, <span class="keyword">in</span> do_handshake</span><br><span class="line">    self._sslobj.do_handshake()</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/ssl.py"</span>, <span class="literal">line</span> <span class="number">628</span>, <span class="keyword">in</span> do_handshake</span><br><span class="line">    self._sslobj.do_handshake()</span><br><span class="line">ssl.SSLError: [SSL: TLSV1_ALERT_PROTOCOL_VERSION] tlsv1 alert protocol version (_ssl.c:<span class="number">646</span>)</span><br></pre></td></tr></table></figure></p><p>ç½‘ä¸Šç™¾åº¦éƒ½è¯´çš„æ˜¯è¦å‡çº§pipæˆ–è€…pythonï¼Œå› ä¸ºæˆ‘ç”¨çš„æ˜¯python3.5ï¼Œåº”è¯¥ä¸æ˜¯è¿™ä¸ªé—®é¢˜ï¼Œæ‰€ä»¥åº”è¯¥å‡çº§openssl<br><strong>å‡çº§</strong><br><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pip <span class="keyword">install</span> pyopenssl</span><br></pre></td></tr></table></figure></p><p>è¿™æ—¶å€™åœ¨è¿è¡Œå°±æ²¡é—®é¢˜äº†ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä»Šå¤©åœ¨å†™ä¸€ä¸ªdemoçš„æ—¶å€™ï¼ŒæŠ¥äº†è¿™ä¸ªé”™è¯¯ã€‚ä»£ç å¦‚ä¸‹:&lt;br&gt;&lt;figure class=&quot;highlight livecodeserver&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;
      
    
    </summary>
    
      <category term="Python" scheme="http://yoursite.com/categories/Python/"/>
    
    
  </entry>
  
  <entry>
    <title>çˆ¬è™«ç³»åˆ—ä¹‹requestsçš„ä½¿ç”¨</title>
    <link href="http://yoursite.com/2019/02/27/%E7%88%AC%E8%99%AB%E7%B3%BB%E5%88%97%E4%B9%8Brequests%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <id>http://yoursite.com/2019/02/27/çˆ¬è™«ç³»åˆ—ä¹‹requestsçš„ä½¿ç”¨/</id>
    <published>2019-02-27T09:47:38.000Z</published>
    <updated>2019-03-18T06:01:31.086Z</updated>
    
    <content type="html"><![CDATA[<p>requestsæ˜¯ä¸€ä¸ªå¾ˆå¸¸ç”¨çš„pythonåº“ã€‚å®ƒæœ‰GETã€POSTã€PUTã€DELETEç­‰æ–¹æ³•ã€‚</p><h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pip <span class="keyword">install</span> requests</span><br></pre></td></tr></table></figure><h1 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h1><h3 id="GET"><a href="#GET" class="headerlink" title="GET"></a>GET</h3><p><strong>å¸¸ç”¨æ–¹å¼</strong><br>HTTPä¸­æœ€å¸¸è§çš„è¯·æ±‚ä¹‹ä¸€å°±æ˜¯GETè¯·æ±‚ï¼Œä¸‹é¢æˆ‘ä»¬è¯¦ç»†äº†è§£ä¸€ä¸‹requestsæ„å»ºGETè¯·æ±‚ã€‚å›åº”çš„è¯·æ±‚ä¿¡æ¯:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line">r = requests.get(<span class="string">"http://httpbin.org/get"</span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(r.text)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(type(r.text)</span></span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(r.json()</span></span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(type(r.json()</span></span>))</span><br></pre></td></tr></table></figure></p><p>è¿è¡Œç»“æœå¦‚ä¸‹:<br><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"args"</span>: &#123;&#125;,</span><br><span class="line">  <span class="string">"headers"</span>: &#123;</span><br><span class="line">    <span class="string">"Accept"</span>: <span class="string">"*/*"</span>,</span><br><span class="line">    <span class="string">"Accept-Encoding"</span>: <span class="string">"gzip, deflate"</span>,</span><br><span class="line">    <span class="string">"Host"</span>: <span class="string">"httpbin.org"</span>,</span><br><span class="line">    <span class="string">"User-Agent"</span>: <span class="string">"python-requests/2.19.1"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"origin"</span>: <span class="string">"104.222.246.242, 104.222.246.242"</span>,</span><br><span class="line">  <span class="string">"url"</span>: <span class="string">"https://httpbin.org/get"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;class <span class="string">'str'</span>&gt;</span><br><span class="line">&#123;<span class="string">'args'</span>: &#123;&#125;, <span class="string">'url'</span>: <span class="string">'https://httpbin.org/get'</span>, <span class="string">'headers'</span>: &#123;<span class="string">'Host'</span>: <span class="string">'httpbin.org'</span>, <span class="string">'Accept-Encoding'</span>: <span class="string">'gzip, deflate'</span>, <span class="string">'Accept'</span>: <span class="string">'*/*'</span>, <span class="string">'User-Agent'</span>: <span class="string">'python-requests/2.19.1'</span>&#125;, <span class="string">'origin'</span>: <span class="string">'104.222.246.242, 104.222.246.242'</span>&#125;</span><br><span class="line">&lt;class <span class="string">'dict'</span>&gt;</span><br></pre></td></tr></table></figure></p><p>å¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬æˆåŠŸå‘èµ·äº†GETè¯·æ±‚ï¼Œè¿”å›ç»“æœåŒ…å«è¯·æ±‚å¤´ã€URLã€IPç­‰ä¿¡æ¯ã€‚å¹¶ä¸”å¯ä»¥çœ‹åˆ°r.text()ï¼Œr.json()çš„ç±»å‹ã€‚</p><p><strong>æŠ“å–ç½‘é¡µ</strong><br>ä¸Šé¢çš„è¯·æ±‚é“¾æ¥è¿”å›çš„æ˜¯ JSON å½¢å¼çš„å­—ç¬¦ä¸²ï¼Œ é‚£ä¹ˆå¦‚æœè¯·æ±‚æ™®é€š çš„ç½‘é¡µï¼Œåˆ™ è‚¯å®šèƒ½è·å¾—ç›¸åº”çš„ å†…å®¹äº†ã€‚ ä¸‹é¢ä»¥â€œçŸ¥ä¹â€â†’â€œå‘ç°â€é¡µé¢ä¸ºä¾‹æ¥çœ‹ä¸€ä¸‹:<br><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">headers = &#123;</span><br><span class="line">    'User-Agent':<span class="string">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.121 Safari/537.36"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">r = requests.get('https://www.zhihu.com/explore', headers=headers)</span><br><span class="line">pattern = re.compile('explore-feed.*?question_link.*?&gt;(.*?)&lt;/a&gt;', re.S)</span><br><span class="line">titles = re.findall(pattern, r.text)</span><br><span class="line">print(titles)</span><br></pre></td></tr></table></figure></p><p>è¿è¡Œç»“æœ<br><figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ['<span class="symbol">\n</span>ç™Œç—‡æ˜¯æ€æ ·è¢«æ£€æŸ¥å‡ºæ¥çš„ï¼Œæ™®é€šä½“æ£€èƒ½æŸ¥å‡ºç™Œç—‡å—ï¼Ÿ<span class="symbol">\n</span>', '<span class="symbol">\n</span>å¦‚ä½•çœ‹å¾…ä¸»æ’­ä½™å° C æ‰“åˆ°å³¡è°·ä¹‹å·…æœ€å¼ºç‹è€… 900 ç‚¹ï¼Ÿ<span class="symbol">\n</span>', '<span class="symbol">\n</span>å¦‚ä½•è¯„ä»·90å¹´ä»£å¹»æƒ³å¨±ä¹å°è¯´ï¼ˆä»¥å¯Œå£«è§Fantasiaæ–‡åº“ä¸ºä»£è¡¨ï¼‰åœ¨è½»å°è¯´å‘å±•å²ä¸­çš„ä½ç½®ï¼Ÿä¹äºè§åˆ°ã€Šæµæµªåœ°çƒã€‹ç¥¨æˆ¿å¤§å–ï¼Ÿ<span class="symbol">\n</span>', '<span class="symbol">\n</span>éƒ­å¾·çº²å¯¹å¼ äº‘é›·æ˜¯æ€æ ·çš„æ€åº¦?<span class="symbol">\n</span>', '<span class="symbol">\n</span>ä½ æœ€è®¨åŒä»€ä¹ˆæ¢—ï¼Ÿ<span class="symbol">\n</span>', '<span class="symbol">\n</span>è¯´ä¸‹ä½ ä½¿ç”¨åå¤§çˆ±æ¨ä¸å¾—å®‰åˆ©å…¨ä¸–ç•Œçš„æŠ¤è‚¤å“/åŒ–å¦†å“ï¼Ÿ<span class="symbol">\n</span>', '<span class="symbol">\n</span>é«˜ä¸­ä½œæ–‡å¦‚ä½•å¾—åˆ° 50 ä»¥ä¸Šçš„åˆ†æ•°ï¼Ÿ<span class="symbol">\n</span>']</span><br></pre></td></tr></table></figure></p><p>å‘ç°è¿™é‡Œæ·»åŠ äº†headesï¼Œä¸ç„¶çˆ¬è™«çŸ¥ä¹å‘ç°é¡µä¼šæŠ¥é”™ã€‚</p><h3 id="POST"><a href="#POST" class="headerlink" title="POST"></a>POST</h3><p><strong>å¸¸ç”¨æ–¹å¼</strong><br><figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">data</span> =&#123;<span class="string">'name'</span>:<span class="string">'germey'</span>, <span class="string">'age'</span>:<span class="string">'22'</span>&#125;</span><br><span class="line"></span><br><span class="line">r = requests.post(<span class="string">"http://httpbin.org/post"</span>, <span class="keyword">data</span>=<span class="keyword">data</span>)</span><br><span class="line">print(r.<span class="keyword">text</span>)</span><br></pre></td></tr></table></figure></p><p>è¿è¡Œç»“æœ<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"args"</span>: &#123;&#125;,</span><br><span class="line">  <span class="attr">"data"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="attr">"files"</span>: &#123;&#125;,</span><br><span class="line">  <span class="attr">"form"</span>: &#123;</span><br><span class="line">    <span class="attr">"age"</span>: <span class="string">"22"</span>,</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"germey"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"headers"</span>: &#123;</span><br><span class="line">    <span class="attr">"Accept"</span>: <span class="string">"*/*"</span>,</span><br><span class="line">    <span class="attr">"Accept-Encoding"</span>: <span class="string">"gzip, deflate"</span>,</span><br><span class="line">    <span class="attr">"Content-Length"</span>: <span class="string">"18"</span>,</span><br><span class="line">    <span class="attr">"Content-Type"</span>: <span class="string">"application/x-www-form-urlencoded"</span>,</span><br><span class="line">    <span class="attr">"Host"</span>: <span class="string">"httpbin.org"</span>,</span><br><span class="line">    <span class="attr">"User-Agent"</span>: <span class="string">"python-requests/2.19.1"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"json"</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">"origin"</span>: <span class="string">"104.222.246.242, 104.222.246.242"</span>,</span><br><span class="line">  <span class="attr">"url"</span>: <span class="string">"https://httpbin.org/post"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬æˆåŠŸè·å¾—äº†è¿”å›ç»“æœ,å…¶ä¸­ form éƒ¨åˆ†å°±æ˜¯æäº¤çš„æ•°æ®ï¼Œè¿™å°±è¯æ˜POSTè¯·æ±‚æˆåŠŸå‘é€äº† ã€‚<br><em>**ç›¸åº”</em><br>åœ¨è¿™é‡Œæˆ‘ä»¬çœ‹ä¸‹å¸¸ç”¨çš„ç›¸åº”æ–¹å¼<br>r = requests.get(â€˜<a href="http://www.jianshu.com&#39;" target="_blank" rel="noopener">http://www.jianshu.com&#39;</a>)<br>print(r.status_code)<br>print(r.headers)<br>print(r.cookies)<br>print(r.text)<br>print(r.content)<br>print(r.history)<br>print(r.json())<br>å…¶ä»–çš„æ–¹æ³•å’Œè¿™ç±»ä¼¼ï¼Œå¤§å®¶å¯ä»¥ç›¸ç»§è¯•ä¸€ä¸‹</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;requestsæ˜¯ä¸€ä¸ªå¾ˆå¸¸ç”¨çš„pythonåº“ã€‚å®ƒæœ‰GETã€POSTã€PUTã€DELETEç­‰æ–¹æ³•ã€‚&lt;/p&gt;
&lt;h1 id=&quot;å®‰è£…&quot;&gt;&lt;a href=&quot;#å®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;å®‰è£…&quot;&gt;&lt;/a&gt;å®‰è£…&lt;/h1&gt;&lt;figure class=&quot;hi
      
    
    </summary>
    
      <category term="Python" scheme="http://yoursite.com/categories/Python/"/>
    
    
      <category term="çˆ¬è™«" scheme="http://yoursite.com/tags/%E7%88%AC%E8%99%AB/"/>
    
  </entry>
  
  <entry>
    <title>python encodeå’Œdecodeå‡½æ•°çš„ç”¨æ³•</title>
    <link href="http://yoursite.com/2019/02/26/python-encode%E5%92%8Cdecode%E5%87%BD%E6%95%B0%E7%9A%84%E7%94%A8%E6%B3%95/"/>
    <id>http://yoursite.com/2019/02/26/python-encodeå’Œdecodeå‡½æ•°çš„ç”¨æ³•/</id>
    <published>2019-02-26T03:53:16.000Z</published>
    <updated>2019-02-26T05:53:44.725Z</updated>
    
    <content type="html"><![CDATA[<p>ä»è‹±æ–‡æ„æ€ä¸Šçœ‹ï¼Œencodeå’Œdecodeåˆ†åˆ«æŒ‡ç¼–ç å’Œè§£ç ã€‚åœ¨pythonä¸­ï¼ŒUnicodeç±»å‹æ˜¯ä½œä¸ºç¼–ç çš„åŸºç¡€ç±»å‹ã€‚<br><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">     encode                 decode</span><br><span class="line"><span class="built_in">str</span> ---------&gt; Unicode ---------&gt; <span class="built_in">str</span></span><br></pre></td></tr></table></figure></p><pre><code>encodeçš„ä½œç”¨æ˜¯å°†å…¶ä»–ç¼–ç çš„å­—ç¬¦ä¸²è½¬æ¢æˆunicodeç¼–ç ï¼Œå¦‚str1.encode(&apos;gb2312&apos;)ï¼Œè¡¨ç¤ºå°†gb2312ç¼–ç çš„å­—ç¬¦ä¸²str1è½¬æ¢æˆunicodeç¼–ç ã€‚ decodeçš„ä½œç”¨æ˜¯å°†unicodeç¼–ç è½¬æ¢æˆå…¶ä»–ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œå¦‚str2.decode(&apos;gb2312&apos;)ï¼Œè¡¨ç¤ºå°†unicodeç¼–ç çš„å­—ç¬¦ä¸²str2è½¬æ¢æˆgb2312ç¼–ç </code></pre><p><code>å› æ­¤ï¼Œè½¬ç çš„æ—¶å€™ä¸€å®šè¦å…ˆææ˜ç™½ï¼Œå­—ç¬¦ä¸²stræ˜¯ä»€ä¹ˆç¼–ç ï¼Œç„¶ådecodeæˆunicodeï¼Œç„¶åå†encodeæˆå…¶ä»–ç¼–ç </code><br>ä¸‹é¢å’±ä»¬ç”¨å‡ ä¸ªä¾‹å­æ¥çœ‹ä¸‹:<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">'ä¸­å›½ï¼Œä½ å¥½'</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">'type is &#123;&#125;'</span>.<span class="built_in">format</span>(<span class="built_in">type</span>(s)))</span><br><span class="line"># ç”¨encodeè¿›è¡Œç¼–ç </span><br><span class="line">s1 = s.encode(<span class="string">'utf-8'</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">'s1 is &#123;&#125;'</span>.<span class="built_in">format</span>(s1))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">'type is &#123;&#125;'</span>.<span class="built_in">format</span>(<span class="built_in">type</span>(s1)))</span><br><span class="line"># ç”¨decodeè¿›è¡Œç¼–ç </span><br><span class="line">s2 = s1.decode(<span class="string">'utf-8'</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">'s2 is &#123;&#125;'</span>.<span class="built_in">format</span>(s2))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">'type is &#123;&#125;'</span>.<span class="built_in">format</span>(<span class="built_in">type</span>(s2)))</span><br></pre></td></tr></table></figure></p><p>è¿è¡Œç»“æœæ˜¯ï¼š<br><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="keyword">is</span> &lt;<span class="keyword">class</span> <span class="string">'str'</span>&gt;</span><br><span class="line">s1 <span class="keyword">is</span> b<span class="string">'\xe4\xb8\xad\xe5\x9b\xbd\xef\xbc\x8c\xe4\xbd\xa0\xe5\xa5\xbd'</span></span><br><span class="line"><span class="keyword">type</span> <span class="keyword">is</span> &lt;<span class="keyword">class</span> <span class="string">'bytes'</span>&gt;</span><br><span class="line">s2 <span class="keyword">is</span> ä¸­å›½ï¼Œä½ å¥½</span><br><span class="line"><span class="keyword">type</span> <span class="keyword">is</span> &lt;<span class="keyword">class</span> <span class="string">'str'</span>&gt;</span><br></pre></td></tr></table></figure></p><p>çœ‹å®Œè¿è¡Œç»“æœå¤§å®¶å°±çŸ¥é“æ€ä¹ˆç”¨äº†ã€‚ğŸ˜†</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä»è‹±æ–‡æ„æ€ä¸Šçœ‹ï¼Œencodeå’Œdecodeåˆ†åˆ«æŒ‡ç¼–ç å’Œè§£ç ã€‚åœ¨pythonä¸­ï¼ŒUnicodeç±»å‹æ˜¯ä½œä¸ºç¼–ç çš„åŸºç¡€ç±»å‹ã€‚&lt;br&gt;&lt;figure class=&quot;highlight rust&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span cl
      
    
    </summary>
    
      <category term="Python" scheme="http://yoursite.com/categories/Python/"/>
    
    
  </entry>
  
  <entry>
    <title>çˆ¬è™«ç³»åˆ—ä¹‹urllibçš„ä½¿ç”¨</title>
    <link href="http://yoursite.com/2019/02/25/%E7%88%AC%E8%99%AB%E7%B3%BB%E5%88%97-urllib%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <id>http://yoursite.com/2019/02/25/çˆ¬è™«ç³»åˆ—-urllibçš„ä½¿ç”¨/</id>
    <published>2019-02-25T08:03:36.000Z</published>
    <updated>2019-02-27T09:46:59.648Z</updated>
    
    <content type="html"><![CDATA[<p>urllibåº“æ˜¯pythonçˆ¬è™«ä¸­çš„å¸¸ç”¨åº“ï¼Œè¿™ä¸ªåº“æ¥è¯´ï¼Œæˆ‘ä»¬ä¸éœ€è¦å…³å¿ƒè¯·æ±‚çš„é“¾æ¥æ˜¯ä»€ä¹ˆï¼Œéœ€è¦ä¼ çš„å‚æ•°æ˜¯ä»€ä¹ˆï¼Œä»¥åŠå¦‚ä½•è®¾ç½®å¯é€‰çš„è¯·æ±‚å¤´å°±å¥½äº†ï¼Œä¸ç”¨æ·±å…¥åˆ°åº•å±‚å»äº†è§£å®ƒåˆ°åº•æ˜¯æ€æ ·çš„ä¼ è¾“å’Œé€šä¿¡çš„ã€‚æœ‰äº†å®ƒï¼Œä¸¤è¡Œä»£ç å°±å¯ä»¥å®Œæˆä¸€ä¸ªè¯·æ±‚å’Œç›¸åº”çš„å¤„ç†è¿‡ç¨‹ï¼Œå¾—åˆ°ç½‘é¡µã€‚<br><a id="more"></a></p><h1 id="urllibçš„æ¨¡å—"><a href="#urllibçš„æ¨¡å—" class="headerlink" title="urllibçš„æ¨¡å—"></a>urllibçš„æ¨¡å—</h1><p>urllibåŒ…å«4ä¸ªæ¨¡å—ï¼š<br>    <code>request</code>:å®ƒæ˜¯æœ€åŸºæœ¬çš„HTTPè¯·æ±‚æ¨¡å—ï¼Œå¯ä»¥ç”¨äº†æ¨¡æ‹Ÿå‘é€è¯·æ±‚<br>    <code>error</code>:å¼‚å¸¸å¤„ç†æ¨¡å—ï¼Œå¦‚æœå‡ºç°è¯·æ±‚é”™è¯¯ï¼Œæˆ‘ä»¬å¯ä»¥æ•è·è¿™äº›å¼‚å¸¸ï¼Œç„¶åè¿›è¡Œé‡è¯•æˆ–å…¶ä»–æ“ä½œä»¥ä¿è¯ç¨‹åºä¸ä¼šæ„å¤–ç»ˆæ­¢ã€‚<br>    <code>parse</code>:ä¸€ä¸ªå·¥å…·æ¨¡å—ï¼Œæä¾›äº†è®¸å¤šURLå¤„ç†æ–¹æ³•ï¼Œæ¯”å¦‚æ‹†åˆ†ã€è§£æã€åˆå¹¶ç­‰ã€‚<br>    <code>rebotparser</code>:ä¸»è¦æ˜¯ç”¨æ¥è¯†åˆ«ç½‘ç«™çš„rebots.txtæ–‡ä»¶ï¼Œç„¶ååˆ¤æ–­å“ªäº›ç½‘ç«™å¯ä»¥çˆ¬ï¼Œå“ªäº›ç½‘ç«™ä¸å¯ä»¥çˆ¬ï¼Œå®é™…ç”¨çš„ä¸å¤šã€‚</p><h2 id="Request"><a href="#Request" class="headerlink" title="Request"></a>Request</h2><p>æˆ‘ä»¬çŸ¥é“åˆ©ç”¨ urlopen()æ–¹æ³•å¯ä»¥å®ç°æœ€åŸºæœ¬è¯·æ±‚çš„å‘èµ·ï¼Œä½†è¿™å‡ ä¸ªç®€å•çš„å‚æ•°å¹¶ä¸è¶³ä»¥æ„å»ºä¸€<br>ä¸ªå®Œæ•´çš„è¯·æ±‚ã€‚<br>å¦‚æœè¯·æ±‚ä¸­éœ€è¦åŠ å…¥ Headersç­‰ä¿¡æ¯ï¼Œå°±å¯ä»¥åˆ©ç”¨æ›´å¼ºå¤§çš„ Requestç±»æ¥æ„å»ºã€‚ é¦–å…ˆï¼Œæˆ‘ä»¬ç”¨å®ä¾‹æ¥æ„Ÿå—ä¸€ä¸‹ Request çš„ç”¨æ³•:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import urllib.request</span><br><span class="line">request = urllib<span class="selector-class">.request</span><span class="selector-class">.Request</span>(<span class="string">'https://python.org'</span>) </span><br><span class="line">response = urllib<span class="selector-class">.request</span><span class="selector-class">.urlopen</span>(request) </span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(response.read()</span></span>.decode(<span class="string">'utf-8'</span>))</span><br></pre></td></tr></table></figure></p><p>å¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬ä¾ç„¶æ˜¯ç”¨ urlopen()æ–¹æ³•æ¥å‘é€è¿™ä¸ªè¯·æ±‚ï¼Œåªä¸è¿‡è¿™æ¬¡è¯¥æ–¹æ³•çš„å‚æ•°ä¸å†æ˜¯ URL, è€Œæ˜¯ä¸€ä¸ª Request ç±»å‹çš„å¯¹è±¡ ã€‚ é€šè¿‡æ„é€ è¿™ä¸ªæ•°æ®ç»“æ„ï¼Œä¸€æ–¹é¢æˆ‘ä»¬å¯ä»¥å°†è¯·æ±‚ç‹¬ç«‹æˆä¸€ä¸ªå¯¹è±¡ï¼Œå¦ ä¸€æ–¹é¢å¯æ›´åŠ ä¸°å¯Œå’Œçµæ´»åœ°é…ç½®å‚æ•° ã€‚<br>ä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ä¸‹ Requestå¯ä»¥é€šè¿‡æ€æ ·çš„å‚æ•°æ¥æ„é€ ï¼Œå®ƒçš„æ„é€ æ–¹æ³•å¦‚ä¸‹:<br><code>class urllib. request. Request (ur1, data=None, headers={}, origin_req_host=None, unverifiable=False, method=None)</code></p><ul><li>ç¬¬ä¸€ä¸ªå‚æ•° urlç”¨äºè¯·æ±‚ URLï¼Œ è¿™æ˜¯å¿…ä¼ å‚æ•°ï¼Œå…¶ä»–éƒ½æ˜¯å¯é€‰å‚æ•°ã€‚</li><li>ç¬¬äºŒä¸ªå‚æ•° data å¦‚æœè¦ä¼ ï¼Œå¿…é¡»ä¼  bytes (å­—èŠ‚æµ)ç±»å‹çš„ ã€‚ å¦‚æœå®ƒæ˜¯å­—å…¸ï¼Œå¯ä»¥å…ˆç”¨ urllib.parseæ¨¡å—é‡Œçš„ urlencode()ç¼–ç ã€‚</li><li>ç¬¬ä¸‰ä¸ªå‚æ•° headersæ˜¯ä¸€ä¸ªå­—å…¸ï¼Œå®ƒå°±æ˜¯è¯·æ±‚å¤´ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ„é€ è¯·æ±‚æ—¶é€šè¿‡ headerså‚æ•°ç›´ æ¥æ„é€ ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è°ƒç”¨è¯·æ±‚å®ä¾‹çš„ add_header()æ–¹æ³•æ·»åŠ ã€‚<br>æ·»åŠ è¯·æ±‚å¤´æœ€å¸¸ç”¨çš„ç”¨æ³•å°±æ˜¯é€šè¿‡ä¿®æ”¹ User-Agent æ¥ä¼ªè£…æµè§ˆå™¨ï¼Œé»˜è®¤çš„ User-Agent æ˜¯ ä¸€â€™- Python-urllibï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¿®æ”¹å®ƒæ¥ä¼ªè£…æµè§ˆå™¨ ã€‚ æ¯”å¦‚è¦ä¼ªè£…ç«ç‹æµè§ˆå™¨ï¼Œä½ å¯ä»¥æŠŠå®ƒè®¾ E ç½®ä¸º :<br>é—®ozilla/s.o (X11; U; Linux i686) Gecko/20071127 Firefox/2.0.0.11</li><li>ç¬¬å››ä¸ªå‚æ•° origin_req_hostæŒ‡çš„æ˜¯è¯·æ±‚æ–¹çš„ hoståç§°æˆ–è€… IPåœ°å€ã€‚</li><li>ç¬¬äº”ä¸ªå‚æ•° unveriå¹²iableè¡¨ç¤ºè¿™ä¸ªè¯·æ±‚æ˜¯å¦æ˜¯æ— æ³•éªŒè¯ çš„ï¼Œé»˜è®¤æ˜¯ Falseï¼Œæ„æ€å°±æ˜¯è¯´ç”¨æˆ·æ²¡<br>æœ‰è¶³å¤Ÿæƒé™æ¥é€‰æ‹©æ¥æ”¶è¿™ä¸ªè¯·æ±‚çš„ç»“æœã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬è¯·æ±‚ä¸€ä¸ª HTMLæ–‡æ¡£ä¸­çš„å›¾ç‰‡ï¼Œä½†æ˜¯æˆ‘<br>ä»¬æ²¡æœ‰å‘åŠ¨æŠ“å–å›¾åƒçš„æƒé™ï¼Œè¿™æ—¶ unverifiable çš„å€¼å°±æ˜¯ Trueã€‚</li><li>ç¬¬å…­ä¸ªå‚æ•° methodæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç”¨æ¥æŒ‡ç¤ºè¯·æ±‚ä½¿ç”¨çš„æ–¹æ³•ï¼Œæ¯”å¦‚ GETã€ POSTå’Œ PUTç­‰ã€‚</li></ul><p><strong>ä¾‹å­</strong><br><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'http://httpbin.org/post'</span></span><br><span class="line">headers = <span class="comment">&#123;</span></span><br><span class="line"><span class="comment">    "Host": "httpbin.org",</span></span><br><span class="line"><span class="comment">    "User-Agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.109 Safari/537.36",</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line">data = bytes(parse.urlencode(<span class="comment">&#123;'word':'ä¸­å›½, ä½ å¥½'&#125;</span>), encoding=<span class="string">'utf-8'</span>)</span><br><span class="line"></span><br><span class="line">req = request.Request(url=url, data=data, headers=headers, <span class="function"><span class="keyword">method</span>='<span class="title">POST</span>')</span></span><br><span class="line"><span class="function"><span class="title">response</span> = <span class="title">request</span>.<span class="title">urlopen</span><span class="params">(req)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(<span class="string">'respin is &#123;&#125;'</span>.format(response.<span class="keyword">read</span>()</span>.<span class="title">decode</span><span class="params">(<span class="string">'utf-8'</span>)</span>))</span></span><br></pre></td></tr></table></figure></p><p>è¿è¡Œç»“æœï¼š<br><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">respin is &#123;</span><br><span class="line">  <span class="string">"args"</span>: &#123;&#125;, </span><br><span class="line">  <span class="string">"data"</span>: <span class="string">"word=%E4%B8%AD%E5%9B%BD%2C+%E4%BD%A0%E5%A5%BD"</span>, </span><br><span class="line">  <span class="string">"files"</span>: &#123;&#125;, </span><br><span class="line">  <span class="string">"form"</span>: &#123;&#125;, </span><br><span class="line">  <span class="string">"headers"</span>: &#123;</span><br><span class="line">    <span class="string">"Accept-Encoding"</span>: <span class="string">"identity"</span>, </span><br><span class="line">    <span class="string">"Content-Length"</span>: <span class="string">"45"</span>, </span><br><span class="line">    <span class="string">"Content-Type"</span>: <span class="string">"application/json"</span>, </span><br><span class="line">    <span class="string">"Host"</span>: <span class="string">"httpbin.org"</span>, </span><br><span class="line">    <span class="string">"User-Agent"</span>: <span class="string">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.109 Safari/537.36"</span></span><br><span class="line">  &#125;, </span><br><span class="line">  <span class="string">"json"</span>: null, </span><br><span class="line">  <span class="string">"origin"</span>: <span class="string">"104.222.246.242, 104.222.246.242"</span>, </span><br><span class="line">  <span class="string">"url"</span>: <span class="string">"https://httpbin.org/post"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="é«˜çº§ç”¨æ³•"><a href="#é«˜çº§ç”¨æ³•" class="headerlink" title="é«˜çº§ç”¨æ³•"></a>é«˜çº§ç”¨æ³•</h2><p>åœ¨ä¸Šé¢çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬è™½ç„¶å¯ä»¥æ„é€ è¯·æ±‚ï¼Œä½†æ˜¯å¯¹äºä¸€äº›æ›´é«˜çº§çš„æ“ä½œ(æ¯”å¦‚ Cookieså¤„ç† ã€ ä»£ ç†è®¾ç½®ç­‰)ï¼Œæˆ‘ä»¬è¯¥æ€ä¹ˆåŠå‘¢?<br>æ¥ä¸‹æ¥ï¼Œå°±éœ€è¦æ›´å¼ºå¤§çš„å·¥å…· Handler ç™»åœºäº† ã€‚ ç®€è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒç†è§£ä¸ºå„ç§å¤„ç†å™¨ï¼Œæœ‰ ä¸“é—¨å¤„ç†ç™»å½•éªŒè¯çš„ï¼Œæœ‰å¤„ç† Cookies çš„ï¼Œæœ‰å¤„ç†ä»£ç†è®¾ç½®çš„ ã€‚ åˆ©ç”¨å®ƒä»¬ï¼Œæˆ‘ä»¬å‡ ä¹å¯ä»¥åšåˆ° HTTP è¯·æ±‚ä¸­æ‰€æœ‰çš„äº‹æƒ… ã€‚<br>é¦–å…ˆï¼Œä»‹ç»ä¸€ä¸‹ urllib.request æ¨¡å—é‡Œçš„ BaseHandlerç±»ï¼Œå®ƒæ˜¯æ‰€æœ‰å…¶ä»– Handler çš„çˆ¶ç±»ï¼Œå®ƒæ ä¾›äº†æœ€åŸºæœ¬çš„æ–¹æ³•ï¼Œä¾‹å¦‚ default_open()ã€ protocol_request()ç­‰ã€‚<br>æ¥ä¸‹æ¥ï¼Œå°±æœ‰å„ç§ Handler å­ç±»ç»§æ‰¿è¿™ä¸ª BaseHandlerç±»ï¼Œä¸¾ä¾‹å¦‚ä¸‹ ã€‚<br>å£ HITPDefaultErrorHandler:ç”¨äºå¤„ç†HTTPå“åº”é”™è¯¯ï¼Œé”™è¯¯éƒ½ä¼šæŠ›å‡º HTTPErrorç±»å‹çš„å¼‚å¸¸ã€‚ å£ HTTPRedirectHandler:ç”¨äºå¤„ç†é‡å®šå‘ ã€‚<br>å£ HTTPCookieProcessor: ç”¨äºå¤„ç† Cookiesã€‚<br>å£ ProxyHandler:ç”¨äºè®¾ç½®ä»£ç† ï¼Œ é»˜è®¤ä»£ç†ä¸ºç©º ã€‚<br>å£ HÏ€PPasswordMgr:ç”¨äºç®¡ç†å¯†ç ï¼Œå®ƒç»´æŠ¤äº†ç”¨æˆ·åå’Œå¯†ç çš„è¡¨ã€‚<br>å£ HTTPBasicAuthHandler: ç”¨äºç®¡ç†è®¤è¯ï¼Œå¦‚æœä¸€ä¸ªé“¾æ¥æ‰“å¼€æ—¶éœ€è¦è®¤è¯ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨å®ƒæ¥è§£<br>å†³è®¤è¯é—®é¢˜ ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;urllibåº“æ˜¯pythonçˆ¬è™«ä¸­çš„å¸¸ç”¨åº“ï¼Œè¿™ä¸ªåº“æ¥è¯´ï¼Œæˆ‘ä»¬ä¸éœ€è¦å…³å¿ƒè¯·æ±‚çš„é“¾æ¥æ˜¯ä»€ä¹ˆï¼Œéœ€è¦ä¼ çš„å‚æ•°æ˜¯ä»€ä¹ˆï¼Œä»¥åŠå¦‚ä½•è®¾ç½®å¯é€‰çš„è¯·æ±‚å¤´å°±å¥½äº†ï¼Œä¸ç”¨æ·±å…¥åˆ°åº•å±‚å»äº†è§£å®ƒåˆ°åº•æ˜¯æ€æ ·çš„ä¼ è¾“å’Œé€šä¿¡çš„ã€‚æœ‰äº†å®ƒï¼Œä¸¤è¡Œä»£ç å°±å¯ä»¥å®Œæˆä¸€ä¸ªè¯·æ±‚å’Œç›¸åº”çš„å¤„ç†è¿‡ç¨‹ï¼Œå¾—åˆ°ç½‘é¡µã€‚&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Python" scheme="http://yoursite.com/categories/Python/"/>
    
    
      <category term="çˆ¬è™«" scheme="http://yoursite.com/tags/%E7%88%AC%E8%99%AB/"/>
    
  </entry>
  
  <entry>
    <title>hexo æ·»åŠ æœ¬åœ°å›¾ç‰‡</title>
    <link href="http://yoursite.com/2019/02/14/hexo-%E6%B7%BB%E5%8A%A0%E6%9C%AC%E5%9C%B0%E5%9B%BE%E7%89%87/"/>
    <id>http://yoursite.com/2019/02/14/hexo-æ·»åŠ æœ¬åœ°å›¾ç‰‡/</id>
    <published>2019-02-14T03:15:30.000Z</published>
    <updated>2019-02-14T03:47:59.453Z</updated>
    
    <content type="html"><![CDATA[<p>hexoæ’å…¥å›¾ç‰‡çš„æ–¹å¼æœ‰å¥½å‡ ç§ï¼Œé“¾æ¥æˆ–è€…æœ¬åœ°å›¾ç‰‡ï¼Œä»‹äºé“¾æ¥å›¾ç‰‡æœ‰å¯èƒ½å¤±æ•ˆçš„åŸå› ï¼Œç”¨æœ¬åœ°å›¾ç‰‡æ˜¯æœ€çœäº‹çš„ï¼Œç›®å‰æ’å…¥æœ¬åœ°å›¾ç‰‡æœ‰ä¸¤ç§æ–¹å¼ã€‚</p><ul><li>è·Ÿéšæ–‡ç« çš„åˆ›å»ºå›¾ç‰‡æ–‡ä»¶å¤¹</li><li>åˆ›å»ºæ€»çš„å›¾ç‰‡æ–‡ä»¶å¤¹<a id="more"></a><h1 id="è·Ÿéšæ–‡ç« çš„åˆ›å»ºæ–¹å¼"><a href="#è·Ÿéšæ–‡ç« çš„åˆ›å»ºæ–¹å¼" class="headerlink" title="è·Ÿéšæ–‡ç« çš„åˆ›å»ºæ–¹å¼"></a>è·Ÿéšæ–‡ç« çš„åˆ›å»ºæ–¹å¼</h1><h4 id="ç¬¬ä¸€æ­¥"><a href="#ç¬¬ä¸€æ­¥" class="headerlink" title="ç¬¬ä¸€æ­¥"></a>ç¬¬ä¸€æ­¥</h4>æ ¹ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶_config.ymlé‡Œçš„post_asset_folderé€‰é¡¹è®¾ç½®ä¸ºtrueã€‚æ–°å»ºæ–‡ç« çš„æ—¶å€™ä¼šåŒæ—¶åˆ›å»ºä¸€ä¸ªåŒåæ–‡ä»¶å¤¹ç”¨äºæ”¾å›¾ç‰‡ã€‚<h4 id="ç¬¬äºŒæ­¥"><a href="#ç¬¬äºŒæ­¥" class="headerlink" title="ç¬¬äºŒæ­¥"></a>ç¬¬äºŒæ­¥</h4>æ‰§è¡Œå‘½ä»¤<code>npm install hexo-asset-image --save</code> ï¼Œä¸‹è½½å®‰è£…ä¸€ä¸ªå¯ä»¥ä¸Šä¼ æœ¬åœ°å›¾ç‰‡çš„æ’ä»¶ã€‚<br>ä½¿ç”¨çš„æ—¶å€™ï¼Œåªéœ€è¦å›¾ç‰‡åå°±å¯ä»¥ <code>![](test.jpg)</code><br><strong>ä¾‹å¦‚</strong>æˆ‘åˆ›å»ºçš„è¿™ç¯‡æ–‡ç« ï¼Œ<code>hexo æ·»åŠ æœ¬åœ°å›¾ç‰‡</code><br><img src="/2019/02/14/hexo-æ·»åŠ æœ¬åœ°å›¾ç‰‡/1550115421513.jpg" alt=""><br>ç„¶åä¸‹é¢å°±ç”Ÿæˆäº†ç›¸åº”çš„æ–‡ä»¶å¤¹ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹é¢å­˜æ”¾ç›¸åº”çš„å›¾ç‰‡ã€‚<br><img src="/2019/02/14/hexo-æ·»åŠ æœ¬åœ°å›¾ç‰‡/1550115487994.jpg" alt=""><br>è¿™æ—¶å€™æˆ‘åªéœ€è¦å¼•ç”¨<code>![](1550115421513.jpg)</code>å°±å¯ä»¥äº†ã€‚</li></ul><h1 id="åˆ›å»ºæ€»çš„å›¾ç‰‡æ–‡ä»¶å¤¹"><a href="#åˆ›å»ºæ€»çš„å›¾ç‰‡æ–‡ä»¶å¤¹" class="headerlink" title="åˆ›å»ºæ€»çš„å›¾ç‰‡æ–‡ä»¶å¤¹"></a>åˆ›å»ºæ€»çš„å›¾ç‰‡æ–‡ä»¶å¤¹</h1><p>åœ¨ä¸»é¢˜çš„ source ä¸‹é¢æ–°å»ºä¸€ä¸ª æ–‡ä»¶å¤¹ï¼ˆæ¯”å¦‚uploadsï¼‰ç”¨äºä¸“é—¨æ”¾ç½®è¿™äº›å›¾ç‰‡èµ„æºã€‚<br>ä½¿ç”¨çš„æ—¶å€™ä½¿ç”¨<code>![](/uploads/test.jpg)</code>çš„æ–¹å¼ã€‚</p><p>PS:ä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„çˆ±å¥½å»é€‰æ‹©ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;hexoæ’å…¥å›¾ç‰‡çš„æ–¹å¼æœ‰å¥½å‡ ç§ï¼Œé“¾æ¥æˆ–è€…æœ¬åœ°å›¾ç‰‡ï¼Œä»‹äºé“¾æ¥å›¾ç‰‡æœ‰å¯èƒ½å¤±æ•ˆçš„åŸå› ï¼Œç”¨æœ¬åœ°å›¾ç‰‡æ˜¯æœ€çœäº‹çš„ï¼Œç›®å‰æ’å…¥æœ¬åœ°å›¾ç‰‡æœ‰ä¸¤ç§æ–¹å¼ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è·Ÿéšæ–‡ç« çš„åˆ›å»ºå›¾ç‰‡æ–‡ä»¶å¤¹&lt;/li&gt;
&lt;li&gt;åˆ›å»ºæ€»çš„å›¾ç‰‡æ–‡ä»¶å¤¹&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
      <category term="æ‚è®°" scheme="http://yoursite.com/categories/%E6%9D%82%E8%AE%B0/"/>
    
    
      <category term="hexo" scheme="http://yoursite.com/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>git push githubå¤±è´¥ï¼Œæç¤ºSSL_connect: SSL_ERROR_SYSCALL in connection to github.com:443</title>
    <link href="http://yoursite.com/2019/02/13/git-push-github%E5%A4%B1%E8%B4%A5%EF%BC%8C%E6%8F%90%E7%A4%BASSL-connect-SSL-ERROR-SYSCALL-in-connection-to-github-com-443/"/>
    <id>http://yoursite.com/2019/02/13/git-push-githubå¤±è´¥ï¼Œæç¤ºSSL-connect-SSL-ERROR-SYSCALL-in-connection-to-github-com-443/</id>
    <published>2019-02-13T09:03:06.000Z</published>
    <updated>2019-02-13T09:06:46.605Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©git push å‘ç°å‡ºç°é”™è¯¯ï¼Œå¾ˆè«åå…¶å¦™ï¼Œé”™è¯¯çš„è¯¦æƒ…å¦‚ä¸‹:<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fata<span class="variable">l:</span> unable <span class="keyword">to</span> access <span class="string">'https://github.com/XXXX/XXXX.git/'</span>: </span><br><span class="line">LibreSSL SSL_connec<span class="variable">t:</span> SSL_ERROR_SYSCALL in connection <span class="keyword">to</span> github.<span class="keyword">com</span>:<span class="number">443</span></span><br></pre></td></tr></table></figure></p><p>ç„¶åå»ç½‘ä¸Šæ ¹æ®è¿™ä¸ªé”™è¯¯æç¤ºæœäº†ä¸€ä¸‹ï¼Œå‘ç°æ˜¯å› ä¸ºGitçš„Httpä»£ç†çš„é—®é¢˜ï¼ŒGitæ”¯æŒä¸‰ç§åè®®ï¼šgit://ã€ssh://å’Œhttp://ï¼Œæœ¬æ¥pushçš„æ—¶å€™åº”è¯¥èµ°sshéš§é“çš„ï¼Œä½†æ˜¯å› ä¸ºè®¾ç½®äº†httpä»£ç†ï¼Œæ‰€ä»¥å°±èµ°äº†httpçš„ä»£ç†ï¼Œäºæ˜¯å°±æäº¤ä¸äº†äº†ã€‚<br>OKï¼Œæ‰¾åˆ°åŸå› äº†ï¼Œé‚£å°±å–æ¶ˆhttpä»£ç†å§ï¼š</p><h1 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h1><p>åœ¨githubé¡¹ç›®åœ¨æœ¬åœ°çš„æ ¹ç›®å½•ä¸‹æ‰“å¼€gitå‘½ä»¤è¡Œï¼Œ<br>æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git<span class="built_in"> config </span>--global --unset http.proxy</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä»Šå¤©git push å‘ç°å‡ºç°é”™è¯¯ï¼Œå¾ˆè«åå…¶å¦™ï¼Œé”™è¯¯çš„è¯¦æƒ…å¦‚ä¸‹:&lt;br&gt;&lt;figure class=&quot;highlight vim&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span
      
    
    </summary>
    
      <category term="git" scheme="http://yoursite.com/categories/git/"/>
    
    
  </entry>
  
  <entry>
    <title>nginx https è¯ä¹¦é…ç½®</title>
    <link href="http://yoursite.com/2019/02/12/nginx-https-%E8%AF%81%E4%B9%A6%E9%85%8D%E7%BD%AE/"/>
    <id>http://yoursite.com/2019/02/12/nginx-https-è¯ä¹¦é…ç½®/</id>
    <published>2019-02-12T10:47:58.000Z</published>
    <updated>2019-02-12T11:17:10.099Z</updated>
    
    <content type="html"><![CDATA[<p>ä½¿ç”¨<code>https</code>éœ€è¦é…ç½®SSLè¯ä¹¦,å› ä¸ºæˆ‘ä½¿ç”¨çš„é˜¿é‡Œäº‘ï¼Œæ‰€ä»¥ä¸‹é¢æ˜¯é˜¿é‡Œäº‘çš„é…ç½®<br><a id="more"></a></p><h1 id="åŸŸåè§£æåˆ°æœåŠ¡å™¨"><a href="#åŸŸåè§£æåˆ°æœåŠ¡å™¨" class="headerlink" title="åŸŸåè§£æåˆ°æœåŠ¡å™¨"></a>åŸŸåè§£æåˆ°æœåŠ¡å™¨</h1><p><img src="https://upload-images.jianshu.io/upload_images/2120155-75e80c50ad68a36d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æœåŠ¡å™¨ipè®¾ç½®.png"></p><h1 id="ç”³è¯·caè¯ä¹¦"><a href="#ç”³è¯·caè¯ä¹¦" class="headerlink" title="ç”³è¯·caè¯ä¹¦"></a>ç”³è¯·caè¯ä¹¦</h1><p>åœ¨é˜¿é‡Œäº‘æ§åˆ¶å°-äº§å“ä¸æœåŠ¡-å®‰å…¨(äº‘ç›¾)-CAè¯ä¹¦æœåŠ¡(æ•°æ®å®‰å…¨)ï¼Œç‚¹å‡»è´­ä¹°è¯ä¹¦<br><img src="https://upload-images.jianshu.io/upload_images/2120155-0cf7dcf151d4b1e4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å…è´¹è¯ä¹¦.png"><br>é€‰æ‹©â€œå…è´¹ç‰ˆDV SSLâ€ï¼Œç‚¹å‡»ç«‹å³è´­ä¹°:<br><img src="http://upload-images.jianshu.io/upload_images/2120155-fe1efa0d69767d4d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å…è´¹è¯ä¹¦.png"><br>ç„¶åç‚¹å»æ”¯ä»˜:<br><img src="http://upload-images.jianshu.io/upload_images/2120155-75725ac45e2fd02a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å…è´¹è¯ä¹¦.png"><br>æœ€åç¡®è®¤æ”¯ä»˜:<br><img src="http://upload-images.jianshu.io/upload_images/2120155-de55bd8685494a4e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å…è´¹è¯ä¹¦.png"><br>å°±ä¼šå›åˆ°ç®¡ç†ç•Œé¢,ç„¶åæ ¹æ®è¯´æ˜å»é…ç½®ã€‚<strong>è¯´æ˜ï¼šå› ä¸ºæˆ‘ä»¬è¿™é‡Œç”³è¯·çš„æ˜¯å¼€å‘ç‰ˆå…è´¹è¯ä¹¦ï¼Œæ‰€ä»¥ä¸€ä¸ªè¯ä¹¦ä»…æ”¯æŒä¸€ä¸ªåŸŸåè®¤è¯ï¼Œä¸æ”¯æŒé€šé…ç¬¦ã€‚</strong><br>ç­‰å¾…å‡ åˆ†é’Ÿï¼Œè¯ä¹¦çŠ¶æ€å˜ä¸ºâ€œå·²ç­¾å‘â€åï¼Œè¯ä¹¦å°±ç”³è¯·æˆåŠŸäº†ã€‚</p><h1 id="ä¸‹è½½è¯ä¹¦"><a href="#ä¸‹è½½è¯ä¹¦" class="headerlink" title="ä¸‹è½½è¯ä¹¦"></a>ä¸‹è½½è¯ä¹¦</h1><p>åˆ—è¡¨ä¸­æ‰¾åˆ°å·²ç­¾å‘çš„è¯ä¹¦ï¼Œä¸‹è½½, ä¸‹è½½çš„æ—¶å€™é€‰æ‹©Nginxã€‚<br>ç„¶åæŠŠç›¸åº”çš„æ­£å¼ä¼ åˆ°æœåŠ¡å™¨,å‘½ä»¤æ–¹æ³•ä½¿ç”¨<code>scp</code>ã€‚<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>scp -r root<span class="variable">@43</span>.<span class="number">224.34</span>.<span class="number">73</span><span class="symbol">:/home/lk</span> /root</span><br></pre></td></tr></table></figure></p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://www.cnblogs.com/tianhei/p/7726505.html" target="_blank" rel="noopener">nginxé…ç½®sslè¯ä¹¦å®ç°httpsè®¿é—®</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä½¿ç”¨&lt;code&gt;https&lt;/code&gt;éœ€è¦é…ç½®SSLè¯ä¹¦,å› ä¸ºæˆ‘ä½¿ç”¨çš„é˜¿é‡Œäº‘ï¼Œæ‰€ä»¥ä¸‹é¢æ˜¯é˜¿é‡Œäº‘çš„é…ç½®&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Linux" scheme="http://yoursite.com/categories/Linux/"/>
    
    
      <category term="nginx" scheme="http://yoursite.com/tags/nginx/"/>
    
  </entry>
  
  <entry>
    <title>nginx httpå’Œhttpsé…ç½®</title>
    <link href="http://yoursite.com/2019/02/12/nginx-http%E5%92%8Chttps%E9%85%8D%E7%BD%AE/"/>
    <id>http://yoursite.com/2019/02/12/nginx-httpå’Œhttpsé…ç½®/</id>
    <published>2019-02-12T10:23:28.000Z</published>
    <updated>2019-02-12T11:07:10.458Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><h1 id="nginxé…ç½®è¯¦è§£"><a href="#nginxé…ç½®è¯¦è§£" class="headerlink" title="nginxé…ç½®è¯¦è§£"></a>nginxé…ç½®è¯¦è§£</h1><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment"># å…¨å±€é…ç½®</span></span><br><span class="line"><span class="comment">##</span></span><br><span class="line"></span><br><span class="line">user www-data;             <span class="comment">## é…ç½® worker è¿›ç¨‹çš„ç”¨æˆ·å’Œç»„</span></span><br><span class="line">worker_processes auto;     <span class="comment">## é…ç½® worker è¿›ç¨‹å¯åŠ¨çš„æ•°é‡ï¼Œå»ºè®®é…ç½®ä¸º CPU æ ¸å¿ƒæ•°</span></span><br><span class="line">error_log logs/<span class="keyword">error</span>.<span class="built_in">log</span>;  <span class="comment">## å…¨å±€é”™è¯¯æ—¥å¿—</span></span><br><span class="line">pid /<span class="built_in">run</span>/nginx.pid;        <span class="comment">## è®¾ç½®è®°å½•ä¸»è¿›ç¨‹ ID çš„æ–‡ä»¶</span></span><br><span class="line">worker_rlimit_nofile <span class="number">8192</span>; <span class="comment">## é…ç½®ä¸€ä¸ªå·¥ä½œè¿›ç¨‹èƒ½å¤Ÿæ¥å—å¹¶å‘è¿æ¥çš„æœ€å¤§æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment"># å·¥ä½œæ¨¡å¼åŠè¿æ¥æ•°ä¸Šé™</span></span><br><span class="line"><span class="comment">##</span></span><br><span class="line">events &#123;</span><br><span class="line">    <span class="comment"># epoll æ˜¯å¤šè·¯å¤ç”¨ IOï¼ˆI/O Multiplexingï¼‰ä¸­çš„ä¸€ç§æ–¹å¼ï¼Œ</span></span><br><span class="line">    <span class="comment"># ä»…ç”¨äº Linux 2.6 ä»¥ä¸Šå†…æ ¸ï¼Œå¯ä»¥å¤§å¤§æé«˜ Nginx æ€§èƒ½</span></span><br><span class="line">    use epoll</span><br><span class="line">        </span><br><span class="line">    <span class="comment"># å•ä¸ªåå° worker process è¿›ç¨‹çš„æœ€å¤§å¹¶å‘é“¾æ¥æ•°</span></span><br><span class="line">    <span class="comment"># å¹¶å‘æ€»æ•° max_clients = worker_professes * worker_connections</span></span><br><span class="line">    worker_connections <span class="number">4096</span>;  <span class="comment">## Defaule: 1024</span></span><br><span class="line">    <span class="comment"># multi_accept on;  ## æŒ‡æ˜ worker è¿›ç¨‹ç«‹åˆ»æ¥å—æ–°çš„è¿æ¥</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment"># http æ¨¡å—</span></span><br><span class="line"><span class="comment">##</span></span><br><span class="line">http &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">##</span></span><br><span class="line">    <span class="comment"># Basic Settings</span></span><br><span class="line">    <span class="comment">##</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">#sendfile æŒ‡ä»¤æŒ‡å®š nginx æ˜¯å¦è°ƒç”¨ sendfile å‡½æ•°ï¼ˆzero copy æ–¹å¼ï¼‰æ¥è¾“å‡ºæ–‡ä»¶ï¼Œ</span></span><br><span class="line">    <span class="comment">#å¯¹äºæ™®é€šåº”ç”¨ï¼Œå¿…é¡»è®¾ä¸º on,</span></span><br><span class="line">    <span class="comment">#å¦‚æœç”¨æ¥è¿›è¡Œä¸‹è½½ç­‰åº”ç”¨ç£ç›˜ IO é‡è´Ÿè½½åº”ç”¨ï¼Œå¯è®¾ç½®ä¸º offï¼Œ</span></span><br><span class="line">    <span class="comment">#ä»¥å¹³è¡¡ç£ç›˜ä¸ç½‘ç»œ I/O å¤„ç†é€Ÿåº¦ï¼Œé™ä½ç³»ç»Ÿçš„ uptime.</span></span><br><span class="line">    sendfile <span class="keyword">on</span>;</span><br><span class="line">    tcp_nopush <span class="keyword">on</span>;</span><br><span class="line">    tcp_nodelay <span class="keyword">on</span>;</span><br><span class="line">    keepalive_timeout <span class="number">65</span>;      <span class="comment">## è¿æ¥è¶…æ—¶æ—¶é—´</span></span><br><span class="line">    types_hash_max_size <span class="number">2048</span>;  <span class="comment">## æŒ‡å®šæ•£åˆ—ç±»å‹è¡¨çš„æœ€å¤§å¤§å°</span></span><br><span class="line">    <span class="comment"># server_tokens off;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># server_names_hash_bucket_size 64;  # this seems to be required for some vhosts</span></span><br><span class="line">    <span class="comment"># server_name_in_redirect off;</span></span><br><span class="line">    </span><br><span class="line">    include /etc/nginx/mime.types;  <span class="comment">## è®¾å®š mine ç±»å‹</span></span><br><span class="line">    default_type <span class="built_in">application</span>/octet-stream;</span><br><span class="line">   </span><br><span class="line">    <span class="comment"># è®¾å®šè¯·æ±‚ç¼“å†²</span></span><br><span class="line">    client_header_buffer_size    <span class="number">128</span>k; <span class="comment"># æŒ‡å®šå®¢æˆ·ç«¯è¯·æ±‚å¤´ç¼“å­˜å¤§å°ï¼Œå½“è¯·æ±‚å¤´å¤§äº 1KB æ—¶ä¼šç”¨åˆ°è¯¥é¡¹</span></span><br><span class="line">    large_client_header_buffers  <span class="number">4</span> <span class="number">128</span>k; <span class="comment"># æœ€å¤§æ•°é‡å’Œæœ€å¤§å®¢æˆ·ç«¯è¯·æ±‚å¤´çš„å¤§å°</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">##</span></span><br><span class="line">    <span class="comment"># SSL Settings</span></span><br><span class="line">    <span class="comment">##</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># å¯ç”¨æ‰€æœ‰åè®®ï¼Œç¦ç”¨å·²åºŸå¼ƒçš„ä¸å®‰å…¨çš„SSL 2 å’ŒSSL 3</span></span><br><span class="line">    ssl_protocols TLSv1 TLSv1<span class="number">.1</span> TLSv1<span class="number">.2</span>; <span class="comment"># Dropping SSLv3, ref: POODLE</span></span><br><span class="line">    <span class="comment"># è®©æœåŠ¡å™¨é€‰æ‹©è¦ä½¿ç”¨çš„ç®—æ³•å¥—ä»¶</span></span><br><span class="line">    ssl_prefer_server_ciphers <span class="keyword">on</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">##</span></span><br><span class="line">    <span class="comment"># Logging Settings</span></span><br><span class="line">    <span class="comment">##</span></span><br><span class="line"></span><br><span class="line">    access_log /var/<span class="built_in">log</span>/nginx/access.<span class="built_in">log</span>;  <span class="comment">## è®¿é—®æ—¥å¿—</span></span><br><span class="line">    error_log /var/<span class="built_in">log</span>/nginx/<span class="keyword">error</span>.<span class="built_in">log</span>;    <span class="comment">## é”™è¯¯æ—¥å¿—</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">##</span></span><br><span class="line">    <span class="comment"># Gzip Settings</span></span><br><span class="line">    <span class="comment">##</span></span><br><span class="line"></span><br><span class="line">    gzip <span class="keyword">on</span>;</span><br><span class="line">    gzip_disable <span class="string">"msie6"</span>;</span><br><span class="line">    <span class="built_in">text</span>/xml <span class="built_in">application</span>/xml <span class="built_in">application</span>/xml+rss <span class="built_in">text</span>/javascript;</span><br><span class="line"></span><br><span class="line">    <span class="comment">##</span></span><br><span class="line">    <span class="comment"># Virtual Host Configs</span></span><br><span class="line">    <span class="comment">##</span></span><br><span class="line"></span><br><span class="line">    include /etc/nginx/conf.d/*.conf;   <span class="comment"># è¿™ä¸ªæ–‡ä»¶å¤¹é»˜è®¤æ˜¯ç©ºçš„</span></span><br><span class="line">    include /etc/nginx/sites-enabled/*; <span class="comment"># å¼€å¯çš„ Server æœåŠ¡é…ç½®</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment"># mail æ¨¡å—</span></span><br><span class="line"><span class="comment">##</span></span><br><span class="line">        </span><br><span class="line">mail &#123;</span><br><span class="line">    <span class="comment"># See sample authentication script at:</span></span><br><span class="line">    <span class="comment"># http://wiki.nginx.org/ImapAuthenticateWithApachePhpScript</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># auth_http localhost/auth.php;</span></span><br><span class="line">    <span class="comment"># pop3_capabilities "TOP" "USER";</span></span><br><span class="line">    <span class="comment"># imap_capabilities "IMAP4rev1" "UIDPLUS";</span></span><br><span class="line"></span><br><span class="line">    server &#123;</span><br><span class="line">        listen     localhost:<span class="number">110</span>;</span><br><span class="line">        protocol   pop3;</span><br><span class="line">        proxy      <span class="keyword">on</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    server &#123;</span><br><span class="line">        listen     localhost:<span class="number">143</span>;</span><br><span class="line">        protocol   imap;</span><br><span class="line">        proxy      <span class="keyword">on</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ€»ç»“æ¥è¯´</strong><br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mainï¼šç”¨äºè¿›è¡Œnginxå…¨å±€ä¿¡æ¯çš„é…ç½®</span><br><span class="line">eventsï¼šç”¨äºnginxå·¥ä½œæ¨¡å¼çš„é…ç½®</span><br><span class="line"><span class="keyword">http</span>ï¼šç”¨äºè¿›è¡Œ<span class="keyword">http</span>åè®®ä¿¡æ¯çš„ä¸€äº›é…ç½®</span><br><span class="line">serverï¼šç”¨äºè¿›è¡ŒæœåŠ¡å™¨è®¿é—®ä¿¡æ¯çš„é…ç½®</span><br><span class="line">locationï¼šç”¨äºè¿›è¡Œè®¿é—®è·¯ç”±çš„é…ç½®</span><br><span class="line">upstreamï¼šç”¨äºè¿›è¡Œè´Ÿè½½å‡è¡¡çš„é…ç½®</span><br></pre></td></tr></table></figure></p><h1 id="ç›®å‰ä½¿ç”¨çš„ä¸€äº›nginxé…ç½®"><a href="#ç›®å‰ä½¿ç”¨çš„ä¸€äº›nginxé…ç½®" class="headerlink" title="ç›®å‰ä½¿ç”¨çš„ä¸€äº›nginxé…ç½®"></a>ç›®å‰ä½¿ç”¨çš„ä¸€äº›nginxé…ç½®</h1><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># For more information on configuration, see:</span></span><br><span class="line"><span class="comment">#   * Official English Documentation: http://nginx.org/en/docs/</span></span><br><span class="line"><span class="comment">#   * Official Russian Documentation: http://nginx.org/ru/docs/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#user nginx;</span></span><br><span class="line"><span class="attribute">worker_processes</span> <span class="number">2</span>;</span><br><span class="line"><span class="attribute">error_log</span> /var/log/nginx/error.log;</span><br><span class="line"><span class="attribute">pid</span> /run/nginx.pid;</span><br><span class="line"><span class="comment">#worker_rlimit_nofile 65535;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Load dynamic modules. See /usr/share/nginx/README.dynamic.</span></span><br><span class="line"><span class="comment">#include /usr/share/nginx/modules/*.conf;</span></span><br><span class="line"></span><br><span class="line"><span class="section">events</span> &#123;</span><br><span class="line">    <span class="attribute">worker_connections</span> <span class="number">1024</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    <span class="attribute">log_format</span>  main  <span class="string">'<span class="variable">$remote_addr</span> - <span class="variable">$remote_user</span> [<span class="variable">$time_local</span>] "<span class="variable">$request</span>" '</span></span><br><span class="line">                      <span class="string">'<span class="variable">$status</span> <span class="variable">$body_bytes_sent</span> "<span class="variable">$http_referer</span>" '</span></span><br><span class="line">                      <span class="string">'"<span class="variable">$http_user_agent</span>" "<span class="variable">$http_x_forwarded_for</span>"'</span>;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">access_log</span>  /var/log/nginx/access.log  main;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">sendfile</span>            <span class="literal">on</span>;</span><br><span class="line">    <span class="attribute">tcp_nopush</span>          <span class="literal">on</span>;</span><br><span class="line">    <span class="attribute">tcp_nodelay</span>         <span class="literal">on</span>;</span><br><span class="line">    <span class="attribute">keepalive_timeout</span>   <span class="number">65</span>;</span><br><span class="line">    <span class="attribute">types_hash_max_size</span> <span class="number">2048</span>;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">include</span>             /etc/nginx/mime.types;</span><br><span class="line">    <span class="attribute">default_type</span>        application/octet-stream;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Load modular configuration files from the /etc/nginx/conf.d directory.</span></span><br><span class="line">    <span class="comment"># See http://nginx.org/en/docs/ngx_core_module.html#include</span></span><br><span class="line">    <span class="comment"># for more information.</span></span><br><span class="line">    <span class="comment"># include /etc/nginx/conf.d/*.conf;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># è¿™æ®µæ˜¯åªhttpçš„æ—¶å€™è®¾ç½®çš„</span></span><br><span class="line">    <span class="comment">#***************************************************************************</span></span><br><span class="line">    <span class="comment">#server &#123;</span></span><br><span class="line">        <span class="comment">#listen       80;</span></span><br><span class="line">    <span class="comment">#server_name localhost;</span></span><br><span class="line"></span><br><span class="line">       <span class="comment"># root         /usr/share/nginx/html;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Load configuration files for the default server block.</span></span><br><span class="line">        <span class="comment">#include /etc/nginx/default.d/*.conf;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#location / &#123;</span></span><br><span class="line">        <span class="comment">#proxy_pass http://localhost:8080;</span></span><br><span class="line">        <span class="comment">#proxy_set_header Host $host;</span></span><br><span class="line">        <span class="comment">#proxy_set_header X-Real-IP $remote_addr;</span></span><br><span class="line">        <span class="comment">#proxy_set_header X-Scheme $scheme;</span></span><br><span class="line">        <span class="comment">#proxy_pass_header Server;</span></span><br><span class="line">        <span class="comment">#proxy_redirect on;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#&#125;</span></span><br><span class="line">    <span class="comment">#***************************************************************************</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># è¿™æ®µæ˜¯åªhttpsçš„æ—¶å€™è®¾ç½®çš„</span></span><br><span class="line">    <span class="comment">#***************************************************************************</span></span><br><span class="line">   <span class="section">server</span> &#123;</span><br><span class="line">        <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">        <span class="attribute">server_name</span>   XXX.XXXX.com;</span><br><span class="line">        <span class="attribute">return</span>        <span class="number">301</span> https://<span class="variable">$server_name</span><span class="variable">$request_uri</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="section">server</span> &#123;</span><br><span class="line">        <span class="attribute">listen</span> <span class="number">443</span>;</span><br><span class="line">        <span class="attribute">server_name</span>   XXX.XXXX.com;</span><br><span class="line">        <span class="attribute">ssl</span> <span class="literal">on</span>;</span><br><span class="line">        <span class="attribute">ssl_certificate</span>   cert/XXX.XXXX.pem;</span><br><span class="line">    <span class="attribute">ssl_certificate_key</span>  cert/XXX.XXXX.key;</span><br><span class="line">    <span class="attribute">ssl_session_timeout</span> <span class="number">5m</span>;</span><br><span class="line">    <span class="attribute">ssl_ciphers</span> ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;</span><br><span class="line">    <span class="attribute">ssl_protocols</span> TLSv1 TLSv1.<span class="number">1</span> TLSv1.<span class="number">2</span>;</span><br><span class="line">        <span class="attribute">ssl_prefer_server_ciphers</span> <span class="literal">on</span>;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">location</span> /&#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span>  http://localhost:8080;</span><br><span class="line">            <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">            <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">            <span class="attribute">proxy_set_header</span> Host <span class="variable">$http_host</span>;</span><br><span class="line">            <span class="attribute">proxy_set_header</span> X-NginX-Proxy <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">#****************************************************************************</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h1 id=&quot;nginxé…ç½®è¯¦è§£&quot;&gt;&lt;a href=&quot;#nginxé…ç½®è¯¦è§£&quot; class=&quot;headerlink&quot; title=&quot;nginxé…ç½®è¯¦è§£&quot;&gt;&lt;/a&gt;nginxé…ç½®è¯¦è§£&lt;/h1&gt;&lt;figure class=&quot;highlight ap
      
    
    </summary>
    
      <category term="Linux" scheme="http://yoursite.com/categories/Linux/"/>
    
    
      <category term="nginx" scheme="http://yoursite.com/tags/nginx/"/>
    
  </entry>
  
  <entry>
    <title>Nginx http å¼ºåˆ¶è·³è½¬ https åœ°å€</title>
    <link href="http://yoursite.com/2019/02/12/Nginx-http-%E5%BC%BA%E5%88%B6%E8%B7%B3%E8%BD%AC-https-%E5%9C%B0%E5%9D%80/"/>
    <id>http://yoursite.com/2019/02/12/Nginx-http-å¼ºåˆ¶è·³è½¬-https-åœ°å€/</id>
    <published>2019-02-12T10:18:42.000Z</published>
    <updated>2019-02-12T11:07:04.543Z</updated>
    
    <content type="html"><![CDATA[<p><code>https</code> è¶Šæ¥è¶Šæ™®åŠï¼Œä½†æ˜¯å½“ç”¨æˆ·è‡ªå·±è®¿é—® <code>http</code> æ˜¯æ§åˆ¶ä¸äº†çš„ï¼Œæ‰€ä»¥å¼ºåˆ¶è·³è½¬çš„åŠŸèƒ½å°±å¿…ä¸å¯å°‘äº†ï¼Œä¸‹é¢æ˜¯å‡ ç§å¼ºåˆ¶è·³è½¬çš„æ–¹æ³•<br><a id="more"></a></p><h1 id="return-301"><a href="#return-301" class="headerlink" title="return 301"></a>return 301</h1><p>è¿”å› 301 é”™è¯¯ï¼Œå¹¶è·³è½¬åˆ° https åœ°å€<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span>       <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span>  wxnacy.com;</span><br><span class="line">    <span class="attribute">return</span>       <span class="number">301</span> https://<span class="variable">$server_name</span><span class="variable">$request_uri</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h1 id="rewrite"><a href="#rewrite" class="headerlink" title="rewrite"></a>rewrite</h1><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">rewrite</span><span class="regexp"> ^(.*)$</span>  https://<span class="variable">$host</span><span class="variable">$1</span> <span class="literal">permanent</span>;</span><br></pre></td></tr></table></figure><p>ä¸¤è€…ç›¸æ¯”ï¼Œ301 çš„æ–¹å¼åœ¨æœç´¢å¼•æ“é€Ÿåº¦ä¸Šè¦å—ä¸€äº›ã€‚</p><h1 id="error-page-497"><a href="#error-page-497" class="headerlink" title="error_page 497"></a>error_page 497</h1><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">error </span>code 497: normal request was sent to HTTPS</span><br></pre></td></tr></table></figure><p>åœ¨ä¸€ä¸ªç«™ç‚¹åªå…è®¸ https è®¿é—®æ—¶, å¦‚æœä½¿ç”¨ http è®¿é—®ä¼šæŠ¥å‡º497é”™è¯¯ç <br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">error_page</span> <span class="number">497</span>  https://<span class="variable">$host</span><span class="variable">$uri</span>?<span class="variable">$args</span>;</span><br></pre></td></tr></table></figure></p><h1 id="index-html-refresh"><a href="#index-html-refresh" class="headerlink" title="index.html refresh"></a>index.html refresh</h1><p>ç™¾åº¦é¡µé¢ <a href="http://baidu.com" target="_blank" rel="noopener">http://baidu.com</a> è‡ªåŠ¨è·³è½¬ <a href="http://www.baidu.com" target="_blank" rel="noopener">http://www.baidu.com</a> æ˜¯çµæ´»åˆ©ç”¨äº† meta çš„åˆ·æ–°å±æ€§<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; $ curl http://baidu.com</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"refresh"</span> <span class="attr">content</span>=<span class="string">"0;url=http://www.baidu.com/"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">meta</span>&gt;</span>html&gt;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;code&gt;https&lt;/code&gt; è¶Šæ¥è¶Šæ™®åŠï¼Œä½†æ˜¯å½“ç”¨æˆ·è‡ªå·±è®¿é—® &lt;code&gt;http&lt;/code&gt; æ˜¯æ§åˆ¶ä¸äº†çš„ï¼Œæ‰€ä»¥å¼ºåˆ¶è·³è½¬çš„åŠŸèƒ½å°±å¿…ä¸å¯å°‘äº†ï¼Œä¸‹é¢æ˜¯å‡ ç§å¼ºåˆ¶è·³è½¬çš„æ–¹æ³•&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Linux" scheme="http://yoursite.com/categories/Linux/"/>
    
    
      <category term="nginx" scheme="http://yoursite.com/tags/nginx/"/>
    
  </entry>
  
  <entry>
    <title>nginxçš„åŸºæœ¬ä½¿ç”¨</title>
    <link href="http://yoursite.com/2019/02/12/nginx%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/"/>
    <id>http://yoursite.com/2019/02/12/nginxçš„åŸºæœ¬ä½¿ç”¨/</id>
    <published>2019-02-12T09:39:48.000Z</published>
    <updated>2019-02-12T11:07:07.791Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Nginxæ˜¯ä¸€æ¬¾è½»é‡çº§çš„ç½‘é¡µæœåŠ¡å™¨ã€åå‘ä»£ç†æœåŠ¡å™¨ã€‚ç›¸è¾ƒäºApacheã€lighttpdå…·æœ‰å æœ‰å†…å­˜å°‘ï¼Œç¨³å®šæ€§é«˜ç­‰ä¼˜åŠ¿ã€‚<strong>å®ƒæœ€å¸¸çš„ç”¨é€”æ˜¯æä¾›åå‘ä»£ç†æœåŠ¡ã€‚</strong>å…³äºnginxçš„å®‰è£…ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šæ•™ç¨‹ï¼Œå¤§å®¶éƒ½å¯ä»¥å»ç™¾åº¦ä¸ŠæŸ¥æ‰¾ã€‚è¿™ç¯‡æ–‡ç« æ˜¯æ¥è®°å½•nginxçš„åŸºæœ¬ä½¿ç”¨å’Œé…ç½®ä¸­é‡åˆ°çš„é”™è¯¯é—®é¢˜ã€‚<br><a id="more"></a></p></blockquote><h1 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h1><p><strong>ç¯å¢ƒé…ç½®</strong><br>å°†å‘½ä»¤è„šæœ¬è¶…é“¾æ¥åˆ°ç¯å¢ƒå˜é‡ä¸­<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ln -sf <span class="regexp">/usr/</span>local<span class="regexp">/nginx/</span>sbin<span class="regexp">/nginx /u</span>sr<span class="regexp">/local/</span>bin<span class="regexp">/nginx</span></span><br></pre></td></tr></table></figure></p><p><strong>å¯åŠ¨</strong><br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>nginx</span><br></pre></td></tr></table></figure></p><p><strong>åœæ­¢</strong><br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nginx -s [<span class="literal">start</span>, <span class="literal">stop</span>]</span><br></pre></td></tr></table></figure></p><p><strong>é‡æ–°å¯åŠ¨</strong><br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>nginx -s reopen</span><br></pre></td></tr></table></figure></p><p><strong>ä¿®æ”¹ nginx.conf åè¿›è¡Œæµ‹è¯•æ˜¯å¦æ²¡æœ‰è¯­æ³•é”™è¯¯</strong><br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>nginx -t</span><br></pre></td></tr></table></figure></p><p><strong>ç„¶åé‡æ–°åŠ è½½é…ç½®ï¼Œä½¿ä¹‹ç”Ÿæ•ˆ</strong><br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>nginx -s reload</span><br></pre></td></tr></table></figure></p><p><strong>ç³»ç»Ÿå‘½ä»¤çš„æ–¹å¼æ¥å¯åŠ¨åœæ­¢</strong><br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo systemctl [<span class="literal">start</span>, <span class="literal">stop</span>, restart] nginx</span><br></pre></td></tr></table></figure></p><p><strong>è®¾ç½®æ˜¯å¦è‡ªåŠ¨å¼€æœºè‡ªå¯åŠ¨</strong><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo systemctl [<span class="built_in">enable</span>, <span class="built_in">disable</span>] nginx</span></span><br></pre></td></tr></table></figure></p><h1 id="å¸¸è§é”™è¯¯"><a href="#å¸¸è§é”™è¯¯" class="headerlink" title="å¸¸è§é”™è¯¯"></a>å¸¸è§é”™è¯¯</h1><p>1ã€nginx: [error] invalid PID number â€œâ€ in â€œ/run/nginx.pidâ€<br><code>nginx -s reload</code> æŠ¥<code>nginx: [error] invalid PID number &quot;&quot; in &quot;/run/nginx.pid&quot;</code>é”™è¯¯<br>é‡åˆ°è¿™ä¸ªé”™è¯¯ï¼Œéœ€è¦å…ˆæ‰§è¡Œ<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nginx -c <span class="regexp">/etc/</span>nginx<span class="regexp">/nginx.conf</span></span><br></pre></td></tr></table></figure></p><p>nginx.confæ–‡ä»¶çš„è·¯å¾„å¯ä»¥ä»nginx -tçš„è¿”å›ä¸­æ‰¾åˆ°ã€‚<br>è¿™æ—¶å€™å¦‚ä½•æ²¡æœ‰æŠ¥é”™ï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥<code>nginx -s reload</code><br>å¦‚æœè¿˜é”™è¯¯,è¯·çœ‹ç¬¬äºŒä¸ªé—®é¢˜<br>2ã€nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use)<br>é”™è¯¯è¯¦æƒ…<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">nginx: [emerg] bind() <span class="keyword">to</span> 0.0.0.0:80 failed (98:<span class="built_in"> Address </span>already <span class="keyword">in</span> use)</span><br><span class="line">nginx: [emerg] bind() <span class="keyword">to</span> 0.0.0.0:80 failed (98:<span class="built_in"> Address </span>already <span class="keyword">in</span> use)</span><br><span class="line">nginx: [emerg] bind() <span class="keyword">to</span> 0.0.0.0:80 failed (98:<span class="built_in"> Address </span>already <span class="keyword">in</span> use)</span><br><span class="line">nginx: [emerg] bind() <span class="keyword">to</span> 0.0.0.0:80 failed (98:<span class="built_in"> Address </span>already <span class="keyword">in</span> use)</span><br><span class="line">nginx: [emerg] still could <span class="keyword">not</span> bind()</span><br></pre></td></tr></table></figure></p><p>é”™è¯¯æè¿°ï¼šåœ°å€å·²è¢«ä½¿ç”¨ã€‚å¯èƒ½nginxæœåŠ¡å¡æ­»äº†ï¼Œå¯¼è‡´ç«¯å£å ç”¨ã€‚<br>æŸ¥çœ‹nginxçš„è¿è¡Œæƒ…å†µ<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">ps</span> aux | <span class="keyword">grep</span> nginx</span><br></pre></td></tr></table></figure></p><p>ç»“æœ<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root     13332  0.0  0.0  56824  2796 ?        Ss   17:00   0:00 nginx: master process nginx -c /etc/nginx/nginx.conf</span><br><span class="line">nginx    13437  0.0  0.0  57360  3792 ?        S    17:09   0:00 nginx: worker process</span><br><span class="line">nginx    13438  0.0  0.0  57228  3776 ?        S    17:09   0:00 nginx: worker process</span><br><span class="line">root     13854  0.0  0.0 112676   992 pts/0    S+   18:09   0:00 grep <span class="attribute">--color</span>=auto <span class="attribute">--exclude-dir</span>=.bzr <span class="attribute">--exclude-dir</span>=CVS <span class="attribute">--exclude-dir</span>=.git <span class="attribute">--exclude-dir</span>=.hg <span class="attribute">--exclude-dir</span>=.svn nginx</span><br></pre></td></tr></table></figure></p><p>ä½¿ç”¨<code>kill</code>æŒ‡ä»¤åˆ é™¤è¿›ç¨‹<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ kill <span class="number">-9</span> <span class="number">13332</span> <span class="number">13437</span> <span class="number">13438</span></span><br></pre></td></tr></table></figure></p><p>ç„¶å<code>nginx -s reload</code>åˆ·æ–°<br>3ã€nginxç»‘å®šåŸŸåï¼Œå‘ç°ä½¿ç”¨åŸŸåè®¿é—®ä¸æˆåŠŸï¼Œç”¨ipè®¿é—®æˆåŠŸ<br>å‡ºç°è¿™ç§æƒ…å†µä¸€èˆ¬æ˜¯å› ä¸ºä½ çš„æœåŠ¡å™¨å®‰å…¨ç»„æ²¡æœ‰è®¾ç½®ç›¸åº”çš„ç«¯å£è®¿é—®ï¼Œæ¯”å¦‚<code>http</code>ï¼Œéœ€è¦è®¾ç½®<code>80</code>ç«¯å£å¯ä»¥è®¿é—®,<code>https</code>è®¾ç½®<code>443</code>ç«¯å£ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;Nginxæ˜¯ä¸€æ¬¾è½»é‡çº§çš„ç½‘é¡µæœåŠ¡å™¨ã€åå‘ä»£ç†æœåŠ¡å™¨ã€‚ç›¸è¾ƒäºApacheã€lighttpdå…·æœ‰å æœ‰å†…å­˜å°‘ï¼Œç¨³å®šæ€§é«˜ç­‰ä¼˜åŠ¿ã€‚&lt;strong&gt;å®ƒæœ€å¸¸çš„ç”¨é€”æ˜¯æä¾›åå‘ä»£ç†æœåŠ¡ã€‚&lt;/strong&gt;å…³äºnginxçš„å®‰è£…ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šæ•™ç¨‹ï¼Œå¤§å®¶éƒ½å¯ä»¥å»ç™¾åº¦ä¸ŠæŸ¥æ‰¾ã€‚è¿™ç¯‡æ–‡ç« æ˜¯æ¥è®°å½•nginxçš„åŸºæœ¬ä½¿ç”¨å’Œé…ç½®ä¸­é‡åˆ°çš„é”™è¯¯é—®é¢˜ã€‚&lt;br&gt;&lt;/p&gt;&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Linux" scheme="http://yoursite.com/categories/Linux/"/>
    
    
      <category term="nginx" scheme="http://yoursite.com/tags/nginx/"/>
    
  </entry>
  
  <entry>
    <title>å­¦ä¹ nginxé‡åˆ°çš„ä¸€äº›é—®é¢˜</title>
    <link href="http://yoursite.com/2019/01/15/%E5%AD%A6%E4%B9%A0nginx%E9%81%87%E5%88%B0%E7%9A%84%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98/"/>
    <id>http://yoursite.com/2019/01/15/å­¦ä¹ nginxé‡åˆ°çš„ä¸€äº›é—®é¢˜/</id>
    <published>2019-01-15T10:41:47.000Z</published>
    <updated>2019-01-15T10:45:36.022Z</updated>
    
    <content type="html"><![CDATA[<h3 id="nginx-æ‰¾ä¸åˆ°å®‰è£…åœ°å€"><a href="#nginx-æ‰¾ä¸åˆ°å®‰è£…åœ°å€" class="headerlink" title="nginx æ‰¾ä¸åˆ°å®‰è£…åœ°å€"></a>nginx æ‰¾ä¸åˆ°å®‰è£…åœ°å€</h3><p>ä»Šå¤©çœ‹åˆ°äº†nginx,æƒ³åˆ°æˆ‘åœ¨æœåŠ¡å™¨é‡Œé¢å®‰è£…äº†nginxï¼Œåªæ˜¯è¿˜æ²¡æœ‰ç”¨åˆ°ï¼Œæ‰€ä»¥æƒ³çœ‹ä¸‹å…¶å®‰è£…åœ°å€ï¼Œå´æ²¡æœ‰æ‰¾åˆ°ï¼Œåæ¥è°·æ­Œä¸‹ï¼Œå‘ç°ç”¨<code>nginx -t</code>å°±å¯ä»¥æ‰¾åˆ°nginx.confçš„æ–‡ä»¶ä½ç½®ï¼Œä»è€ŒçŸ¥é“nginxçš„å®‰è£…ä½ç½®ã€‚<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># nginx -t</span><br><span class="line">nginx: the configuration <span class="keyword">file</span> /etc/nginx/nginx.<span class="keyword">conf</span> <span class="keyword">syntax</span> <span class="keyword">is</span> ok</span><br><span class="line">nginx: configuration <span class="keyword">file</span> /etc/nginx/nginx.<span class="keyword">conf</span> test <span class="keyword">is</span> successful</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;nginx-æ‰¾ä¸åˆ°å®‰è£…åœ°å€&quot;&gt;&lt;a href=&quot;#nginx-æ‰¾ä¸åˆ°å®‰è£…åœ°å€&quot; class=&quot;headerlink&quot; title=&quot;nginx æ‰¾ä¸åˆ°å®‰è£…åœ°å€&quot;&gt;&lt;/a&gt;nginx æ‰¾ä¸åˆ°å®‰è£…åœ°å€&lt;/h3&gt;&lt;p&gt;ä»Šå¤©çœ‹åˆ°äº†nginx,æƒ³åˆ°æˆ‘åœ¨æœåŠ¡å™¨é‡Œé¢å®‰è£…äº†ngi
      
    
    </summary>
    
      <category term="Linux" scheme="http://yoursite.com/categories/Linux/"/>
    
    
      <category term="nginx" scheme="http://yoursite.com/tags/nginx/"/>
    
  </entry>
  
  <entry>
    <title>PythonåŸºç¡€ç³»åˆ—ä¹‹*argså’Œ**kwargsçš„è®¤è¯†</title>
    <link href="http://yoursite.com/2019/01/06/Python%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97%E4%B9%8B-args%E5%92%8C-kwargs/"/>
    <id>http://yoursite.com/2019/01/06/PythonåŸºç¡€ç³»åˆ—ä¹‹-argså’Œ-kwargs/</id>
    <published>2019-01-06T14:46:05.000Z</published>
    <updated>2019-01-06T15:02:47.347Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>*argså’Œ**kwargsè¿™ä¸¤ä¸ªå‚æ•°å’±ä»¬ç»å¸¸ç”¨åˆ°ï¼Œä»Šå¤©åœ¨å·©å›ºåŸºç¡€çš„æ—¶å€™ï¼Œçœ‹åˆ°äº†è¿™ä¸¤ä¸ªå‚æ•°ï¼Œåšäº†ä¸€ä¸‹å¯¹æ¯”ï¼Œæ‰€ä»¥è®°å½•ä¸€ä¸‹ã€‚</p></blockquote><h3 id="args"><a href="#args" class="headerlink" title="*args"></a>*args</h3><p>*argsè¿™ç§å†™æ³•ä»£è¡¨çš„æ˜¯ <strong>å…ƒç»„</strong>ï¼Œå°±æ¯”å¦‚æˆ‘ä¸Šé¢ä¸ºå•¥è¯´å®ƒä»¬æ˜¯å‚æ•°ï¼Œæ˜¯å› ä¸ºä»–ä»¬ç»å¸¸åœ¨å‡½æ•°çš„å‚æ•°ä¸­å‡ºç°ã€‚<br>ä¸‹é¢å’±ä»¬åœ¨ä¾‹å­ä¸­æ¥è¯´æ˜<br><a id="more"></a><br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">def getTupleParameter(x, *<span class="keyword">args</span>):</span><br><span class="line">    <span class="keyword">print</span>('x is &#123;&#125;'.<span class="keyword">format</span>(x)) </span><br><span class="line">    <span class="keyword">print</span>('<span class="keyword">args</span> is &#123;&#125;'.<span class="keyword">format</span>(<span class="keyword">args</span>))</span><br><span class="line">    <span class="keyword">print</span>('<span class="keyword">type</span> is &#123;&#125;'.<span class="keyword">format</span>(<span class="keyword">type</span>(<span class="keyword">args</span>)))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="keyword">args</span>:</span><br><span class="line">        <span class="keyword">print</span>('i is &#123;&#125;'.<span class="keyword">format</span>(i))</span><br><span class="line"></span><br><span class="line">getTupleParameter(1, 2, 3, 4, 5, 6, 7)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span>('*'*100)</span><br><span class="line">getTupleParameter(1)</span><br></pre></td></tr></table></figure></p><p><strong>ç»“æœ</strong><br><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">x <span class="keyword">is</span> <span class="number">1</span></span><br><span class="line">args <span class="keyword">is</span> (<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>)</span><br><span class="line"><span class="keyword">type</span> <span class="keyword">is</span> &lt;<span class="keyword">class</span> <span class="string">'tuple'</span>&gt;</span><br><span class="line">i <span class="keyword">is</span> <span class="number">2</span></span><br><span class="line">i <span class="keyword">is</span> <span class="number">3</span></span><br><span class="line">i <span class="keyword">is</span> <span class="number">4</span></span><br><span class="line">i <span class="keyword">is</span> <span class="number">5</span></span><br><span class="line">i <span class="keyword">is</span> <span class="number">6</span></span><br><span class="line">i <span class="keyword">is</span> <span class="number">7</span></span><br><span class="line">********************************************************************</span><br><span class="line">x <span class="keyword">is</span> <span class="number">1</span></span><br><span class="line">args <span class="keyword">is</span> ()</span><br><span class="line"><span class="keyword">type</span> <span class="keyword">is</span> &lt;<span class="keyword">class</span> <span class="string">'tuple'</span>&gt;</span><br></pre></td></tr></table></figure></p><h3 id="kwargs"><a href="#kwargs" class="headerlink" title="**kwargs"></a>**kwargs</h3><p>*kwargsè¿™ç§å†™æ³•ä»£è¡¨çš„æ˜¯ <strong>å­—å…¸</strong>ï¼Œä¸‹é¢å’±ä»¬åœ¨ä¾‹å­ä¸­æ¥è¯´æ˜<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">def getDictParameter(x, **kwargs):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'x is &#123;&#125;'</span>.<span class="built_in">format</span>(x))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'kwargs is &#123;&#125;'</span>.<span class="built_in">format</span>(kwargs))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'type is &#123;&#125;'</span>.<span class="built_in">format</span>(<span class="built_in">type</span>(kwargs)))</span><br><span class="line"></span><br><span class="line">getDictParameter(<span class="number">1</span>, a=<span class="number">1</span>, b=<span class="number">2</span>, c=<span class="number">3</span>)</span><br><span class="line">getDictParameter(<span class="number">1</span>)</span><br><span class="line">res = dict(</span><br><span class="line">    a=<span class="number">1</span>,</span><br><span class="line">    b=<span class="number">2</span>,</span><br><span class="line">    c=<span class="number">3</span></span><br><span class="line">)</span><br><span class="line">getDictParameter(<span class="number">1</span>, **res)</span><br></pre></td></tr></table></figure></p><p><strong>ç»“æœ</strong><br><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">x <span class="keyword">is</span> <span class="number">1</span></span><br><span class="line">kwargs <span class="keyword">is</span> &#123;<span class="string">'b'</span>: <span class="number">2</span>, <span class="string">'a'</span>: <span class="number">1</span>, <span class="string">'c'</span>: <span class="number">3</span>&#125;</span><br><span class="line"><span class="keyword">type</span> <span class="type">is </span>&lt;class <span class="symbol">'dict</span>'&gt;</span><br><span class="line">x <span class="keyword">is</span> <span class="number">1</span></span><br><span class="line">kwargs <span class="keyword">is</span> &#123;&#125;</span><br><span class="line"><span class="keyword">type</span> <span class="type">is </span>&lt;class <span class="symbol">'dict</span>'&gt;</span><br><span class="line">x <span class="keyword">is</span> <span class="number">1</span></span><br><span class="line">kwargs <span class="keyword">is</span> &#123;<span class="string">'b'</span>: <span class="number">2</span>, <span class="string">'a'</span>: <span class="number">1</span>, <span class="string">'c'</span>: <span class="number">3</span>&#125;</span><br><span class="line"><span class="keyword">type</span> <span class="type">is </span>&lt;class <span class="symbol">'dict</span>'&gt;</span><br></pre></td></tr></table></figure></p><h3 id="argså’Œ-kwargsçš„æ··åˆä½¿ç”¨"><a href="#argså’Œ-kwargsçš„æ··åˆä½¿ç”¨" class="headerlink" title="*argså’Œ**kwargsçš„æ··åˆä½¿ç”¨"></a>*argså’Œ**kwargsçš„æ··åˆä½¿ç”¨</h3><p>*argså’Œ**kwargsåœ¨ç¨‹åºä¸­ä¸€èµ·ä½¿ç”¨å¾ˆå¸¸è§<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">def getTupleAndDict(x, *args, **kwargs):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'x is &#123;&#125;'</span>.<span class="built_in">format</span>(x))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'kwargs is &#123;&#125;'</span>.<span class="built_in">format</span>(kwargs))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'args is &#123;&#125;'</span>.<span class="built_in">format</span>(args))</span><br><span class="line">getTupleAndDict(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, A=<span class="number">1</span>, B=<span class="number">2</span>, C=<span class="number">3</span>, D=<span class="number">4</span>)</span><br></pre></td></tr></table></figure></p><p><strong>ç»“æœ</strong><br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">x</span> <span class="keyword">is</span> <span class="number">1</span></span><br><span class="line">kwargs <span class="keyword">is</span> &#123;<span class="string">'D'</span>: <span class="number">4</span>, <span class="string">'C'</span>: <span class="number">3</span>, <span class="string">'A'</span>: <span class="number">1</span>, <span class="string">'B'</span>: <span class="number">2</span>&#125;</span><br><span class="line"><span class="keyword">args</span> <span class="keyword">is</span> (<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;*argså’Œ**kwargsè¿™ä¸¤ä¸ªå‚æ•°å’±ä»¬ç»å¸¸ç”¨åˆ°ï¼Œä»Šå¤©åœ¨å·©å›ºåŸºç¡€çš„æ—¶å€™ï¼Œçœ‹åˆ°äº†è¿™ä¸¤ä¸ªå‚æ•°ï¼Œåšäº†ä¸€ä¸‹å¯¹æ¯”ï¼Œæ‰€ä»¥è®°å½•ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;args&quot;&gt;&lt;a href=&quot;#args&quot; class=&quot;headerlink&quot; title=&quot;*args&quot;&gt;&lt;/a&gt;*args&lt;/h3&gt;&lt;p&gt;*argsè¿™ç§å†™æ³•ä»£è¡¨çš„æ˜¯ &lt;strong&gt;å…ƒç»„&lt;/strong&gt;ï¼Œå°±æ¯”å¦‚æˆ‘ä¸Šé¢ä¸ºå•¥è¯´å®ƒä»¬æ˜¯å‚æ•°ï¼Œæ˜¯å› ä¸ºä»–ä»¬ç»å¸¸åœ¨å‡½æ•°çš„å‚æ•°ä¸­å‡ºç°ã€‚&lt;br&gt;ä¸‹é¢å’±ä»¬åœ¨ä¾‹å­ä¸­æ¥è¯´æ˜&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Python" scheme="http://yoursite.com/categories/Python/"/>
    
    
  </entry>
  
  <entry>
    <title>Linux findå‘½ä»¤çš„ä½¿ç”¨</title>
    <link href="http://yoursite.com/2018/12/29/Linux-find%E5%91%BD%E4%BB%A4%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <id>http://yoursite.com/2018/12/29/Linux-findå‘½ä»¤çš„ä½¿ç”¨/</id>
    <published>2018-12-29T07:58:44.000Z</published>
    <updated>2018-12-29T09:03:06.500Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>findå‘½ä»¤æ˜¯æ ¹æ®æ–‡ä»¶çš„å±æ€§è¿›è¡ŒæŸ¥æ‰¾ï¼Œå¦‚æ–‡ä»¶åï¼Œæ–‡ä»¶å¤§å°ï¼Œæ‰€æœ‰è€…ï¼Œæ‰€å±ç»„ï¼Œæ˜¯å¦ä¸ºç©ºï¼Œè®¿é—®æ—¶é—´ï¼Œä¿®æ”¹æ—¶é—´ç­‰ã€‚ä»»ä½•ä½äºå‚æ•°ä¹‹å‰çš„å­—ç¬¦ä¸²éƒ½å°†è¢«è§†ä¸ºæ¬²æŸ¥æ‰¾çš„ç›®å½•åã€‚å¦‚æœä½¿ç”¨è¯¥å‘½ä»¤æ—¶ï¼Œä¸è®¾ç½®ä»»ä½•å‚æ•°ï¼Œåˆ™findå‘½ä»¤å°†åœ¨å½“å‰ç›®å½•ä¸‹æŸ¥æ‰¾å­ç›®å½•ä¸æ–‡ä»¶ã€‚å¹¶ä¸”å°†æŸ¥æ‰¾åˆ°çš„å­ç›®å½•å’Œæ–‡ä»¶å…¨éƒ¨è¿›è¡Œæ˜¾ç¤ºã€‚<br><a id="more"></a></p></blockquote><h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><blockquote><p>find åœ°å€ å‚æ•° </p></blockquote><h2 id="å‚æ•°"><a href="#å‚æ•°" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h2><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">find æ ¹æ®ä¸‹åˆ—è§„åˆ™åˆ¤æ–­ path å’Œ expressionï¼Œåœ¨å‘½ä»¤åˆ—ä¸Šç¬¬ä¸€ä¸ª - ( ) , ! ä¹‹å‰çš„éƒ¨ä»½ä¸º pathï¼Œä¹‹åçš„æ˜¯ expressionã€‚å¦‚æœ path æ˜¯ç©ºå­—ä¸²åˆ™ä½¿ç”¨ç›®å‰è·¯å¾„ï¼Œå¦‚æœ expression æ˜¯ç©ºå­—ä¸²åˆ™ä½¿ç”¨ -print ä¸ºé¢„è®¾ expressionã€‚</span><br><span class="line">expression ä¸­å¯ä½¿ç”¨çš„é€‰é¡¹æœ‰äºŒä¸‰åä¸ªä¹‹å¤šï¼Œåœ¨æ­¤åªä»‹ç»æœ€å¸¸ç”¨çš„éƒ¨ä»½ã€‚</span><br><span class="line">-mount, -<span class="string">xdev :</span> åªæ£€æŸ¥å’ŒæŒ‡å®šç›®å½•åœ¨åŒä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿä¸‹çš„æ–‡ä»¶ï¼Œé¿å…åˆ—å‡ºå…¶å®ƒæ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶</span><br><span class="line">-amin <span class="string">n :</span> åœ¨è¿‡å» n åˆ†é’Ÿå†…è¢«è¯»å–è¿‡</span><br><span class="line">-anewer <span class="string">file :</span> æ¯”æ–‡ä»¶ file æ›´æ™šè¢«è¯»å–è¿‡çš„æ–‡ä»¶</span><br><span class="line">-atime <span class="string">n :</span> åœ¨è¿‡å»nå¤©å†…è¢«è¯»å–è¿‡çš„æ–‡ä»¶</span><br><span class="line">-cmin <span class="string">n :</span> åœ¨è¿‡å» n åˆ†é’Ÿå†…è¢«ä¿®æ”¹è¿‡</span><br><span class="line">-cnewer <span class="string">file :</span>æ¯”æ–‡ä»¶ file æ›´æ–°çš„æ–‡ä»¶</span><br><span class="line">-ctime <span class="string">n :</span> åœ¨è¿‡å»nå¤©å†…è¢«ä¿®æ”¹è¿‡çš„æ–‡ä»¶</span><br><span class="line">-<span class="string">empty :</span> ç©ºçš„æ–‡ä»¶-gid n or -group <span class="string">name :</span> gid æ˜¯ n æˆ–æ˜¯ group åç§°æ˜¯ name</span><br><span class="line">-ipath p, -path <span class="string">p :</span> è·¯å¾„åç§°ç¬¦åˆ p çš„æ–‡ä»¶ï¼Œipath ä¼šå¿½ç•¥å¤§å°å†™</span><br><span class="line">-name name, -iname <span class="string">name :</span> æ–‡ä»¶åç§°ç¬¦åˆ name çš„æ–‡ä»¶ã€‚iname ä¼šå¿½ç•¥å¤§å°å†™</span><br><span class="line">-size <span class="string">n :</span> æ–‡ä»¶å¤§å° æ˜¯ n å•ä½ï¼Œb ä»£è¡¨ <span class="number">512</span> ä½å…ƒç»„çš„åŒºå—ï¼Œc è¡¨ç¤ºå­—å…ƒæ•°ï¼Œk è¡¨ç¤º kilo bytesï¼Œw æ˜¯äºŒä¸ªä½å…ƒç»„ã€‚-type <span class="string">c :</span> æ–‡ä»¶ç±»å‹æ˜¯ c çš„æ–‡ä»¶ã€‚</span><br><span class="line"><span class="string">d:</span> ç›®å½•</span><br><span class="line"><span class="string">c:</span> å­—å‹è£…ç½®æ–‡ä»¶</span><br><span class="line"><span class="string">b:</span> åŒºå—è£…ç½®æ–‡ä»¶</span><br><span class="line"><span class="string">p:</span> å…·åè´®åˆ—</span><br><span class="line"><span class="string">f:</span> ä¸€èˆ¬æ–‡ä»¶</span><br><span class="line"><span class="string">l:</span> ç¬¦å·è¿ç»“</span><br><span class="line"><span class="string">s:</span> socket</span><br></pre></td></tr></table></figure><h2 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h2><p>æŸ¥æ‰¾å½“å‰ç›®å½•åŠå…¶å­ç›®å½•ä¸‹çš„åå­—ä¸ºPodfileçš„æ–‡ä»¶<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="builtin-name">find</span> . -name Podfile</span><br></pre></td></tr></table></figure></p><p>æŸ¥æ‰¾etcç›®å½•ä¸‹åå­—ä¸ºæ‰€æœ‰å»¶ä¼¸æ¡£åæ˜¯ .c çš„æ–‡ä»¶åˆ—å‡ºæ¥<br><figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">find</span> /etc -<span class="built_in">name</span> <span class="string">'*.c'</span></span><br></pre></td></tr></table></figure></p><p>æŸ¥æ‰¾åœ¨ç³»ç»Ÿä¸­æœ€å10åˆ†é’Ÿè®¿é—®çš„æ–‡ä»¶<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="builtin-name">find</span> / -amin -10</span><br></pre></td></tr></table></figure></p><p>å°†ç›®å‰ç›®å½•åŠå…¶å­ç›®å½•ä¸‹æ‰€æœ‰æœ€è¿‘ 20 å¤©å†…æ›´æ–°è¿‡çš„æ–‡ä»¶åˆ—å‡º<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="builtin-name">find</span> . -ctime -20</span><br></pre></td></tr></table></figure></p><p>æŸ¥æ‰¾/var/logç›®å½•ä¸­æ›´æ”¹æ—¶é—´åœ¨7æ—¥ä»¥å‰çš„æ™®é€šæ–‡ä»¶ï¼Œå¹¶åœ¨åˆ é™¤ä¹‹å‰è¯¢é—®å®ƒä»¬<br><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">find</span> /<span class="built_in">var</span>/<span class="built_in">log</span> -<span class="built_in">type</span> f -mtime +<span class="number">7</span> -ok rm &#123;&#125; \;</span><br></pre></td></tr></table></figure></p><p>æŸ¥æ‰¾å‰ç›®å½•ä¸­æ–‡ä»¶å±ä¸»å…·æœ‰è¯»ã€å†™æƒé™ï¼Œå¹¶ä¸”æ–‡ä»¶æ‰€å±ç»„çš„ç”¨æˆ·å’Œå…¶ä»–ç”¨æˆ·å…·æœ‰è¯»æƒé™çš„æ–‡ä»¶<br><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">find</span> . -<span class="keyword">type</span> f -perm 644 -exec ls -l &#123;&#125; \;</span><br></pre></td></tr></table></figure></p><p>ä¸ºäº†æŸ¥æ‰¾ç³»ç»Ÿä¸­æ‰€æœ‰æ–‡ä»¶é•¿åº¦ä¸º0çš„æ™®é€šæ–‡ä»¶ï¼Œå¹¶åˆ—å‡ºå®ƒä»¬çš„å®Œæ•´è·¯å¾„<br><figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">find</span> / -<span class="built_in">type</span> f -<span class="built_in">size</span> <span class="number">0</span> -<span class="built_in">exec</span> ls -l &#123;&#125; \;</span><br></pre></td></tr></table></figure></p><p>å…¶ä»–çš„ä¾‹å­<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">find / -amin -<span class="number">10</span> ã€€ã€€<span class="comment"># æŸ¥æ‰¾åœ¨ç³»ç»Ÿä¸­æœ€å10åˆ†é’Ÿè®¿é—®çš„æ–‡ä»¶(access time)</span></span><br><span class="line">find / -atime -<span class="number">2</span>ã€€ã€€ <span class="comment"># æŸ¥æ‰¾åœ¨ç³»ç»Ÿä¸­æœ€å48å°æ—¶è®¿é—®çš„æ–‡ä»¶</span></span><br><span class="line">find / -empty ã€€ã€€<span class="comment"># æŸ¥æ‰¾åœ¨ç³»ç»Ÿä¸­ä¸ºç©ºçš„æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹</span></span><br><span class="line">find / -<span class="keyword">group</span> <span class="title">cat</span> ã€€ã€€<span class="comment"># æŸ¥æ‰¾åœ¨ç³»ç»Ÿä¸­å±äº groupä¸ºcatçš„æ–‡ä»¶</span></span><br><span class="line">find / -mmin -<span class="number">5</span> ã€€ã€€<span class="comment"># æŸ¥æ‰¾åœ¨ç³»ç»Ÿä¸­æœ€å5åˆ†é’Ÿé‡Œä¿®æ”¹è¿‡çš„æ–‡ä»¶(modify time)</span></span><br><span class="line">find / -mtime -<span class="number">1</span> ã€€ã€€<span class="comment">#æŸ¥æ‰¾åœ¨ç³»ç»Ÿä¸­æœ€å24å°æ—¶é‡Œä¿®æ”¹è¿‡çš„æ–‡ä»¶</span></span><br><span class="line">find / -<span class="keyword">user</span> <span class="title">fred</span> ã€€ã€€<span class="comment">#æŸ¥æ‰¾åœ¨ç³»ç»Ÿä¸­å±äºfredè¿™ä¸ªç”¨æˆ·çš„æ–‡ä»¶</span></span><br><span class="line">find / -size +<span class="number">10000</span>cã€€ã€€<span class="comment">#æŸ¥æ‰¾å‡ºå¤§äº10000000å­—èŠ‚çš„æ–‡ä»¶(c:å­—èŠ‚ï¼Œw:åŒå­—ï¼Œk:KBï¼ŒM:MBï¼ŒG:GB)</span></span><br><span class="line">find / -size -<span class="number">1000</span>k ã€€ã€€<span class="comment">#æŸ¥æ‰¾å‡ºå°äº1000KBçš„æ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="number">3</span>.ä½¿ç”¨æ··åˆæŸ¥æ‰¾æ–¹å¼æŸ¥æ‰¾æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">ã€€å‚æ•°æœ‰ï¼š ï¼ï¼Œ-<span class="keyword">and</span>(-a)ï¼Œ-<span class="keyword">or</span>(-o)ã€‚</span><br><span class="line">find /tmp -size +<span class="number">10000</span>c -<span class="keyword">and</span> -mtime +<span class="number">2</span> ã€€ã€€<span class="comment">#åœ¨/tmpç›®å½•ä¸‹æŸ¥æ‰¾å¤§äº10000å­—èŠ‚å¹¶åœ¨æœ€å2åˆ†é’Ÿå†…ä¿®æ”¹çš„æ–‡ä»¶</span></span><br><span class="line">find / -<span class="keyword">user</span> <span class="title">fred</span> -<span class="keyword">or</span> -<span class="keyword">user</span> <span class="title">george</span> ã€€ã€€<span class="comment">#åœ¨/ç›®å½•ä¸‹æŸ¥æ‰¾ç”¨æˆ·æ˜¯fredæˆ–è€…georgeçš„æ–‡ä»¶æ–‡ä»¶</span></span><br><span class="line">find /tmp ! -<span class="keyword">user</span> <span class="title">panda</span>ã€€ã€€<span class="comment">#åœ¨/tmpç›®å½•ä¸­æŸ¥æ‰¾æ‰€æœ‰ä¸å±äºpandaç”¨æˆ·çš„æ–‡ä»¶</span></span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;findå‘½ä»¤æ˜¯æ ¹æ®æ–‡ä»¶çš„å±æ€§è¿›è¡ŒæŸ¥æ‰¾ï¼Œå¦‚æ–‡ä»¶åï¼Œæ–‡ä»¶å¤§å°ï¼Œæ‰€æœ‰è€…ï¼Œæ‰€å±ç»„ï¼Œæ˜¯å¦ä¸ºç©ºï¼Œè®¿é—®æ—¶é—´ï¼Œä¿®æ”¹æ—¶é—´ç­‰ã€‚ä»»ä½•ä½äºå‚æ•°ä¹‹å‰çš„å­—ç¬¦ä¸²éƒ½å°†è¢«è§†ä¸ºæ¬²æŸ¥æ‰¾çš„ç›®å½•åã€‚å¦‚æœä½¿ç”¨è¯¥å‘½ä»¤æ—¶ï¼Œä¸è®¾ç½®ä»»ä½•å‚æ•°ï¼Œåˆ™findå‘½ä»¤å°†åœ¨å½“å‰ç›®å½•ä¸‹æŸ¥æ‰¾å­ç›®å½•ä¸æ–‡ä»¶ã€‚å¹¶ä¸”å°†æŸ¥æ‰¾åˆ°çš„å­ç›®å½•å’Œæ–‡ä»¶å…¨éƒ¨è¿›è¡Œæ˜¾ç¤ºã€‚&lt;br&gt;&lt;/p&gt;&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Linux" scheme="http://yoursite.com/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>2019å¹´è¯»ä¹¦è®¡åˆ’</title>
    <link href="http://yoursite.com/2018/12/29/%E6%9D%82%E8%B0%88/"/>
    <id>http://yoursite.com/2018/12/29/æ‚è°ˆ/</id>
    <published>2018-12-29T07:58:18.000Z</published>
    <updated>2019-02-13T02:17:39.414Z</updated>
    
    <content type="html"><![CDATA[<p>2018å¹´å¾ˆå¿«è¿›å…¥äº†å°¾å£°ï¼Œæƒ³æƒ³ä»Šå¹´ä¸åœ¨æƒ³è¿‡ç¢Œç¢Œæ— ä¸ºçš„äº‹æƒ…ï¼Œå¼€å§‹æœ‰äº†è‡ªå·±çš„è§„åˆ’ã€‚ä¸€æ–¹é¢å¯èƒ½æ˜¯å› ä¸ºæœ‰äº†å‹åŠ›ï¼Œå¦ä¸€æ–¹é¢æ„Ÿè§‰è‡ªå·±éœ€è¦æ›´å¤šçš„æˆé•¿ã€‚2018å¹´å®šçš„ä»»åŠ¡å®Œæˆåº¦å®Œæˆäº†70%ï¼Œè‡ªå·±æ„Ÿè§‰å®Œæˆçš„ä¸å¥½ã€‚éœ€è¦æ›´å¤šçš„æ¿€åŠ±ï¼Œæ›´å¤šçš„é­ç­–ã€‚åœ¨æœ€åçš„2018å¹´çš„å‡ å¤©äº†ï¼Œæƒ³ç€è‡ªå·±2019å¹´çš„è§„åˆ’ï¼Œè½å®åˆ°å®é™…è¿‡ç¨‹ä¸­ï¼Œä¸åœ¨åº¸åº¸ç¢Œç¢Œï¼Œç”¨è¿™è¾¹æ–‡ç« æ¥å†™ä¸‹è‡ªå·±çš„å¿ƒè·¯å†ç¨‹ã€‚åªå†™è‡ªå·±çš„2019å¹´æ‰€çœ‹çš„ä¹¦ç±</p><h3 id="æ‹“å±•ä¹¦ç±"><a href="#æ‹“å±•ä¹¦ç±" class="headerlink" title="æ‹“å±•ä¹¦ç±"></a>æ‹“å±•ä¹¦ç±</h3><p>è¯»è‡³å°‘12æœ¬ä¹¦ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªæœˆä¸€æœ¬ä¹¦ PS:ä»¥åå†è¡¥å……</p><ul><li>é£é—»æœ‰ä½ </li><li>è€¶è·¯æ’’å†·ä¸‰åƒå¹´</li><li>åŠ å°”æ–‡è¦ä¹‰(ä¸Š)</li><li>åŠ å°”æ–‡è¦ä¹‰(ä¸­)</li><li>åŠ å°”æ–‡è¦ä¹‰(ä¸‹)</li><li>ç©†æ–¯æ—çš„è‘¬ç¤¼</li></ul><h3 id="ä¸“ä¸šä¹¦ç±"><a href="#ä¸“ä¸šä¹¦ç±" class="headerlink" title="ä¸“ä¸šä¹¦ç±"></a>ä¸“ä¸šä¹¦ç±</h3><p>éšç€å·¥ä½œï¼Œå‘ç°è‡ªå·±éœ€è¦å­¦ä¹ çš„è¶Šæ¥è¶Šå¤šï¼Œæ‰€ä»¥ä»Šå¹´è‡³å°‘éœ€è¦çœ‹çš„ä¹¦ç±ã€‚PS:ä»¥åå†è¡¥å……</p><ul><li>è·Ÿç€è€é½å­¦python(æŒä¹‹ä»¥æ’ï¼Œæœ‰å§‹æœ‰ç»ˆ)</li><li>æ•°æ®ç»“æ„</li><li>pythonæ ¸å¿ƒç¼–ç¨‹</li><li>ç®—æ³•</li></ul><h3 id="åœ£ç»"><a href="#åœ£ç»" class="headerlink" title="åœ£ç»"></a>åœ£ç»</h3><p>æ€ä¹ˆéƒ½ä¸èƒ½æ²¡æœ‰è‡ªå·±çš„ä¿¡ä»°ï¼Œåœ£ç»ä¹Ÿæ˜¯éœ€è¦è¯»ä¸€é</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;2018å¹´å¾ˆå¿«è¿›å…¥äº†å°¾å£°ï¼Œæƒ³æƒ³ä»Šå¹´ä¸åœ¨æƒ³è¿‡ç¢Œç¢Œæ— ä¸ºçš„äº‹æƒ…ï¼Œå¼€å§‹æœ‰äº†è‡ªå·±çš„è§„åˆ’ã€‚ä¸€æ–¹é¢å¯èƒ½æ˜¯å› ä¸ºæœ‰äº†å‹åŠ›ï¼Œå¦ä¸€æ–¹é¢æ„Ÿè§‰è‡ªå·±éœ€è¦æ›´å¤šçš„æˆé•¿ã€‚2018å¹´å®šçš„ä»»åŠ¡å®Œæˆåº¦å®Œæˆäº†70%ï¼Œè‡ªå·±æ„Ÿè§‰å®Œæˆçš„ä¸å¥½ã€‚éœ€è¦æ›´å¤šçš„æ¿€åŠ±ï¼Œæ›´å¤šçš„é­ç­–ã€‚åœ¨æœ€åçš„2018å¹´çš„å‡ å¤©äº†ï¼Œæƒ³ç€è‡ªå·±2019å¹´çš„è§„åˆ’
      
    
    </summary>
    
      <category term="æ‚è®°" scheme="http://yoursite.com/categories/%E6%9D%82%E8%AE%B0/"/>
    
    
  </entry>
  
  <entry>
    <title>Supervisorç®¡ç†è¿›ç¨‹</title>
    <link href="http://yoursite.com/2018/12/26/Supervisor%E7%AE%A1%E7%90%86%E8%BF%9B%E7%A8%8B/"/>
    <id>http://yoursite.com/2018/12/26/Supervisorç®¡ç†è¿›ç¨‹/</id>
    <published>2018-12-26T07:27:04.000Z</published>
    <updated>2019-01-16T08:33:05.679Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Supervisor æ˜¯ä¸€ä¸ªç”¨ Python å†™çš„è¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„ç”¨æ¥å¯åŠ¨ã€é‡å¯ã€å…³é—­è¿›ç¨‹ï¼ˆä¸ä»…ä»…æ˜¯ Python è¿›ç¨‹ï¼‰ã€‚é™¤äº†å¯¹å•ä¸ªè¿›ç¨‹çš„æ§åˆ¶ï¼Œè¿˜å¯ä»¥åŒæ—¶å¯åŠ¨ã€å…³é—­å¤šä¸ªè¿›ç¨‹ï¼Œæ¯”å¦‚å¾ˆä¸å¹¸çš„æœåŠ¡å™¨å‡ºé—®é¢˜å¯¼è‡´æ‰€æœ‰åº”ç”¨ç¨‹åºéƒ½è¢«æ€æ­»ï¼Œæ­¤æ—¶å¯ä»¥ç”¨ Supervisor åŒæ—¶å¯åŠ¨æ‰€æœ‰åº”ç”¨ç¨‹åºè€Œä¸æ˜¯ä¸€ä¸ªä¸€ä¸ªåœ°æ•²å‘½ä»¤å¯åŠ¨ã€‚</p></blockquote><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>Supervisor å¯ä»¥è¿è¡Œåœ¨ Linuxã€Mac OS X ä¸Šã€‚å¦‚å‰æ‰€è¿°ï¼ŒSupervisor æ˜¯ Python ç¼–å†™çš„ï¼Œæ‰€ä»¥å®‰è£…èµ·æ¥ä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œå¯ä»¥ç›´æ¥ç”¨ pip å®‰è£…:<br><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pip <span class="keyword">install</span> supervisor</span><br></pre></td></tr></table></figure></p><p>å› ä¸ºsupervisorï¼Œåªèƒ½å®‰è£…åœ¨python2.Xä¸Šé¢ï¼Œç›®å‰å¼€å‘ç”¨çš„æ˜¯3.5.0ï¼Œæ‰€ä»¥è¿™é‡Œç”¨åˆ°äº†pyenvã€‚pyenvæ¥ç®¡ç†ç”¨python2.Xè¿˜æ˜¯python3.Xã€‚å­¦ä¹ pyenvè¯·ç‚¹é“¾æ¥ï¼š<a href="https://blog.gideondudu.com/2018/10/31/Mac%E4%B8%8Bpyenv%E4%B8%8Epyenv-virtualenv%E7%9A%84%E5%AE%89%E8%A3%85/" target="_blank" rel="noopener">pyenv</a></p><h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><blockquote><p>Supervisor ç›¸å½“å¼ºå¤§ï¼Œæä¾›äº†å¾ˆä¸°å¯Œçš„åŠŸèƒ½ï¼Œä¸è¿‡æˆ‘ä»¬å¯èƒ½åªéœ€è¦ç”¨åˆ°å…¶ä¸­ä¸€å°éƒ¨åˆ†ã€‚å®‰è£…å®Œæˆä¹‹åï¼Œå¯ä»¥ç¼–å†™é…ç½®æ–‡ä»¶ï¼Œæ¥æ»¡è¶³è‡ªå·±çš„éœ€æ±‚ã€‚ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬æŠŠé…ç½®åˆ†æˆä¸¤éƒ¨åˆ† Supervisorï¼ˆSupervisor æ˜¯ä¸€ä¸ª C/S æ¨¡å‹çš„ç¨‹åºï¼Œè¿™æ˜¯ server ç«¯ï¼Œå¯¹åº”çš„æœ‰ client ç«¯ï¼šsupervisorctlï¼‰å’Œåº”ç”¨ç¨‹åºï¼ˆå³æˆ‘ä»¬è¦ç®¡ç†çš„ç¨‹åºï¼‰</p></blockquote><p>é¦–å…ˆæ¥çœ‹ Supervisor çš„é…ç½®æ–‡ä»¶ã€‚å®‰è£…å®Œ Supervisor ä¹‹åï¼Œå¯ä»¥è¿è¡Œ echo_supervisord_conf å‘½ä»¤è¾“å‡ºé»˜è®¤çš„é…ç½®é¡¹ï¼Œä¹Ÿå¯ä»¥é‡å®šå‘åˆ°ä¸€ä¸ªé…ç½®æ–‡ä»¶é‡Œï¼š<br><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">echo</span>_supervisord_conf &gt; <span class="string">/etc/supervisord.conf</span></span><br></pre></td></tr></table></figure></p><p>å»é™¤é‡Œé¢å¤§éƒ¨åˆ†æ³¨é‡Šå’Œâ€œä¸ç›¸å…³â€çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆçœ‹è¿™äº›é…ç½®ï¼š<br><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">[unix_http_server]</span><br><span class="line">file=/tmp/supervisor.sock   ; UNIX socket æ–‡ä»¶ï¼Œsupervisorctl ä¼šä½¿ç”¨</span><br><span class="line">;chmod=0700                 ; socket æ–‡ä»¶çš„ modeï¼Œé»˜è®¤æ˜¯ 0700</span><br><span class="line"><span class="section">;chown=nobody:nogroup       ; socket æ–‡ä»¶çš„ ownerï¼Œæ ¼å¼ï¼š uid:gid</span></span><br><span class="line">;[inet_http_server]         ; HTTP æœåŠ¡å™¨ï¼Œæä¾› web ç®¡ç†ç•Œé¢</span><br><span class="line"><span class="section">;port=127.0.0.1:9001        ; Web ç®¡ç†åå°è¿è¡Œçš„ IP å’Œç«¯å£ï¼Œå¦‚æœå¼€æ”¾åˆ°å…¬ç½‘ï¼Œéœ€è¦æ³¨æ„å®‰å…¨æ€§</span></span><br><span class="line">;username=user              ; ç™»å½•ç®¡ç†åå°çš„ç”¨æˆ·å</span><br><span class="line">;password=123               ; ç™»å½•ç®¡ç†åå°çš„å¯†ç </span><br><span class="line">[supervisord]</span><br><span class="line">logfile=/tmp/supervisord.log ; æ—¥å¿—æ–‡ä»¶ï¼Œé»˜è®¤æ˜¯ $CWD/supervisord.log</span><br><span class="line">logfile_maxbytes=50MB        ; æ—¥å¿—æ–‡ä»¶å¤§å°ï¼Œè¶…å‡ºä¼š rotateï¼Œé»˜è®¤ 50MB</span><br><span class="line">logfile_backups=10           ; æ—¥å¿—æ–‡ä»¶ä¿ç•™å¤‡ä»½æ•°é‡é»˜è®¤ 10</span><br><span class="line">loglevel=info                ; æ—¥å¿—çº§åˆ«ï¼Œé»˜è®¤ infoï¼Œå…¶å®ƒ: debug,warn,trace</span><br><span class="line">pidfile=/tmp/supervisord.pid ; pid æ–‡ä»¶</span><br><span class="line">nodaemon=false               ; æ˜¯å¦åœ¨å‰å°å¯åŠ¨ï¼Œé»˜è®¤æ˜¯ falseï¼Œå³ä»¥ daemon çš„æ–¹å¼å¯åŠ¨</span><br><span class="line">minfds=1024                  ; å¯ä»¥æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦çš„æœ€å°å€¼ï¼Œé»˜è®¤ 1024</span><br><span class="line">minprocs=200                 ; å¯ä»¥æ‰“å¼€çš„è¿›ç¨‹æ•°çš„æœ€å°å€¼ï¼Œé»˜è®¤ 200</span><br><span class="line">; the below section must remain in the config file for RPC</span><br><span class="line">; (supervisorctl/web interface) to work, additional interfaces may be</span><br><span class="line">; added by defining them in separate rpcinterface: sections</span><br><span class="line"><span class="section">[rpcinterface:supervisor]</span></span><br><span class="line">supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface</span><br><span class="line">[supervisorctl]</span><br><span class="line">serverurl=unix:///tmp/supervisor.sock ; é€šè¿‡ UNIX socket è¿æ¥ supervisordï¼Œè·¯å¾„ä¸ unix_http_server éƒ¨åˆ†çš„ file ä¸€è‡´</span><br><span class="line"><span class="section">;serverurl=http://127.0.0.1:9001 ; é€šè¿‡ HTTP çš„æ–¹å¼è¿æ¥ supervisord</span></span><br><span class="line">; åŒ…å«å…¶ä»–çš„é…ç½®æ–‡ä»¶</span><br><span class="line">[<span class="keyword">include</span>]</span><br><span class="line">files = relative/directory/*.ini    ; å¯ä»¥æ˜¯ *.conf æˆ– *.ini</span><br></pre></td></tr></table></figure></p><p>æˆ‘ä»¬æŠŠä¸Šé¢è¿™éƒ¨åˆ†é…ç½®ä¿å­˜åˆ° /etc/supervisord.confï¼ˆæˆ–å…¶ä»–ä»»æ„æœ‰æƒé™è®¿é—®çš„æ–‡ä»¶ï¼‰ç„¶åå¯åŠ¨ supervisordï¼ˆé€šè¿‡ -c é€‰é¡¹æŒ‡å®šé…ç½®æ–‡ä»¶è·¯å¾„ï¼Œå¦‚æœä¸æŒ‡å®šä¼šæŒ‰ç…§è¿™ä¸ªé¡ºåºæŸ¥æ‰¾é…ç½®æ–‡ä»¶ï¼š$CWD/supervisord.conf, $CWD/etc/supervisord.conf, /etc/supervisord.confï¼‰<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">supervisord -c <span class="regexp">/etc/</span>supervisord.conf</span><br></pre></td></tr></table></figure></p><p>æŸ¥çœ‹ supervisord æ˜¯å¦åœ¨è¿è¡Œï¼š<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ps</span> aux | <span class="keyword">grep</span> supervisord</span><br></pre></td></tr></table></figure></p><h2 id="program-é…ç½®"><a href="#program-é…ç½®" class="headerlink" title="program é…ç½®"></a>program é…ç½®</h2><p>ä¸Šé¢æˆ‘ä»¬å·²ç»æŠŠ supervisrod è¿è¡Œèµ·æ¥äº†ï¼Œç°åœ¨å¯ä»¥æ·»åŠ æˆ‘ä»¬è¦ç®¡ç†çš„è¿›ç¨‹çš„é…ç½®æ–‡ä»¶ã€‚å¯ä»¥æŠŠæ‰€æœ‰é…ç½®é¡¹éƒ½å†™åˆ° supervisord.conf æ–‡ä»¶é‡Œï¼Œä½†å¹¶ä¸æ¨èè¿™æ ·åšï¼Œè€Œæ˜¯é€šè¿‡ include çš„æ–¹å¼æŠŠä¸åŒçš„ç¨‹åºï¼ˆç»„ï¼‰å†™åˆ°ä¸åŒçš„é…ç½®æ–‡ä»¶é‡Œã€‚<br>ä¸ºäº†ä¸¾ä¾‹ï¼Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ªç›®å½• /etc/supervisor/ ç”¨äºå­˜æ”¾è¿™äº›é…ç½®æ–‡ä»¶ï¼Œç›¸åº”çš„ï¼ŒæŠŠ /etc/supervisord.conf é‡Œ include éƒ¨åˆ†çš„çš„é…ç½®ä¿®æ”¹ä¸€ä¸‹ï¼š<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[include]</span></span><br><span class="line"><span class="attr">files</span> = /etc/supervisor/*.conf</span><br></pre></td></tr></table></figure></p><p>å‡è®¾æœ‰ä¸ªç”¨ Python å’Œ Flask æ¡†æ¶ç¼–å†™çš„ç”¨æˆ·ä¸­å¿ƒç³»ç»Ÿï¼Œå–å usercenterï¼Œç”¨ gunicorn åš web æœåŠ¡å™¨ã€‚é¡¹ç›®ä»£ç ä½äº /home/leon/projects/usercenterï¼Œgunicorn é…ç½®æ–‡ä»¶ä¸º gunicorn.pyï¼ŒWSGI callable æ˜¯ wsgi.py é‡Œçš„ app å±æ€§ã€‚æ‰€ä»¥ç›´æ¥åœ¨å‘½ä»¤è¡Œå¯åŠ¨çš„ï¼Œæ–¹å¼å¯èƒ½æ˜¯è¿™æ ·çš„ï¼š<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd <span class="regexp">/home/</span>leon<span class="regexp">/projects/</span>usercenter</span><br><span class="line">gunicorn -c gunicorn.py <span class="string">wsgi:</span>app</span><br></pre></td></tr></table></figure></p><p>ç°åœ¨ç¼–å†™ä¸€ä»½é…ç½®æ–‡ä»¶æ¥ç®¡ç†è¿™ä¸ªè¿›ç¨‹ï¼ˆéœ€è¦æ³¨æ„ï¼šç”¨ supervisord ç®¡ç†æ—¶ï¼Œgunicorn çš„ daemon é€‰é¡¹éœ€è¦è®¾ç½®ä¸º Falseï¼‰ï¼š<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[program:usercenter]</span></span><br><span class="line"><span class="attr">directory</span> = /home/leon/projects/usercenter ; ç¨‹åºçš„å¯åŠ¨ç›®å½•</span><br><span class="line"><span class="attr">command</span> = gunicorn -c gunicorn.py wsgi:app  ; å¯åŠ¨å‘½ä»¤ï¼Œå¯ä»¥çœ‹å‡ºä¸æ‰‹åŠ¨åœ¨å‘½ä»¤è¡Œå¯åŠ¨çš„å‘½ä»¤æ˜¯ä¸€æ ·çš„</span><br><span class="line"><span class="attr">autostart</span> = <span class="literal">true</span>     ; åœ¨ supervisord å¯åŠ¨çš„æ—¶å€™ä¹Ÿè‡ªåŠ¨å¯åŠ¨</span><br><span class="line"><span class="attr">startsecs</span> = <span class="number">5</span>        ; å¯åŠ¨ <span class="number">5</span> ç§’åæ²¡æœ‰å¼‚å¸¸é€€å‡ºï¼Œå°±å½“ä½œå·²ç»æ­£å¸¸å¯åŠ¨äº†</span><br><span class="line"><span class="attr">autorestart</span> = <span class="literal">true</span>   ; ç¨‹åºå¼‚å¸¸é€€å‡ºåè‡ªåŠ¨é‡å¯</span><br><span class="line"><span class="attr">startretries</span> = <span class="number">3</span>     ; å¯åŠ¨å¤±è´¥è‡ªåŠ¨é‡è¯•æ¬¡æ•°ï¼Œé»˜è®¤æ˜¯ <span class="number">3</span></span><br><span class="line"><span class="attr">user</span> = leon          ; ç”¨å“ªä¸ªç”¨æˆ·å¯åŠ¨</span><br><span class="line"><span class="attr">redirect_stderr</span> = <span class="literal">true</span>  ; æŠŠ stderr é‡å®šå‘åˆ° stdoutï¼Œé»˜è®¤ <span class="literal">false</span></span><br><span class="line"><span class="attr">stdout_logfile_maxbytes</span> = <span class="number">20</span>MB  ; stdout æ—¥å¿—æ–‡ä»¶å¤§å°ï¼Œé»˜è®¤ <span class="number">50</span>MB</span><br><span class="line"><span class="attr">stdout_logfile_backups</span> = <span class="number">20</span>     ; stdout æ—¥å¿—æ–‡ä»¶å¤‡ä»½æ•°</span><br><span class="line"><span class="comment">; stdout æ—¥å¿—æ–‡ä»¶ï¼Œéœ€è¦æ³¨æ„å½“æŒ‡å®šç›®å½•ä¸å­˜åœ¨æ—¶æ— æ³•æ­£å¸¸å¯åŠ¨ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨åˆ›å»ºç›®å½•ï¼ˆsupervisord ä¼šè‡ªåŠ¨åˆ›å»ºæ—¥å¿—æ–‡ä»¶ï¼‰</span></span><br><span class="line"><span class="attr">stdout_logfile</span> = /data/logs/usercenter_stdout.log</span><br><span class="line"><span class="comment">; å¯ä»¥é€šè¿‡ environment æ¥æ·»åŠ éœ€è¦çš„ç¯å¢ƒå˜é‡ï¼Œä¸€ç§å¸¸è§çš„ç”¨æ³•æ˜¯ä¿®æ”¹ PYTHONPATH</span></span><br><span class="line"><span class="comment">; environment=PYTHONPATH=$PYTHONPATH:/path/to/somewhere</span></span><br></pre></td></tr></table></figure></p><p>ä¸€ä»½é…ç½®æ–‡ä»¶è‡³å°‘éœ€è¦ä¸€ä¸ª [program:x] éƒ¨åˆ†çš„é…ç½®ï¼Œæ¥å‘Šè¯‰ supervisord éœ€è¦ç®¡ç†é‚£ä¸ªè¿›ç¨‹ã€‚[program:x] è¯­æ³•ä¸­çš„ x è¡¨ç¤º program nameï¼Œä¼šåœ¨å®¢æˆ·ç«¯ï¼ˆsupervisorctl æˆ– web ç•Œé¢ï¼‰æ˜¾ç¤ºï¼Œåœ¨ supervisorctl ä¸­é€šè¿‡è¿™ä¸ªå€¼æ¥å¯¹ç¨‹åºè¿›è¡Œ startã€restartã€stop ç­‰æ“ä½œ</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;Supervisor æ˜¯ä¸€ä¸ªç”¨ Python å†™çš„è¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„ç”¨æ¥å¯åŠ¨ã€é‡å¯ã€å…³é—­è¿›ç¨‹ï¼ˆä¸ä»…ä»…æ˜¯ Python è¿›ç¨‹ï¼‰ã€‚é™¤äº†å¯¹å•ä¸ªè¿›ç¨‹çš„æ§åˆ¶ï¼Œè¿˜å¯ä»¥åŒæ—¶å¯åŠ¨ã€å…³é—­å¤šä¸ªè¿›ç¨‹ï¼Œæ¯”å¦‚å¾ˆä¸å¹¸çš„æœåŠ¡å™¨å‡ºé—®é¢˜å¯¼è‡´æ‰€æœ‰åº”ç”¨ç¨‹åºéƒ½è¢«æ€æ­»ï¼Œæ­¤æ—¶å¯ä»¥ç”¨ 
      
    
    </summary>
    
      <category term="Linux" scheme="http://yoursite.com/categories/Linux/"/>
    
    
      <category term="Supervisor" scheme="http://yoursite.com/tags/Supervisor/"/>
    
  </entry>
  
  <entry>
    <title>pythonæ•°ç»„çš„ç›¸å…³çŸ¥è¯†</title>
    <link href="http://yoursite.com/2018/12/25/python%E6%95%B0%E7%BB%84%E4%BA%A4%E9%9B%86%E3%80%81%E5%B9%B6%E9%9B%86%E3%80%81%E5%B7%AE%E9%9B%86/"/>
    <id>http://yoursite.com/2018/12/25/pythonæ•°ç»„äº¤é›†ã€å¹¶é›†ã€å·®é›†/</id>
    <published>2018-12-25T02:43:28.000Z</published>
    <updated>2018-12-25T03:05:26.679Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æ•°ç»„æ˜¯åœ¨pythonä¸­å¾ˆå¸¸è§ï¼Œæ‰€ä»¥å…³äºæ•°ç»„çš„çŸ¥è¯†ç‚¹ä¹Ÿç›¸å½“é‡è¦ã€‚è¿™ç¯‡åšå®¢æ˜¯æŠŠå·¥ä½œä¸­ç”¨åˆ°çš„çŸ¥è¯†ç‚¹è®°å½•ä¸€ä¸‹ï¼ŒæŒç»­æ›´æ–°ä¸­</p></blockquote><a id="more"></a><p>1ã€<a href="#markdown-jiaoji">æ•°ç»„çš„äº¤é›†ã€å¹¶é›†ã€å·®é›†</a><br>2ã€<a href="#markdown-zhuanhuan">æ•°ç»„è½¬å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²è½¬æ•°ç»„</a></p><h2 id="æ•°ç»„çš„äº¤é›†ã€å¹¶é›†ã€å·®é›†"><a href="#æ•°ç»„çš„äº¤é›†ã€å¹¶é›†ã€å·®é›†" class="headerlink" title="æ•°ç»„çš„äº¤é›†ã€å¹¶é›†ã€å·®é›†"></a><a name="markdown-jiaoji"></a>æ•°ç»„çš„äº¤é›†ã€å¹¶é›†ã€å·®é›†</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = [1, 3, 65, 2, 7]</span><br><span class="line">b = [3, 2, 5, 4]</span><br><span class="line"><span class="builtin-name">print</span>(<span class="builtin-name">set</span>(a).intersection(<span class="builtin-name">set</span>(b))) # äº¤é›†</span><br><span class="line"><span class="builtin-name">print</span>(<span class="builtin-name">set</span>(a).union(<span class="builtin-name">set</span>(b))) # å¹¶é›†</span><br><span class="line"><span class="builtin-name">print</span>(<span class="builtin-name">set</span>(a).difference(<span class="builtin-name">set</span>(b))) # å·®é›†ï¼Œåœ¨aä¸­ä½†ä¸åœ¨bä¸­çš„å…ƒç´ </span><br><span class="line"><span class="builtin-name">print</span>(<span class="builtin-name">set</span>(b).difference(<span class="builtin-name">set</span>(a))) # å·®é›†ï¼Œåœ¨bä¸­ä½†ä¸åœ¨aä¸­çš„å…ƒç´ </span><br></pre></td></tr></table></figure><p>ç»“æœ<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">&#123;<span class="number">65</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">7</span>&#125;</span><br><span class="line">&#123;<span class="number">65</span>, <span class="number">1</span>, <span class="number">7</span>&#125;</span><br><span class="line">&#123;<span class="number">4</span>, <span class="number">5</span>&#125;</span><br></pre></td></tr></table></figure></p><h2 id="æ•°ç»„è½¬å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²è½¬æ•°ç»„"><a href="#æ•°ç»„è½¬å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²è½¬æ•°ç»„" class="headerlink" title="æ•°ç»„è½¬å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²è½¬æ•°ç»„"></a><a name="markdown-zhuanhuan"></a>æ•°ç»„è½¬å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²è½¬æ•°ç»„</h2><p><strong>å­—ç¬¦ä¸²è½¬æ•°ç»„</strong><br><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">str</span> = <span class="string">'1,2,3'</span></span><br><span class="line">arr = <span class="built_in">str</span>.<span class="built_in">split</span>(<span class="string">','</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"arr is &#123;&#125;"</span>.format(arr))</span><br></pre></td></tr></table></figure></p><p>ç»“æœ<br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr <span class="keyword">is</span> [<span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>]</span><br></pre></td></tr></table></figure></p><p><strong>æ•°ç»„è½¬å­—ç¬¦ä¸²</strong><br><figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ–¹æ³•1</span></span><br><span class="line">arr = [<span class="string">'a'</span>,<span class="string">'b'</span>]</span><br><span class="line">str1 = <span class="string">','</span>.<span class="keyword">join</span>(arr)</span><br><span class="line">print(<span class="string">'str1 is &#123;&#125;'</span>.<span class="keyword">format</span>(str1))</span><br><span class="line"><span class="comment">#æ–¹æ³•2</span></span><br><span class="line">arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">str2 = <span class="string">','</span>.<span class="keyword">join</span>(str(i) <span class="keyword">for</span> i in arr)</span><br><span class="line">print(<span class="string">'str2 is &#123;&#125;'</span>.<span class="keyword">format</span>(str2))</span><br></pre></td></tr></table></figure></p><p>ç»“æœ<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">str1 is <span class="selector-tag">a</span>,b</span><br><span class="line">str2 is <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span></span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;æ•°ç»„æ˜¯åœ¨pythonä¸­å¾ˆå¸¸è§ï¼Œæ‰€ä»¥å…³äºæ•°ç»„çš„çŸ¥è¯†ç‚¹ä¹Ÿç›¸å½“é‡è¦ã€‚è¿™ç¯‡åšå®¢æ˜¯æŠŠå·¥ä½œä¸­ç”¨åˆ°çš„çŸ¥è¯†ç‚¹è®°å½•ä¸€ä¸‹ï¼ŒæŒç»­æ›´æ–°ä¸­&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Python" scheme="http://yoursite.com/categories/Python/"/>
    
    
  </entry>
  
  <entry>
    <title>Flask-OAuth urlparseé”™è¯¯</title>
    <link href="http://yoursite.com/2018/12/13/Flask-OAuth-urlparse%E9%94%99%E8%AF%AF/"/>
    <id>http://yoursite.com/2018/12/13/Flask-OAuth-urlparseé”™è¯¯/</id>
    <published>2018-12-13T07:52:27.000Z</published>
    <updated>2018-12-13T07:58:38.402Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘ç”¨åˆ°äº†Flash-OAuthçš„ä¸‰æ–¹åº“ï¼Œä¸€è¿è¡Œï¼Œé”™è¯¯<br><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  <span class="built_in">File</span> <span class="string">"/Users/FQY/Desktop/bm_blog/blog/extensions.py"</span>, <span class="built_in">line</span> <span class="number">10</span>, in &lt;<span class="keyword">module</span>&gt;</span><br><span class="line">    from flask_oauth <span class="keyword">import</span> OAuth</span><br><span class="line">  <span class="built_in">File</span> <span class="string">"/Users/FQY/env350/lib/python3.5/site-packages/flask_oauth.py"</span>, <span class="built_in">line</span> <span class="number">13</span>, in &lt;<span class="keyword">module</span>&gt;</span><br><span class="line">    from urlparse <span class="keyword">import</span> parse</span><br><span class="line">ImportError: No <span class="keyword">module</span> named <span class="string">'urlparse'</span></span><br></pre></td></tr></table></figure></p><p>å…ˆè¯´æ˜ä¸‹æˆ‘ç”¨çš„pythonç¯å¢ƒæ˜¯<code>3.5.0</code>,ç™¾åº¦ä¸‹è¯´æ˜¯<code>from urlparse import urljoin</code> æ˜¯2.0çš„pythonç”¨æ³•ï¼Œ3.0çš„pythonç”¨æ³•å·²ç»urlparseå·²ç»è¢«é‡æ–°è®¾ç½®,æ‰€ä»¥è¿›å…¥ä¸‰æ–¹åº“é‡Œé¢æ”¹ä¸‹å°±å¯ä»¥äº†ã€‚<br>è¿›å…¥flask_oauth.pyæ–‡ä»¶ä¸­è¿›è¡Œä¿®æ”¹<br><strong>åŸä»£ç </strong><br><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> httplib2</span><br><span class="line"><span class="title">from</span> functools <span class="keyword">import</span> wraps</span><br><span class="line"><span class="title">from</span> urlparse <span class="keyword">import</span> urljoin</span><br><span class="line"><span class="title">from</span> flask <span class="keyword">import</span> request, session, json, redirect, Response</span><br><span class="line"><span class="title">from</span> werkzeug <span class="keyword">import</span> url_decode, url_encode, url_quote, \</span><br><span class="line">     parse_options_header, <span class="type">Headers</span></span><br><span class="line"><span class="keyword">import</span> oauth2</span><br></pre></td></tr></table></figure></p><p><strong>ä¿®æ”¹ä»¥åçš„ä»£ç </strong><br><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> httplib2</span><br><span class="line"><span class="title">from</span> functools <span class="keyword">import</span> wraps</span><br><span class="line"><span class="title">from</span> urllib.parse <span class="keyword">import</span> urljoin</span><br><span class="line"><span class="title">from</span> flask <span class="keyword">import</span> request, session, json, redirect, Response</span><br><span class="line"><span class="title">from</span> werkzeug <span class="keyword">import</span> url_decode, url_encode, url_quote, \</span><br><span class="line">     parse_options_header, <span class="type">Headers</span></span><br><span class="line"><span class="keyword">import</span> oauth2</span><br></pre></td></tr></table></figure></p><p>è¿™æ—¶å€™åœ¨è¿è¡Œå°±å¯ä»¥äº†ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æœ€è¿‘ç”¨åˆ°äº†Flash-OAuthçš„ä¸‰æ–¹åº“ï¼Œä¸€è¿è¡Œï¼Œé”™è¯¯&lt;br&gt;&lt;figure class=&quot;highlight arduino&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span 
      
    
    </summary>
    
      <category term="Python" scheme="http://yoursite.com/categories/Python/"/>
    
    
  </entry>
  
  <entry>
    <title>Linux tree:ç›®å½•ç»“æ„ä»¥æ ‘å½¢æ˜¾ç¤º</title>
    <link href="http://yoursite.com/2018/12/12/%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%E4%BB%A5%E6%A0%91%E5%BD%A2%E6%98%BE%E7%A4%BA/"/>
    <id>http://yoursite.com/2018/12/12/ç›®å½•ç»“æ„ä»¥æ ‘å½¢æ˜¾ç¤º/</id>
    <published>2018-12-12T06:51:20.000Z</published>
    <updated>2018-12-12T06:58:07.918Z</updated>
    
    <content type="html"><![CDATA[<p>æœ‰æ—¶å€™çœ‹åˆ°åˆ«äººçš„ç›®å½•ç»“æ„æ˜¯ä»¥æ ‘å½¢æ˜¾ç¤ºï¼Œçœ‹åˆ°ä»¥åæ„Ÿè§‰å¾ˆé…·ï¼Œæ‰€ä»¥è‡ªå·±å°±googleäº†ä¸‹ï¼Œå‘ç°äº†å¾ˆç®€å•ã€‚</p><p><strong>å®ä¾‹</strong><br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">â•­â”€FQY@bogon ~/Desktop/hello</span><br><span class="line">â•°â”€$ tree </span><br><span class="line">.</span><br><span class="line">â”œâ”€â”€ dong.txt</span><br><span class="line">â”œâ”€â”€ dong_s<span class="selector-class">.txt</span> -&gt; dong.txt</span><br><span class="line">â”œâ”€â”€ hell</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ hell</span><br><span class="line">â”‚Â Â  â”‚Â Â  â””â”€â”€ hello</span><br><span class="line">â”‚Â Â  â””â”€â”€ hello</span><br><span class="line">â”œâ”€â”€ hello</span><br><span class="line">â”œâ”€â”€ hello1</span><br><span class="line">â”œâ”€â”€ hello_s -&gt; hello</span><br><span class="line">â””â”€â”€ tmd.rtf</span><br><span class="line"></span><br><span class="line"><span class="number">2</span> directories, <span class="number">8</span> files</span><br></pre></td></tr></table></figure></p><p>å…·ä½“æ›´å¤šçš„å…³äºtreeçš„æŒ‡ä»¤ï¼ŒåæœŸåœ¨è¡¥å……</p><p>æœªå®Œæ¥ç»­ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æœ‰æ—¶å€™çœ‹åˆ°åˆ«äººçš„ç›®å½•ç»“æ„æ˜¯ä»¥æ ‘å½¢æ˜¾ç¤ºï¼Œçœ‹åˆ°ä»¥åæ„Ÿè§‰å¾ˆé…·ï¼Œæ‰€ä»¥è‡ªå·±å°±googleäº†ä¸‹ï¼Œå‘ç°äº†å¾ˆç®€å•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å®ä¾‹&lt;/strong&gt;&lt;br&gt;&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gu
      
    
    </summary>
    
      <category term="Linux" scheme="http://yoursite.com/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>Linux fileå‘½ä»¤:æŸ¥çœ‹æ–‡ä»¶ä¿¡æ¯æˆ–ç±»å‹</title>
    <link href="http://yoursite.com/2018/12/11/Linux-file%E5%91%BD%E4%BB%A4-%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E4%BF%A1%E6%81%AF%E6%88%96%E7%B1%BB%E5%9E%8B/"/>
    <id>http://yoursite.com/2018/12/11/Linux-fileå‘½ä»¤-æŸ¥çœ‹æ–‡ä»¶ä¿¡æ¯æˆ–ç±»å‹/</id>
    <published>2018-12-11T08:32:25.000Z</published>
    <updated>2018-12-11T09:28:32.471Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Linux fileå‘½ä»¤ç”¨äºè¾¨è¯†æ–‡ä»¶ç±»å‹,é€šè¿‡fileæŒ‡ä»¤ï¼Œæˆ‘ä»¬å¾—ä»¥è¾¨è¯†è¯¥æ–‡ä»¶çš„ç±»å‹ã€‚</p></blockquote><h3 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><blockquote><p>file [-bcLvz][-f &lt;åç§°æ–‡ä»¶&gt;][-m &lt;é­”æ³•æ•°å­—æ–‡ä»¶&gt;â€¦][æ–‡ä»¶æˆ–ç›®å½•â€¦]<br><strong>å‚æ•°</strong></p><ul><li>-b ã€€åˆ—å‡ºè¾¨è¯†ç»“æœæ—¶ï¼Œä¸æ˜¾ç¤ºæ–‡ä»¶åç§°ã€‚</li><li>-c ã€€è¯¦ç»†æ˜¾ç¤ºæŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ï¼Œä¾¿äºæ’é”™æˆ–åˆ†æç¨‹åºæ‰§è¡Œçš„æƒ…å½¢ã€‚</li><li>-f&lt;åç§°æ–‡ä»¶&gt; ã€€æŒ‡å®šåç§°æ–‡ä»¶ï¼Œå…¶å†…å®¹æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶åç§°æ—¶ï¼Œè®©fileä¾åºè¾¨è¯†è¿™äº›æ–‡ä»¶ï¼Œæ ¼å¼ä¸ºæ¯åˆ—ä¸€ä¸ªæ–‡ä»¶åç§°ã€‚</li><li>-L ã€€ç›´æ¥æ˜¾ç¤ºç¬¦å·è¿æ¥æ‰€æŒ‡å‘çš„æ–‡ä»¶çš„ç±»åˆ«ã€‚</li><li>-m&lt;é­”æ³•æ•°å­—æ–‡ä»¶&gt; ã€€æŒ‡å®šé­”æ³•æ•°å­—æ–‡ä»¶ã€‚</li><li>-v ã€€æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ã€‚</li><li>-z ã€€å°è¯•å»è§£è¯»å‹ç¼©æ–‡ä»¶çš„å†…å®¹ (æ”¯æŒgzipç±»å‹)ã€‚</li><li>[æ–‡ä»¶æˆ–ç›®å½•â€¦]è¦ç¡®å®šç±»å‹çš„æ–‡ä»¶åˆ—è¡¨ï¼Œå¤šä¸ªæ–‡ä»¶ä¹‹é—´ä½¿ç”¨ç©ºæ ¼åˆ†å¼€ï¼Œå¯ä»¥ä½¿ç”¨shellé€šé…ç¬¦åŒ¹é…å¤šä¸ªæ–‡ä»¶</li></ul></blockquote><h3 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h3><h5 id="æŸ¥çœ‹æ–‡ä»¶ç±»å‹"><a href="#æŸ¥çœ‹æ–‡ä»¶ç±»å‹" class="headerlink" title="æŸ¥çœ‹æ–‡ä»¶ç±»å‹"></a>æŸ¥çœ‹æ–‡ä»¶ç±»å‹</h5><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[root@hardwareupdate linux_test]</span># <span class="selector-tag">file</span> <span class="selector-tag">hello</span><span class="selector-class">.txt</span></span><br><span class="line"><span class="selector-tag">hello</span><span class="selector-class">.txt</span>: <span class="selector-tag">UTF-8</span> <span class="selector-tag">Unicode</span> <span class="selector-tag">text</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ä¸å¸¦ä»»ä½•é€‰é¡¹çš„ file å‘½ä»¤ï¼Œå³å¯æŸ¥çœ‹æŒ‡å®šæ–‡ä»¶çš„ç±»å‹ä¿¡æ¯ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­å¯ä»¥çœ‹å‡º poetry.txt çš„æ–‡ä»¶ç±»å‹ä¸º textï¼Œç¼–ç æ ¼å¼ä¸º UTF-8ã€‚</p><p>ä½¿ç”¨<code>-b</code>å°±åªæ˜¾ç¤ºç¼–ç å’Œæ–‡ä»¶ç±»å‹ï¼Œä¸æ˜¾ç¤ºæ–‡ä»¶å<br><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@hardwareupdate linux_test]# <span class="keyword">file</span> -b hello.txt</span><br><span class="line">UTF<span class="number">-8</span> Unicode <span class="keyword">text</span></span><br></pre></td></tr></table></figure></p><p>ä½¿ç”¨<code>-i</code>ï¼Œå’±ä»¬èƒ½çœ‹å‡ºä»€ä¹ˆ?<br><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@hardwareupdate linux_test]# <span class="keyword">file</span> -i hello.txt</span><br><span class="line">hello.txt: <span class="keyword">text</span>/plain; charset=utf<span class="number">-8</span></span><br></pre></td></tr></table></figure></p><p><strong>å¸¸è§çš„æ–‡ä»¶ç±»å‹ï¼š</strong></p><ul><li>text/plainï¼šæ™®é€šæ–‡æœ¬ã€‚</li><li>text/htmlï¼šHTMLæ–‡æœ¬ã€‚</li><li>application/pdfï¼šPDFæ–‡æ¡£ã€‚</li><li>application/mswordï¼šWordæ–‡æ¡£ã€‚</li><li>image/pngï¼šPNGå›¾ç‰‡ã€‚</li><li>mage/jpegï¼šJPEGå›¾ç‰‡ã€‚</li><li>application/x-tarï¼šTARæ–‡ä»¶ã€‚</li><li>application/x-gzipï¼šGZIPæ–‡ä»¶</li></ul><h5 id="æŒ‰ç…§æ¸…å•å»å·¥ä½œ"><a href="#æŒ‰ç…§æ¸…å•å»å·¥ä½œ" class="headerlink" title="æŒ‰ç…§æ¸…å•å»å·¥ä½œ"></a>æŒ‰ç…§æ¸…å•å»å·¥ä½œ</h5><p>å¦‚æœæˆ‘ä»¬éœ€è¦ç”¨ file å‘½ä»¤æŸ¥çœ‹å¤§é‡æ–‡ä»¶çš„ç±»å‹ä¿¡æ¯ï¼Œæ°å¥½è¿™äº›æ–‡ä»¶çš„åç§°éƒ½è¢«å­˜å‚¨åœ¨äº†ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ä¸­ï¼Œé‚£ä¹ˆ-fé€‰é¡¹å°±æ´¾ä¸Šç”¨åœºäº†ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡-fé€‰é¡¹æ¥æŒ‡å®šè¿™ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œfile å‘½ä»¤å°±ä¼šä¹–ä¹–åœ°å»é€ä¸ªæŸ¥çœ‹æ¯ä¸€ä¸ªæ–‡ä»¶çš„ç±»å‹ä¿¡æ¯ï¼Œç¤ºä¾‹å¦‚ä¸‹:<br><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#æ–‡ä»¶ä¸­å«æœ‰ä¸‰ä¸ªå¾…æŸ¥æ–‡ä»¶, æˆ‘ä»¬æ•…æ„è®¾ç½®äº†ä¸€ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶, ä½äºæœ€åä¸€ä¸ª</span></span><br><span class="line">[roc@roclinux ~]$ cat poetry_list.txt</span><br><span class="line">/root/book/poetry.txt</span><br><span class="line">/root/book/poetry_s.txt</span><br><span class="line"><span class="literal">Nothing</span>.txt</span><br><span class="line"> </span><br><span class="line"><span class="meta">#ä½¿ç”¨-fé€‰é¡¹æ‰§è¡Œfileå‘½ä»¤</span></span><br><span class="line">[roc@roclinux ~]$ file -f poetry_list.txt</span><br><span class="line">/root/book/poetry.txt:   ASCII <span class="keyword">text</span></span><br><span class="line">/root/book/poetry_s.txt: symbolic link <span class="keyword">to</span> `poetry.txt<span class="comment">'</span></span><br><span class="line"><span class="literal">Nothing</span>.txt: <span class="keyword">ERROR</span>: cannot open `<span class="literal">Nothing</span>.txt <span class="comment">' (No such file or directory)</span></span><br></pre></td></tr></table></figure></p><p>å…¶ä»–çš„å„ç§æŒ‡ä»¤ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥å»å°è¯•ï¼Œæ¯”å¦‚<code>-L</code>ï¼Œå½“ç”¨è½¯é“¾æ¥çš„æ—¶å€™ä¸ä¼šç›´æ¥è¿”å›æ–‡ä»¶ç±»å‹ï¼Œè€Œæ˜¯è¿”å›çš„æ˜¯<code>symbolic link to XXX</code>ï¼Œæ‰€ä»¥åŠ <code>-L</code>å°±å¯ä»¥çŸ¥é“å®ƒæ˜¯å“ªä¸ªç±»å‹äº†ã€‚</p><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><p><a href="http://c.biancheng.net/linux/file.html" target="_blank" rel="noopener">fileå‘½ä»¤_Linux fileå‘½ä»¤ï¼šæŸ¥çœ‹æ–‡ä»¶ä¿¡æ¯æˆ–ç±»å‹</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;Linux fileå‘½ä»¤ç”¨äºè¾¨è¯†æ–‡ä»¶ç±»å‹,é€šè¿‡fileæŒ‡ä»¤ï¼Œæˆ‘ä»¬å¾—ä»¥è¾¨è¯†è¯¥æ–‡ä»¶çš„ç±»å‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;è¯­æ³•&quot;&gt;&lt;a href=&quot;#è¯­æ³•&quot; class=&quot;headerlink&quot; title=&quot;è¯­æ³•&quot;&gt;&lt;/a&gt;è¯­æ³•
      
    
    </summary>
    
      <category term="Linux" scheme="http://yoursite.com/categories/Linux/"/>
    
    
  </entry>
  
</feed>
