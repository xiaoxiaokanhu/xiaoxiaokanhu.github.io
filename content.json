[{"title":"ssl.SSLError: [SSL: TLSV1_ALERT_PROTOCOL_VERSION] tlsv1 alert protocol versioné”™è¯¯","date":"2019-02-27T10:29:56.000Z","path":"2019/02/27/ssl-SSLError-SSL-TLSV1-ALERT-PROTOCOL-VERSION-tlsv1-alert-protocol-versioné”™è¯¯/","text":"ä»Šå¤©åœ¨å†™ä¸€ä¸ªdemoçš„æ—¶å€™ï¼ŒæŠ¥äº†è¿™ä¸ªé”™è¯¯ã€‚ä»£ç å¦‚ä¸‹:12345import requestsr = requests.get(\"https://github.com/favicon.ico\")with open('favicon.ico', 'wb') as f: f.write(r.content) è¿è¡ŒæŠ¥é”™ï¼Œé”™è¯¯æ¶ˆæ¯å¦‚ä¸‹:1234567891011121314151617181920Traceback (most recent call last): File \"/Users/FQY/env350/lib/python3.5/site-packages/urllib3/connectionpool.py\", line 600, in urlopen chunked=chunked) File \"/Users/FQY/env350/lib/python3.5/site-packages/urllib3/connectionpool.py\", line 343, in _make_request self._validate_conn(conn) File \"/Users/FQY/env350/lib/python3.5/site-packages/urllib3/connectionpool.py\", line 849, in _validate_conn conn.connect() File \"/Users/FQY/env350/lib/python3.5/site-packages/urllib3/connection.py\", line 356, in connect ssl_context=context) File \"/Users/FQY/env350/lib/python3.5/site-packages/urllib3/util/ssl_.py\", line 359, in ssl_wrap_socket return context.wrap_socket(sock, server_hostname=server_hostname) File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/ssl.py\", line 376, in wrap_socket _context=self) File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/ssl.py\", line 747, in __init__ self.do_handshake() File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/ssl.py\", line 983, in do_handshake self._sslobj.do_handshake() File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/ssl.py\", line 628, in do_handshake self._sslobj.do_handshake()ssl.SSLError: [SSL: TLSV1_ALERT_PROTOCOL_VERSION] tlsv1 alert protocol version (_ssl.c:646) ç½‘ä¸Šç™¾åº¦éƒ½è¯´çš„æ˜¯è¦å‡çº§pipæˆ–è€…pythonï¼Œå› ä¸ºæˆ‘ç”¨çš„æ˜¯python3.5ï¼Œåº”è¯¥ä¸æ˜¯è¿™ä¸ªé—®é¢˜ï¼Œæ‰€ä»¥åº”è¯¥å‡çº§opensslå‡çº§1$ pip install pyopenssl è¿™æ—¶å€™åœ¨è¿è¡Œå°±æ²¡é—®é¢˜äº†ã€‚","tags":[]},{"title":"çˆ¬è™«ç³»åˆ—ä¹‹requestsçš„ä½¿ç”¨","date":"2019-02-27T09:47:38.000Z","path":"2019/02/27/çˆ¬è™«ç³»åˆ—ä¹‹requestsçš„ä½¿ç”¨/","text":"requestsæ˜¯ä¸€ä¸ªå¾ˆå¸¸ç”¨çš„pythonåº“ã€‚å®ƒæœ‰GETã€POSTã€PUTã€DELETEç­‰æ–¹æ³•ã€‚ å®‰è£…1$ pip install requests æ–¹æ³•GETå¸¸ç”¨æ–¹å¼HTTPä¸­æœ€å¸¸è§çš„è¯·æ±‚ä¹‹ä¸€å°±æ˜¯GETè¯·æ±‚ï¼Œä¸‹é¢æˆ‘ä»¬è¯¦ç»†äº†è§£ä¸€ä¸‹requestsæ„å»ºGETè¯·æ±‚ã€‚å›åº”çš„è¯·æ±‚ä¿¡æ¯:123456import requestsr = requests.get(\"http://httpbin.org/get\")print(r.text)print(type(r.text))print(r.json())print(type(r.json())) è¿è¡Œç»“æœå¦‚ä¸‹:123456789101112131415&#123; \"args\": &#123;&#125;, \"headers\": &#123; \"Accept\": \"*/*\", \"Accept-Encoding\": \"gzip, deflate\", \"Host\": \"httpbin.org\", \"User-Agent\": \"python-requests/2.19.1\" &#125;, \"origin\": \"104.222.246.242, 104.222.246.242\", \"url\": \"https://httpbin.org/get\"&#125;&lt;class 'str'&gt;&#123;'args': &#123;&#125;, 'url': 'https://httpbin.org/get', 'headers': &#123;'Host': 'httpbin.org', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'User-Agent': 'python-requests/2.19.1'&#125;, 'origin': '104.222.246.242, 104.222.246.242'&#125;&lt;class 'dict'&gt; å¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬æˆåŠŸå‘èµ·äº†GETè¯·æ±‚ï¼Œè¿”å›ç»“æœåŒ…å«è¯·æ±‚å¤´ã€URLã€IPç­‰ä¿¡æ¯ã€‚å¹¶ä¸”å¯ä»¥çœ‹åˆ°r.text()ï¼Œr.json()çš„ç±»å‹ã€‚ æŠ“å–ç½‘é¡µä¸Šé¢çš„è¯·æ±‚é“¾æ¥è¿”å›çš„æ˜¯ JSON å½¢å¼çš„å­—ç¬¦ä¸²ï¼Œ é‚£ä¹ˆå¦‚æœè¯·æ±‚æ™®é€š çš„ç½‘é¡µï¼Œåˆ™ è‚¯å®šèƒ½è·å¾—ç›¸åº”çš„ å†…å®¹äº†ã€‚ ä¸‹é¢ä»¥â€œçŸ¥ä¹â€â†’â€œå‘ç°â€é¡µé¢ä¸ºä¾‹æ¥çœ‹ä¸€ä¸‹:12345678headers = &#123; 'User-Agent':\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.121 Safari/537.36\"&#125;r = requests.get('https://www.zhihu.com/explore', headers=headers)pattern = re.compile('explore-feed.*?question_link.*?&gt;(.*?)&lt;/a&gt;', re.S)titles = re.findall(pattern, r.text)print(titles) è¿è¡Œç»“æœ1$ ['\\nç™Œç—‡æ˜¯æ€æ ·è¢«æ£€æŸ¥å‡ºæ¥çš„ï¼Œæ™®é€šä½“æ£€èƒ½æŸ¥å‡ºç™Œç—‡å—ï¼Ÿ\\n', '\\nå¦‚ä½•çœ‹å¾…ä¸»æ’­ä½™å° C æ‰“åˆ°å³¡è°·ä¹‹å·…æœ€å¼ºç‹è€… 900 ç‚¹ï¼Ÿ\\n', '\\nå¦‚ä½•è¯„ä»·90å¹´ä»£å¹»æƒ³å¨±ä¹å°è¯´ï¼ˆä»¥å¯Œå£«è§Fantasiaæ–‡åº“ä¸ºä»£è¡¨ï¼‰åœ¨è½»å°è¯´å‘å±•å²ä¸­çš„ä½ç½®ï¼Ÿä¹äºè§åˆ°ã€Šæµæµªåœ°çƒã€‹ç¥¨æˆ¿å¤§å–ï¼Ÿ\\n', '\\néƒ­å¾·çº²å¯¹å¼ äº‘é›·æ˜¯æ€æ ·çš„æ€åº¦?\\n', '\\nä½ æœ€è®¨åŒä»€ä¹ˆæ¢—ï¼Ÿ\\n', '\\nè¯´ä¸‹ä½ ä½¿ç”¨åå¤§çˆ±æ¨ä¸å¾—å®‰åˆ©å…¨ä¸–ç•Œçš„æŠ¤è‚¤å“/åŒ–å¦†å“ï¼Ÿ\\n', '\\né«˜ä¸­ä½œæ–‡å¦‚ä½•å¾—åˆ° 50 ä»¥ä¸Šçš„åˆ†æ•°ï¼Ÿ\\n'] å‘ç°è¿™é‡Œæ·»åŠ äº†headesï¼Œä¸ç„¶çˆ¬è™«çŸ¥ä¹å‘ç°é¡µä¼šæŠ¥é”™ã€‚ POSTå¸¸ç”¨æ–¹å¼1234data =&#123;'name':'germey', 'age':'22'&#125;r = requests.post(\"http://httpbin.org/post\", data=data)print(r.text) è¿è¡Œç»“æœ1234567891011121314151617181920&#123; \"args\": &#123;&#125;, \"data\": \"\", \"files\": &#123;&#125;, \"form\": &#123; \"age\": \"22\", \"name\": \"germey\" &#125;, \"headers\": &#123; \"Accept\": \"*/*\", \"Accept-Encoding\": \"gzip, deflate\", \"Content-Length\": \"18\", \"Content-Type\": \"application/x-www-form-urlencoded\", \"Host\": \"httpbin.org\", \"User-Agent\": \"python-requests/2.19.1\" &#125;, \"json\": null, \"origin\": \"104.222.246.242, 104.222.246.242\", \"url\": \"https://httpbin.org/post\"&#125; å¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬æˆåŠŸè·å¾—äº†è¿”å›ç»“æœ,å…¶ä¸­ form éƒ¨åˆ†å°±æ˜¯æäº¤çš„æ•°æ®ï¼Œè¿™å°±è¯æ˜POSTè¯·æ±‚æˆåŠŸå‘é€äº† ã€‚**ç›¸åº”åœ¨è¿™é‡Œæˆ‘ä»¬çœ‹ä¸‹å¸¸ç”¨çš„ç›¸åº”æ–¹å¼r = requests.get(â€˜http://www.jianshu.com&#39;)print(r.status_code)print(r.headers)print(r.cookies)print(r.text)print(r.content)print(r.history)print(r.json())å…¶ä»–çš„æ–¹æ³•å’Œè¿™ç±»ä¼¼ï¼Œå¤§å®¶å¯ä»¥ç›¸ç»§è¯•ä¸€ä¸‹","tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"http://yoursite.com/tags/çˆ¬è™«/"}]},{"title":"python encodeå’Œdecodeå‡½æ•°çš„ç”¨æ³•","date":"2019-02-26T03:53:16.000Z","path":"2019/02/26/python-encodeå’Œdecodeå‡½æ•°çš„ç”¨æ³•/","text":"ä»è‹±æ–‡æ„æ€ä¸Šçœ‹ï¼Œencodeå’Œdecodeåˆ†åˆ«æŒ‡ç¼–ç å’Œè§£ç ã€‚åœ¨pythonä¸­ï¼ŒUnicodeç±»å‹æ˜¯ä½œä¸ºç¼–ç çš„åŸºç¡€ç±»å‹ã€‚12 encode decodestr ---------&gt; Unicode ---------&gt; str encodeçš„ä½œç”¨æ˜¯å°†å…¶ä»–ç¼–ç çš„å­—ç¬¦ä¸²è½¬æ¢æˆunicodeç¼–ç ï¼Œå¦‚str1.encode(&apos;gb2312&apos;)ï¼Œè¡¨ç¤ºå°†gb2312ç¼–ç çš„å­—ç¬¦ä¸²str1è½¬æ¢æˆunicodeç¼–ç ã€‚ decodeçš„ä½œç”¨æ˜¯å°†unicodeç¼–ç è½¬æ¢æˆå…¶ä»–ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œå¦‚str2.decode(&apos;gb2312&apos;)ï¼Œè¡¨ç¤ºå°†unicodeç¼–ç çš„å­—ç¬¦ä¸²str2è½¬æ¢æˆgb2312ç¼–ç  å› æ­¤ï¼Œè½¬ç çš„æ—¶å€™ä¸€å®šè¦å…ˆææ˜ç™½ï¼Œå­—ç¬¦ä¸²stræ˜¯ä»€ä¹ˆç¼–ç ï¼Œç„¶ådecodeæˆunicodeï¼Œç„¶åå†encodeæˆå…¶ä»–ç¼–ç ä¸‹é¢å’±ä»¬ç”¨å‡ ä¸ªä¾‹å­æ¥çœ‹ä¸‹:12345678910s = 'ä¸­å›½ï¼Œä½ å¥½'print('type is &#123;&#125;'.format(type(s)))# ç”¨encodeè¿›è¡Œç¼–ç s1 = s.encode('utf-8')print('s1 is &#123;&#125;'.format(s1))print('type is &#123;&#125;'.format(type(s1)))# ç”¨decodeè¿›è¡Œç¼–ç s2 = s1.decode('utf-8')print('s2 is &#123;&#125;'.format(s2))print('type is &#123;&#125;'.format(type(s2))) è¿è¡Œç»“æœæ˜¯ï¼š12345type is &lt;class 'str'&gt;s1 is b'\\xe4\\xb8\\xad\\xe5\\x9b\\xbd\\xef\\xbc\\x8c\\xe4\\xbd\\xa0\\xe5\\xa5\\xbd'type is &lt;class 'bytes'&gt;s2 is ä¸­å›½ï¼Œä½ å¥½type is &lt;class 'str'&gt; çœ‹å®Œè¿è¡Œç»“æœå¤§å®¶å°±çŸ¥é“æ€ä¹ˆç”¨äº†ã€‚ğŸ˜†","tags":[]},{"title":"çˆ¬è™«ç³»åˆ—ä¹‹urllibçš„ä½¿ç”¨","date":"2019-02-25T08:03:36.000Z","path":"2019/02/25/çˆ¬è™«ç³»åˆ—-urllibçš„ä½¿ç”¨/","text":"urllibåº“æ˜¯pythonçˆ¬è™«ä¸­çš„å¸¸ç”¨åº“ï¼Œè¿™ä¸ªåº“æ¥è¯´ï¼Œæˆ‘ä»¬ä¸éœ€è¦å…³å¿ƒè¯·æ±‚çš„é“¾æ¥æ˜¯ä»€ä¹ˆï¼Œéœ€è¦ä¼ çš„å‚æ•°æ˜¯ä»€ä¹ˆï¼Œä»¥åŠå¦‚ä½•è®¾ç½®å¯é€‰çš„è¯·æ±‚å¤´å°±å¥½äº†ï¼Œä¸ç”¨æ·±å…¥åˆ°åº•å±‚å»äº†è§£å®ƒåˆ°åº•æ˜¯æ€æ ·çš„ä¼ è¾“å’Œé€šä¿¡çš„ã€‚æœ‰äº†å®ƒï¼Œä¸¤è¡Œä»£ç å°±å¯ä»¥å®Œæˆä¸€ä¸ªè¯·æ±‚å’Œç›¸åº”çš„å¤„ç†è¿‡ç¨‹ï¼Œå¾—åˆ°ç½‘é¡µã€‚ urllibçš„æ¨¡å—urllibåŒ…å«4ä¸ªæ¨¡å—ï¼š request:å®ƒæ˜¯æœ€åŸºæœ¬çš„HTTPè¯·æ±‚æ¨¡å—ï¼Œå¯ä»¥ç”¨äº†æ¨¡æ‹Ÿå‘é€è¯·æ±‚ error:å¼‚å¸¸å¤„ç†æ¨¡å—ï¼Œå¦‚æœå‡ºç°è¯·æ±‚é”™è¯¯ï¼Œæˆ‘ä»¬å¯ä»¥æ•è·è¿™äº›å¼‚å¸¸ï¼Œç„¶åè¿›è¡Œé‡è¯•æˆ–å…¶ä»–æ“ä½œä»¥ä¿è¯ç¨‹åºä¸ä¼šæ„å¤–ç»ˆæ­¢ã€‚ parse:ä¸€ä¸ªå·¥å…·æ¨¡å—ï¼Œæä¾›äº†è®¸å¤šURLå¤„ç†æ–¹æ³•ï¼Œæ¯”å¦‚æ‹†åˆ†ã€è§£æã€åˆå¹¶ç­‰ã€‚ rebotparser:ä¸»è¦æ˜¯ç”¨æ¥è¯†åˆ«ç½‘ç«™çš„rebots.txtæ–‡ä»¶ï¼Œç„¶ååˆ¤æ–­å“ªäº›ç½‘ç«™å¯ä»¥çˆ¬ï¼Œå“ªäº›ç½‘ç«™ä¸å¯ä»¥çˆ¬ï¼Œå®é™…ç”¨çš„ä¸å¤šã€‚ Requestæˆ‘ä»¬çŸ¥é“åˆ©ç”¨ urlopen()æ–¹æ³•å¯ä»¥å®ç°æœ€åŸºæœ¬è¯·æ±‚çš„å‘èµ·ï¼Œä½†è¿™å‡ ä¸ªç®€å•çš„å‚æ•°å¹¶ä¸è¶³ä»¥æ„å»ºä¸€ä¸ªå®Œæ•´çš„è¯·æ±‚ã€‚å¦‚æœè¯·æ±‚ä¸­éœ€è¦åŠ å…¥ Headersç­‰ä¿¡æ¯ï¼Œå°±å¯ä»¥åˆ©ç”¨æ›´å¼ºå¤§çš„ Requestç±»æ¥æ„å»ºã€‚ é¦–å…ˆï¼Œæˆ‘ä»¬ç”¨å®ä¾‹æ¥æ„Ÿå—ä¸€ä¸‹ Request çš„ç”¨æ³•:1234import urllib.requestrequest = urllib.request.Request('https://python.org') response = urllib.request.urlopen(request) print(response.read().decode('utf-8')) å¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬ä¾ç„¶æ˜¯ç”¨ urlopen()æ–¹æ³•æ¥å‘é€è¿™ä¸ªè¯·æ±‚ï¼Œåªä¸è¿‡è¿™æ¬¡è¯¥æ–¹æ³•çš„å‚æ•°ä¸å†æ˜¯ URL, è€Œæ˜¯ä¸€ä¸ª Request ç±»å‹çš„å¯¹è±¡ ã€‚ é€šè¿‡æ„é€ è¿™ä¸ªæ•°æ®ç»“æ„ï¼Œä¸€æ–¹é¢æˆ‘ä»¬å¯ä»¥å°†è¯·æ±‚ç‹¬ç«‹æˆä¸€ä¸ªå¯¹è±¡ï¼Œå¦ ä¸€æ–¹é¢å¯æ›´åŠ ä¸°å¯Œå’Œçµæ´»åœ°é…ç½®å‚æ•° ã€‚ä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ä¸‹ Requestå¯ä»¥é€šè¿‡æ€æ ·çš„å‚æ•°æ¥æ„é€ ï¼Œå®ƒçš„æ„é€ æ–¹æ³•å¦‚ä¸‹:class urllib. request. Request (ur1, data=None, headers={}, origin_req_host=None, unverifiable=False, method=None) ç¬¬ä¸€ä¸ªå‚æ•° urlç”¨äºè¯·æ±‚ URLï¼Œ è¿™æ˜¯å¿…ä¼ å‚æ•°ï¼Œå…¶ä»–éƒ½æ˜¯å¯é€‰å‚æ•°ã€‚ ç¬¬äºŒä¸ªå‚æ•° data å¦‚æœè¦ä¼ ï¼Œå¿…é¡»ä¼  bytes (å­—èŠ‚æµ)ç±»å‹çš„ ã€‚ å¦‚æœå®ƒæ˜¯å­—å…¸ï¼Œå¯ä»¥å…ˆç”¨ urllib.parseæ¨¡å—é‡Œçš„ urlencode()ç¼–ç ã€‚ ç¬¬ä¸‰ä¸ªå‚æ•° headersæ˜¯ä¸€ä¸ªå­—å…¸ï¼Œå®ƒå°±æ˜¯è¯·æ±‚å¤´ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ„é€ è¯·æ±‚æ—¶é€šè¿‡ headerså‚æ•°ç›´ æ¥æ„é€ ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è°ƒç”¨è¯·æ±‚å®ä¾‹çš„ add_header()æ–¹æ³•æ·»åŠ ã€‚æ·»åŠ è¯·æ±‚å¤´æœ€å¸¸ç”¨çš„ç”¨æ³•å°±æ˜¯é€šè¿‡ä¿®æ”¹ User-Agent æ¥ä¼ªè£…æµè§ˆå™¨ï¼Œé»˜è®¤çš„ User-Agent æ˜¯ ä¸€â€™- Python-urllibï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¿®æ”¹å®ƒæ¥ä¼ªè£…æµè§ˆå™¨ ã€‚ æ¯”å¦‚è¦ä¼ªè£…ç«ç‹æµè§ˆå™¨ï¼Œä½ å¯ä»¥æŠŠå®ƒè®¾ E ç½®ä¸º :é—®ozilla/s.o (X11; U; Linux i686) Gecko/20071127 Firefox/2.0.0.11 ç¬¬å››ä¸ªå‚æ•° origin_req_hostæŒ‡çš„æ˜¯è¯·æ±‚æ–¹çš„ hoståç§°æˆ–è€… IPåœ°å€ã€‚ ç¬¬äº”ä¸ªå‚æ•° unveriå¹²iableè¡¨ç¤ºè¿™ä¸ªè¯·æ±‚æ˜¯å¦æ˜¯æ— æ³•éªŒè¯ çš„ï¼Œé»˜è®¤æ˜¯ Falseï¼Œæ„æ€å°±æ˜¯è¯´ç”¨æˆ·æ²¡æœ‰è¶³å¤Ÿæƒé™æ¥é€‰æ‹©æ¥æ”¶è¿™ä¸ªè¯·æ±‚çš„ç»“æœã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬è¯·æ±‚ä¸€ä¸ª HTMLæ–‡æ¡£ä¸­çš„å›¾ç‰‡ï¼Œä½†æ˜¯æˆ‘ä»¬æ²¡æœ‰å‘åŠ¨æŠ“å–å›¾åƒçš„æƒé™ï¼Œè¿™æ—¶ unverifiable çš„å€¼å°±æ˜¯ Trueã€‚ ç¬¬å…­ä¸ªå‚æ•° methodæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç”¨æ¥æŒ‡ç¤ºè¯·æ±‚ä½¿ç”¨çš„æ–¹æ³•ï¼Œæ¯”å¦‚ GETã€ POSTå’Œ PUTç­‰ã€‚ ä¾‹å­12345678910url = 'http://httpbin.org/post'headers = &#123; \"Host\": \"httpbin.org\", \"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.109 Safari/537.36\",&#125;data = bytes(parse.urlencode(&#123;'word':'ä¸­å›½, ä½ å¥½'&#125;), encoding='utf-8')req = request.Request(url=url, data=data, headers=headers, method='POST')response = request.urlopen(req)print('respin is &#123;&#125;'.format(response.read().decode('utf-8'))) è¿è¡Œç»“æœï¼š12345678910111213141516respin is &#123; \"args\": &#123;&#125;, \"data\": \"word=%E4%B8%AD%E5%9B%BD%2C+%E4%BD%A0%E5%A5%BD\", \"files\": &#123;&#125;, \"form\": &#123;&#125;, \"headers\": &#123; \"Accept-Encoding\": \"identity\", \"Content-Length\": \"45\", \"Content-Type\": \"application/json\", \"Host\": \"httpbin.org\", \"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.109 Safari/537.36\" &#125;, \"json\": null, \"origin\": \"104.222.246.242, 104.222.246.242\", \"url\": \"https://httpbin.org/post\"&#125; é«˜çº§ç”¨æ³•åœ¨ä¸Šé¢çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬è™½ç„¶å¯ä»¥æ„é€ è¯·æ±‚ï¼Œä½†æ˜¯å¯¹äºä¸€äº›æ›´é«˜çº§çš„æ“ä½œ(æ¯”å¦‚ Cookieså¤„ç† ã€ ä»£ ç†è®¾ç½®ç­‰)ï¼Œæˆ‘ä»¬è¯¥æ€ä¹ˆåŠå‘¢?æ¥ä¸‹æ¥ï¼Œå°±éœ€è¦æ›´å¼ºå¤§çš„å·¥å…· Handler ç™»åœºäº† ã€‚ ç®€è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒç†è§£ä¸ºå„ç§å¤„ç†å™¨ï¼Œæœ‰ ä¸“é—¨å¤„ç†ç™»å½•éªŒè¯çš„ï¼Œæœ‰å¤„ç† Cookies çš„ï¼Œæœ‰å¤„ç†ä»£ç†è®¾ç½®çš„ ã€‚ åˆ©ç”¨å®ƒä»¬ï¼Œæˆ‘ä»¬å‡ ä¹å¯ä»¥åšåˆ° HTTP è¯·æ±‚ä¸­æ‰€æœ‰çš„äº‹æƒ… ã€‚é¦–å…ˆï¼Œä»‹ç»ä¸€ä¸‹ urllib.request æ¨¡å—é‡Œçš„ BaseHandlerç±»ï¼Œå®ƒæ˜¯æ‰€æœ‰å…¶ä»– Handler çš„çˆ¶ç±»ï¼Œå®ƒæ ä¾›äº†æœ€åŸºæœ¬çš„æ–¹æ³•ï¼Œä¾‹å¦‚ default_open()ã€ protocol_request()ç­‰ã€‚æ¥ä¸‹æ¥ï¼Œå°±æœ‰å„ç§ Handler å­ç±»ç»§æ‰¿è¿™ä¸ª BaseHandlerç±»ï¼Œä¸¾ä¾‹å¦‚ä¸‹ ã€‚å£ HITPDefaultErrorHandler:ç”¨äºå¤„ç†HTTPå“åº”é”™è¯¯ï¼Œé”™è¯¯éƒ½ä¼šæŠ›å‡º HTTPErrorç±»å‹çš„å¼‚å¸¸ã€‚ å£ HTTPRedirectHandler:ç”¨äºå¤„ç†é‡å®šå‘ ã€‚å£ HTTPCookieProcessor: ç”¨äºå¤„ç† Cookiesã€‚å£ ProxyHandler:ç”¨äºè®¾ç½®ä»£ç† ï¼Œ é»˜è®¤ä»£ç†ä¸ºç©º ã€‚å£ HÏ€PPasswordMgr:ç”¨äºç®¡ç†å¯†ç ï¼Œå®ƒç»´æŠ¤äº†ç”¨æˆ·åå’Œå¯†ç çš„è¡¨ã€‚å£ HTTPBasicAuthHandler: ç”¨äºç®¡ç†è®¤è¯ï¼Œå¦‚æœä¸€ä¸ªé“¾æ¥æ‰“å¼€æ—¶éœ€è¦è®¤è¯ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨å®ƒæ¥è§£å†³è®¤è¯é—®é¢˜ ã€‚","tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"http://yoursite.com/tags/çˆ¬è™«/"}]},{"title":"hexo æ·»åŠ æœ¬åœ°å›¾ç‰‡","date":"2019-02-14T03:15:30.000Z","path":"2019/02/14/hexo-æ·»åŠ æœ¬åœ°å›¾ç‰‡/","text":"hexoæ’å…¥å›¾ç‰‡çš„æ–¹å¼æœ‰å¥½å‡ ç§ï¼Œé“¾æ¥æˆ–è€…æœ¬åœ°å›¾ç‰‡ï¼Œä»‹äºé“¾æ¥å›¾ç‰‡æœ‰å¯èƒ½å¤±æ•ˆçš„åŸå› ï¼Œç”¨æœ¬åœ°å›¾ç‰‡æ˜¯æœ€çœäº‹çš„ï¼Œç›®å‰æ’å…¥æœ¬åœ°å›¾ç‰‡æœ‰ä¸¤ç§æ–¹å¼ã€‚ è·Ÿéšæ–‡ç« çš„åˆ›å»ºå›¾ç‰‡æ–‡ä»¶å¤¹ åˆ›å»ºæ€»çš„å›¾ç‰‡æ–‡ä»¶å¤¹ è·Ÿéšæ–‡ç« çš„åˆ›å»ºæ–¹å¼ç¬¬ä¸€æ­¥æ ¹ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶_config.ymlé‡Œçš„post_asset_folderé€‰é¡¹è®¾ç½®ä¸ºtrueã€‚æ–°å»ºæ–‡ç« çš„æ—¶å€™ä¼šåŒæ—¶åˆ›å»ºä¸€ä¸ªåŒåæ–‡ä»¶å¤¹ç”¨äºæ”¾å›¾ç‰‡ã€‚ç¬¬äºŒæ­¥æ‰§è¡Œå‘½ä»¤npm install hexo-asset-image --save ï¼Œä¸‹è½½å®‰è£…ä¸€ä¸ªå¯ä»¥ä¸Šä¼ æœ¬åœ°å›¾ç‰‡çš„æ’ä»¶ã€‚ä½¿ç”¨çš„æ—¶å€™ï¼Œåªéœ€è¦å›¾ç‰‡åå°±å¯ä»¥ ![](test.jpg)ä¾‹å¦‚æˆ‘åˆ›å»ºçš„è¿™ç¯‡æ–‡ç« ï¼Œhexo æ·»åŠ æœ¬åœ°å›¾ç‰‡ç„¶åä¸‹é¢å°±ç”Ÿæˆäº†ç›¸åº”çš„æ–‡ä»¶å¤¹ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹é¢å­˜æ”¾ç›¸åº”çš„å›¾ç‰‡ã€‚è¿™æ—¶å€™æˆ‘åªéœ€è¦å¼•ç”¨![](1550115421513.jpg)å°±å¯ä»¥äº†ã€‚ åˆ›å»ºæ€»çš„å›¾ç‰‡æ–‡ä»¶å¤¹åœ¨ä¸»é¢˜çš„ source ä¸‹é¢æ–°å»ºä¸€ä¸ª æ–‡ä»¶å¤¹ï¼ˆæ¯”å¦‚uploadsï¼‰ç”¨äºä¸“é—¨æ”¾ç½®è¿™äº›å›¾ç‰‡èµ„æºã€‚ä½¿ç”¨çš„æ—¶å€™ä½¿ç”¨![](/uploads/test.jpg)çš„æ–¹å¼ã€‚ PS:ä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„çˆ±å¥½å»é€‰æ‹©ã€‚","tags":[{"name":"hexo","slug":"hexo","permalink":"http://yoursite.com/tags/hexo/"}]},{"title":"git push githubå¤±è´¥ï¼Œæç¤ºSSL_connect: SSL_ERROR_SYSCALL in connection to github.com:443","date":"2019-02-13T09:03:06.000Z","path":"2019/02/13/git-push-githubå¤±è´¥ï¼Œæç¤ºSSL-connect-SSL-ERROR-SYSCALL-in-connection-to-github-com-443/","text":"ä»Šå¤©git push å‘ç°å‡ºç°é”™è¯¯ï¼Œå¾ˆè«åå…¶å¦™ï¼Œé”™è¯¯çš„è¯¦æƒ…å¦‚ä¸‹:12fatal: unable to access 'https://github.com/XXXX/XXXX.git/': LibreSSL SSL_connect: SSL_ERROR_SYSCALL in connection to github.com:443 ç„¶åå»ç½‘ä¸Šæ ¹æ®è¿™ä¸ªé”™è¯¯æç¤ºæœäº†ä¸€ä¸‹ï¼Œå‘ç°æ˜¯å› ä¸ºGitçš„Httpä»£ç†çš„é—®é¢˜ï¼ŒGitæ”¯æŒä¸‰ç§åè®®ï¼šgit://ã€ssh://å’Œhttp://ï¼Œæœ¬æ¥pushçš„æ—¶å€™åº”è¯¥èµ°sshéš§é“çš„ï¼Œä½†æ˜¯å› ä¸ºè®¾ç½®äº†httpä»£ç†ï¼Œæ‰€ä»¥å°±èµ°äº†httpçš„ä»£ç†ï¼Œäºæ˜¯å°±æäº¤ä¸äº†äº†ã€‚OKï¼Œæ‰¾åˆ°åŸå› äº†ï¼Œé‚£å°±å–æ¶ˆhttpä»£ç†å§ï¼š è§£å†³åŠæ³•åœ¨githubé¡¹ç›®åœ¨æœ¬åœ°çš„æ ¹ç›®å½•ä¸‹æ‰“å¼€gitå‘½ä»¤è¡Œï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤1$ git config --global --unset http.proxy","tags":[]},{"title":"nginx https è¯ä¹¦é…ç½®","date":"2019-02-12T10:47:58.000Z","path":"2019/02/12/nginx-https-è¯ä¹¦é…ç½®/","text":"ä½¿ç”¨httpséœ€è¦é…ç½®SSLè¯ä¹¦,å› ä¸ºæˆ‘ä½¿ç”¨çš„é˜¿é‡Œäº‘ï¼Œæ‰€ä»¥ä¸‹é¢æ˜¯é˜¿é‡Œäº‘çš„é…ç½® åŸŸåè§£æåˆ°æœåŠ¡å™¨ ç”³è¯·caè¯ä¹¦åœ¨é˜¿é‡Œäº‘æ§åˆ¶å°-äº§å“ä¸æœåŠ¡-å®‰å…¨(äº‘ç›¾)-CAè¯ä¹¦æœåŠ¡(æ•°æ®å®‰å…¨)ï¼Œç‚¹å‡»è´­ä¹°è¯ä¹¦é€‰æ‹©â€œå…è´¹ç‰ˆDV SSLâ€ï¼Œç‚¹å‡»ç«‹å³è´­ä¹°:ç„¶åç‚¹å»æ”¯ä»˜:æœ€åç¡®è®¤æ”¯ä»˜:å°±ä¼šå›åˆ°ç®¡ç†ç•Œé¢,ç„¶åæ ¹æ®è¯´æ˜å»é…ç½®ã€‚è¯´æ˜ï¼šå› ä¸ºæˆ‘ä»¬è¿™é‡Œç”³è¯·çš„æ˜¯å¼€å‘ç‰ˆå…è´¹è¯ä¹¦ï¼Œæ‰€ä»¥ä¸€ä¸ªè¯ä¹¦ä»…æ”¯æŒä¸€ä¸ªåŸŸåè®¤è¯ï¼Œä¸æ”¯æŒé€šé…ç¬¦ã€‚ç­‰å¾…å‡ åˆ†é’Ÿï¼Œè¯ä¹¦çŠ¶æ€å˜ä¸ºâ€œå·²ç­¾å‘â€åï¼Œè¯ä¹¦å°±ç”³è¯·æˆåŠŸäº†ã€‚ ä¸‹è½½è¯ä¹¦åˆ—è¡¨ä¸­æ‰¾åˆ°å·²ç­¾å‘çš„è¯ä¹¦ï¼Œä¸‹è½½, ä¸‹è½½çš„æ—¶å€™é€‰æ‹©Nginxã€‚ç„¶åæŠŠç›¸åº”çš„æ­£å¼ä¼ åˆ°æœåŠ¡å™¨,å‘½ä»¤æ–¹æ³•ä½¿ç”¨scpã€‚1$ scp -r root@43.224.34.73:/home/lk /root å‚è€ƒnginxé…ç½®sslè¯ä¹¦å®ç°httpsè®¿é—®","tags":[{"name":"nginx","slug":"nginx","permalink":"http://yoursite.com/tags/nginx/"}]},{"title":"nginx httpå’Œhttpsé…ç½®","date":"2019-02-12T10:23:28.000Z","path":"2019/02/12/nginx-httpå’Œhttpsé…ç½®/","text":"nginxé…ç½®è¯¦è§£123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111### å…¨å±€é…ç½®##user www-data; ## é…ç½® worker è¿›ç¨‹çš„ç”¨æˆ·å’Œç»„worker_processes auto; ## é…ç½® worker è¿›ç¨‹å¯åŠ¨çš„æ•°é‡ï¼Œå»ºè®®é…ç½®ä¸º CPU æ ¸å¿ƒæ•°error_log logs/error.log; ## å…¨å±€é”™è¯¯æ—¥å¿—pid /run/nginx.pid; ## è®¾ç½®è®°å½•ä¸»è¿›ç¨‹ ID çš„æ–‡ä»¶worker_rlimit_nofile 8192; ## é…ç½®ä¸€ä¸ªå·¥ä½œè¿›ç¨‹èƒ½å¤Ÿæ¥å—å¹¶å‘è¿æ¥çš„æœ€å¤§æ•°### å·¥ä½œæ¨¡å¼åŠè¿æ¥æ•°ä¸Šé™##events &#123; # epoll æ˜¯å¤šè·¯å¤ç”¨ IOï¼ˆI/O Multiplexingï¼‰ä¸­çš„ä¸€ç§æ–¹å¼ï¼Œ # ä»…ç”¨äº Linux 2.6 ä»¥ä¸Šå†…æ ¸ï¼Œå¯ä»¥å¤§å¤§æé«˜ Nginx æ€§èƒ½ use epoll # å•ä¸ªåå° worker process è¿›ç¨‹çš„æœ€å¤§å¹¶å‘é“¾æ¥æ•° # å¹¶å‘æ€»æ•° max_clients = worker_professes * worker_connections worker_connections 4096; ## Defaule: 1024 # multi_accept on; ## æŒ‡æ˜ worker è¿›ç¨‹ç«‹åˆ»æ¥å—æ–°çš„è¿æ¥&#125;### http æ¨¡å—##http &#123; ## # Basic Settings ## #sendfile æŒ‡ä»¤æŒ‡å®š nginx æ˜¯å¦è°ƒç”¨ sendfile å‡½æ•°ï¼ˆzero copy æ–¹å¼ï¼‰æ¥è¾“å‡ºæ–‡ä»¶ï¼Œ #å¯¹äºæ™®é€šåº”ç”¨ï¼Œå¿…é¡»è®¾ä¸º on, #å¦‚æœç”¨æ¥è¿›è¡Œä¸‹è½½ç­‰åº”ç”¨ç£ç›˜ IO é‡è´Ÿè½½åº”ç”¨ï¼Œå¯è®¾ç½®ä¸º offï¼Œ #ä»¥å¹³è¡¡ç£ç›˜ä¸ç½‘ç»œ I/O å¤„ç†é€Ÿåº¦ï¼Œé™ä½ç³»ç»Ÿçš„ uptime. sendfile on; tcp_nopush on; tcp_nodelay on; keepalive_timeout 65; ## è¿æ¥è¶…æ—¶æ—¶é—´ types_hash_max_size 2048; ## æŒ‡å®šæ•£åˆ—ç±»å‹è¡¨çš„æœ€å¤§å¤§å° # server_tokens off; # server_names_hash_bucket_size 64; # this seems to be required for some vhosts # server_name_in_redirect off; include /etc/nginx/mime.types; ## è®¾å®š mine ç±»å‹ default_type application/octet-stream; # è®¾å®šè¯·æ±‚ç¼“å†² client_header_buffer_size 128k; # æŒ‡å®šå®¢æˆ·ç«¯è¯·æ±‚å¤´ç¼“å­˜å¤§å°ï¼Œå½“è¯·æ±‚å¤´å¤§äº 1KB æ—¶ä¼šç”¨åˆ°è¯¥é¡¹ large_client_header_buffers 4 128k; # æœ€å¤§æ•°é‡å’Œæœ€å¤§å®¢æˆ·ç«¯è¯·æ±‚å¤´çš„å¤§å° ## # SSL Settings ## # å¯ç”¨æ‰€æœ‰åè®®ï¼Œç¦ç”¨å·²åºŸå¼ƒçš„ä¸å®‰å…¨çš„SSL 2 å’ŒSSL 3 ssl_protocols TLSv1 TLSv1.1 TLSv1.2; # Dropping SSLv3, ref: POODLE # è®©æœåŠ¡å™¨é€‰æ‹©è¦ä½¿ç”¨çš„ç®—æ³•å¥—ä»¶ ssl_prefer_server_ciphers on; ## # Logging Settings ## access_log /var/log/nginx/access.log; ## è®¿é—®æ—¥å¿— error_log /var/log/nginx/error.log; ## é”™è¯¯æ—¥å¿— ## # Gzip Settings ## gzip on; gzip_disable \"msie6\"; text/xml application/xml application/xml+rss text/javascript; ## # Virtual Host Configs ## include /etc/nginx/conf.d/*.conf; # è¿™ä¸ªæ–‡ä»¶å¤¹é»˜è®¤æ˜¯ç©ºçš„ include /etc/nginx/sites-enabled/*; # å¼€å¯çš„ Server æœåŠ¡é…ç½®&#125;### mail æ¨¡å—## mail &#123; # See sample authentication script at: # http://wiki.nginx.org/ImapAuthenticateWithApachePhpScript # auth_http localhost/auth.php; # pop3_capabilities \"TOP\" \"USER\"; # imap_capabilities \"IMAP4rev1\" \"UIDPLUS\"; server &#123; listen localhost:110; protocol pop3; proxy on; &#125; server &#123; listen localhost:143; protocol imap; proxy on; &#125;&#125; æ€»ç»“æ¥è¯´123456mainï¼šç”¨äºè¿›è¡Œnginxå…¨å±€ä¿¡æ¯çš„é…ç½®eventsï¼šç”¨äºnginxå·¥ä½œæ¨¡å¼çš„é…ç½®httpï¼šç”¨äºè¿›è¡Œhttpåè®®ä¿¡æ¯çš„ä¸€äº›é…ç½®serverï¼šç”¨äºè¿›è¡ŒæœåŠ¡å™¨è®¿é—®ä¿¡æ¯çš„é…ç½®locationï¼šç”¨äºè¿›è¡Œè®¿é—®è·¯ç”±çš„é…ç½®upstreamï¼šç”¨äºè¿›è¡Œè´Ÿè½½å‡è¡¡çš„é…ç½® ç›®å‰ä½¿ç”¨çš„ä¸€äº›nginxé…ç½®1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192# For more information on configuration, see:# * Official English Documentation: http://nginx.org/en/docs/# * Official Russian Documentation: http://nginx.org/ru/docs/#user nginx;worker_processes 2;error_log /var/log/nginx/error.log;pid /run/nginx.pid;#worker_rlimit_nofile 65535;# Load dynamic modules. See /usr/share/nginx/README.dynamic.#include /usr/share/nginx/modules/*.conf;events &#123; worker_connections 1024;&#125;http &#123; log_format main '$remote_addr - $remote_user [$time_local] \"$request\" ' '$status $body_bytes_sent \"$http_referer\" ' '\"$http_user_agent\" \"$http_x_forwarded_for\"'; access_log /var/log/nginx/access.log main; sendfile on; tcp_nopush on; tcp_nodelay on; keepalive_timeout 65; types_hash_max_size 2048; include /etc/nginx/mime.types; default_type application/octet-stream; # Load modular configuration files from the /etc/nginx/conf.d directory. # See http://nginx.org/en/docs/ngx_core_module.html#include # for more information. # include /etc/nginx/conf.d/*.conf; # è¿™æ®µæ˜¯åªhttpçš„æ—¶å€™è®¾ç½®çš„ #*************************************************************************** #server &#123; #listen 80; #server_name localhost; # root /usr/share/nginx/html; # Load configuration files for the default server block. #include /etc/nginx/default.d/*.conf; #location / &#123; #proxy_pass http://localhost:8080; #proxy_set_header Host $host; #proxy_set_header X-Real-IP $remote_addr; #proxy_set_header X-Scheme $scheme; #proxy_pass_header Server; #proxy_redirect on; #&#125; #&#125; #*************************************************************************** # è¿™æ®µæ˜¯åªhttpsçš„æ—¶å€™è®¾ç½®çš„ #*************************************************************************** server &#123; listen 80; server_name XXX.XXXX.com; return 301 https://$server_name$request_uri; &#125; server &#123; listen 443; server_name XXX.XXXX.com; ssl on; ssl_certificate cert/XXX.XXXX.pem; ssl_certificate_key cert/XXX.XXXX.key; ssl_session_timeout 5m; ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_prefer_server_ciphers on; location /&#123; proxy_pass http://localhost:8080; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header Host $http_host; proxy_set_header X-NginX-Proxy true; &#125; &#125; #****************************************************************************&#125;","tags":[{"name":"nginx","slug":"nginx","permalink":"http://yoursite.com/tags/nginx/"}]},{"title":"Nginx http å¼ºåˆ¶è·³è½¬ https åœ°å€","date":"2019-02-12T10:18:42.000Z","path":"2019/02/12/Nginx-http-å¼ºåˆ¶è·³è½¬-https-åœ°å€/","text":"https è¶Šæ¥è¶Šæ™®åŠï¼Œä½†æ˜¯å½“ç”¨æˆ·è‡ªå·±è®¿é—® http æ˜¯æ§åˆ¶ä¸äº†çš„ï¼Œæ‰€ä»¥å¼ºåˆ¶è·³è½¬çš„åŠŸèƒ½å°±å¿…ä¸å¯å°‘äº†ï¼Œä¸‹é¢æ˜¯å‡ ç§å¼ºåˆ¶è·³è½¬çš„æ–¹æ³• return 301è¿”å› 301 é”™è¯¯ï¼Œå¹¶è·³è½¬åˆ° https åœ°å€12345server &#123; listen 80; server_name wxnacy.com; return 301 https://$server_name$request_uri;&#125; rewrite1rewrite ^(.*)$ https://$host$1 permanent; ä¸¤è€…ç›¸æ¯”ï¼Œ301 çš„æ–¹å¼åœ¨æœç´¢å¼•æ“é€Ÿåº¦ä¸Šè¦å—ä¸€äº›ã€‚ error_page 4971error code 497: normal request was sent to HTTPS åœ¨ä¸€ä¸ªç«™ç‚¹åªå…è®¸ https è®¿é—®æ—¶, å¦‚æœä½¿ç”¨ http è®¿é—®ä¼šæŠ¥å‡º497é”™è¯¯ç 1error_page 497 https://$host$uri?$args; index.html refreshç™¾åº¦é¡µé¢ http://baidu.com è‡ªåŠ¨è·³è½¬ http://www.baidu.com æ˜¯çµæ´»åˆ©ç”¨äº† meta çš„åˆ·æ–°å±æ€§12345&gt; $ curl http://baidu.com&lt;html&gt;&lt;meta http-equiv=\"refresh\" content=\"0;url=http://www.baidu.com/\"&gt;&lt;/meta&gt;html&gt;","tags":[{"name":"nginx","slug":"nginx","permalink":"http://yoursite.com/tags/nginx/"}]},{"title":"nginxçš„åŸºæœ¬ä½¿ç”¨","date":"2019-02-12T09:39:48.000Z","path":"2019/02/12/nginxçš„åŸºæœ¬ä½¿ç”¨/","text":"Nginxæ˜¯ä¸€æ¬¾è½»é‡çº§çš„ç½‘é¡µæœåŠ¡å™¨ã€åå‘ä»£ç†æœåŠ¡å™¨ã€‚ç›¸è¾ƒäºApacheã€lighttpdå…·æœ‰å æœ‰å†…å­˜å°‘ï¼Œç¨³å®šæ€§é«˜ç­‰ä¼˜åŠ¿ã€‚å®ƒæœ€å¸¸çš„ç”¨é€”æ˜¯æä¾›åå‘ä»£ç†æœåŠ¡ã€‚å…³äºnginxçš„å®‰è£…ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šæ•™ç¨‹ï¼Œå¤§å®¶éƒ½å¯ä»¥å»ç™¾åº¦ä¸ŠæŸ¥æ‰¾ã€‚è¿™ç¯‡æ–‡ç« æ˜¯æ¥è®°å½•nginxçš„åŸºæœ¬ä½¿ç”¨å’Œé…ç½®ä¸­é‡åˆ°çš„é”™è¯¯é—®é¢˜ã€‚ åŸºæœ¬ä½¿ç”¨ç¯å¢ƒé…ç½®å°†å‘½ä»¤è„šæœ¬è¶…é“¾æ¥åˆ°ç¯å¢ƒå˜é‡ä¸­1$ ln -sf /usr/local/nginx/sbin/nginx /usr/local/bin/nginx å¯åŠ¨1$ nginx åœæ­¢1$ nginx -s [start, stop] é‡æ–°å¯åŠ¨1$ nginx -s reopen ä¿®æ”¹ nginx.conf åè¿›è¡Œæµ‹è¯•æ˜¯å¦æ²¡æœ‰è¯­æ³•é”™è¯¯1$ nginx -t ç„¶åé‡æ–°åŠ è½½é…ç½®ï¼Œä½¿ä¹‹ç”Ÿæ•ˆ1$ nginx -s reload ç³»ç»Ÿå‘½ä»¤çš„æ–¹å¼æ¥å¯åŠ¨åœæ­¢1$ sudo systemctl [start, stop, restart] nginx è®¾ç½®æ˜¯å¦è‡ªåŠ¨å¼€æœºè‡ªå¯åŠ¨1$ sudo systemctl [enable, disable] nginx å¸¸è§é”™è¯¯1ã€nginx: [error] invalid PID number â€œâ€ in â€œ/run/nginx.pidâ€nginx -s reload æŠ¥nginx: [error] invalid PID number &quot;&quot; in &quot;/run/nginx.pid&quot;é”™è¯¯é‡åˆ°è¿™ä¸ªé”™è¯¯ï¼Œéœ€è¦å…ˆæ‰§è¡Œ1$ nginx -c /etc/nginx/nginx.conf nginx.confæ–‡ä»¶çš„è·¯å¾„å¯ä»¥ä»nginx -tçš„è¿”å›ä¸­æ‰¾åˆ°ã€‚è¿™æ—¶å€™å¦‚ä½•æ²¡æœ‰æŠ¥é”™ï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥nginx -s reloadå¦‚æœè¿˜é”™è¯¯,è¯·çœ‹ç¬¬äºŒä¸ªé—®é¢˜2ã€nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use)é”™è¯¯è¯¦æƒ…12345nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use)nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use)nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use)nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use)nginx: [emerg] still could not bind() é”™è¯¯æè¿°ï¼šåœ°å€å·²è¢«ä½¿ç”¨ã€‚å¯èƒ½nginxæœåŠ¡å¡æ­»äº†ï¼Œå¯¼è‡´ç«¯å£å ç”¨ã€‚æŸ¥çœ‹nginxçš„è¿è¡Œæƒ…å†µ1$ ps aux | grep nginx ç»“æœ1234root 13332 0.0 0.0 56824 2796 ? Ss 17:00 0:00 nginx: master process nginx -c /etc/nginx/nginx.confnginx 13437 0.0 0.0 57360 3792 ? S 17:09 0:00 nginx: worker processnginx 13438 0.0 0.0 57228 3776 ? S 17:09 0:00 nginx: worker processroot 13854 0.0 0.0 112676 992 pts/0 S+ 18:09 0:00 grep --color=auto --exclude-dir=.bzr --exclude-dir=CVS --exclude-dir=.git --exclude-dir=.hg --exclude-dir=.svn nginx ä½¿ç”¨killæŒ‡ä»¤åˆ é™¤è¿›ç¨‹1$ kill -9 13332 13437 13438 ç„¶ånginx -s reloadåˆ·æ–°3ã€nginxç»‘å®šåŸŸåï¼Œå‘ç°ä½¿ç”¨åŸŸåè®¿é—®ä¸æˆåŠŸï¼Œç”¨ipè®¿é—®æˆåŠŸå‡ºç°è¿™ç§æƒ…å†µä¸€èˆ¬æ˜¯å› ä¸ºä½ çš„æœåŠ¡å™¨å®‰å…¨ç»„æ²¡æœ‰è®¾ç½®ç›¸åº”çš„ç«¯å£è®¿é—®ï¼Œæ¯”å¦‚httpï¼Œéœ€è¦è®¾ç½®80ç«¯å£å¯ä»¥è®¿é—®,httpsè®¾ç½®443ç«¯å£ã€‚","tags":[{"name":"nginx","slug":"nginx","permalink":"http://yoursite.com/tags/nginx/"}]},{"title":"å­¦ä¹ nginxé‡åˆ°çš„ä¸€äº›é—®é¢˜","date":"2019-01-15T10:41:47.000Z","path":"2019/01/15/å­¦ä¹ nginxé‡åˆ°çš„ä¸€äº›é—®é¢˜/","text":"nginx æ‰¾ä¸åˆ°å®‰è£…åœ°å€ä»Šå¤©çœ‹åˆ°äº†nginx,æƒ³åˆ°æˆ‘åœ¨æœåŠ¡å™¨é‡Œé¢å®‰è£…äº†nginxï¼Œåªæ˜¯è¿˜æ²¡æœ‰ç”¨åˆ°ï¼Œæ‰€ä»¥æƒ³çœ‹ä¸‹å…¶å®‰è£…åœ°å€ï¼Œå´æ²¡æœ‰æ‰¾åˆ°ï¼Œåæ¥è°·æ­Œä¸‹ï¼Œå‘ç°ç”¨nginx -tå°±å¯ä»¥æ‰¾åˆ°nginx.confçš„æ–‡ä»¶ä½ç½®ï¼Œä»è€ŒçŸ¥é“nginxçš„å®‰è£…ä½ç½®ã€‚123# nginx -tnginx: the configuration file /etc/nginx/nginx.conf syntax is oknginx: configuration file /etc/nginx/nginx.conf test is successful","tags":[{"name":"nginx","slug":"nginx","permalink":"http://yoursite.com/tags/nginx/"}]},{"title":"PythonåŸºç¡€ç³»åˆ—ä¹‹*argså’Œ**kwargsçš„è®¤è¯†","date":"2019-01-06T14:46:05.000Z","path":"2019/01/06/PythonåŸºç¡€ç³»åˆ—ä¹‹-argså’Œ-kwargs/","text":"*argså’Œ**kwargsè¿™ä¸¤ä¸ªå‚æ•°å’±ä»¬ç»å¸¸ç”¨åˆ°ï¼Œä»Šå¤©åœ¨å·©å›ºåŸºç¡€çš„æ—¶å€™ï¼Œçœ‹åˆ°äº†è¿™ä¸¤ä¸ªå‚æ•°ï¼Œåšäº†ä¸€ä¸‹å¯¹æ¯”ï¼Œæ‰€ä»¥è®°å½•ä¸€ä¸‹ã€‚ *args*argsè¿™ç§å†™æ³•ä»£è¡¨çš„æ˜¯ å…ƒç»„ï¼Œå°±æ¯”å¦‚æˆ‘ä¸Šé¢ä¸ºå•¥è¯´å®ƒä»¬æ˜¯å‚æ•°ï¼Œæ˜¯å› ä¸ºä»–ä»¬ç»å¸¸åœ¨å‡½æ•°çš„å‚æ•°ä¸­å‡ºç°ã€‚ä¸‹é¢å’±ä»¬åœ¨ä¾‹å­ä¸­æ¥è¯´æ˜1234567891011def getTupleParameter(x, *args): print('x is &#123;&#125;'.format(x)) print('args is &#123;&#125;'.format(args)) print('type is &#123;&#125;'.format(type(args))) for i in args: print('i is &#123;&#125;'.format(i))getTupleParameter(1, 2, 3, 4, 5, 6, 7)print('*'*100)getTupleParameter(1) ç»“æœ12345678910111213x is 1args is (2, 3, 4, 5, 6, 7)type is &lt;class 'tuple'&gt;i is 2i is 3i is 4i is 5i is 6i is 7********************************************************************x is 1args is ()type is &lt;class 'tuple'&gt; **kwargs*kwargsè¿™ç§å†™æ³•ä»£è¡¨çš„æ˜¯ å­—å…¸ï¼Œä¸‹é¢å’±ä»¬åœ¨ä¾‹å­ä¸­æ¥è¯´æ˜12345678910111213def getDictParameter(x, **kwargs): print('x is &#123;&#125;'.format(x)) print('kwargs is &#123;&#125;'.format(kwargs)) print('type is &#123;&#125;'.format(type(kwargs)))getDictParameter(1, a=1, b=2, c=3)getDictParameter(1)res = dict( a=1, b=2, c=3)getDictParameter(1, **res) ç»“æœ123456789x is 1kwargs is &#123;'b': 2, 'a': 1, 'c': 3&#125;type is &lt;class 'dict'&gt;x is 1kwargs is &#123;&#125;type is &lt;class 'dict'&gt;x is 1kwargs is &#123;'b': 2, 'a': 1, 'c': 3&#125;type is &lt;class 'dict'&gt; *argså’Œ**kwargsçš„æ··åˆä½¿ç”¨*argså’Œ**kwargsåœ¨ç¨‹åºä¸­ä¸€èµ·ä½¿ç”¨å¾ˆå¸¸è§12345def getTupleAndDict(x, *args, **kwargs): print('x is &#123;&#125;'.format(x)) print('kwargs is &#123;&#125;'.format(kwargs)) print('args is &#123;&#125;'.format(args))getTupleAndDict(1, 2, 3, 4, 5, A=1, B=2, C=3, D=4) ç»“æœ123x is 1kwargs is &#123;'D': 4, 'C': 3, 'A': 1, 'B': 2&#125;args is (2, 3, 4, 5)","tags":[]},{"title":"Linux findå‘½ä»¤çš„ä½¿ç”¨","date":"2018-12-29T07:58:44.000Z","path":"2018/12/29/Linux-findå‘½ä»¤çš„ä½¿ç”¨/","text":"findå‘½ä»¤æ˜¯æ ¹æ®æ–‡ä»¶çš„å±æ€§è¿›è¡ŒæŸ¥æ‰¾ï¼Œå¦‚æ–‡ä»¶åï¼Œæ–‡ä»¶å¤§å°ï¼Œæ‰€æœ‰è€…ï¼Œæ‰€å±ç»„ï¼Œæ˜¯å¦ä¸ºç©ºï¼Œè®¿é—®æ—¶é—´ï¼Œä¿®æ”¹æ—¶é—´ç­‰ã€‚ä»»ä½•ä½äºå‚æ•°ä¹‹å‰çš„å­—ç¬¦ä¸²éƒ½å°†è¢«è§†ä¸ºæ¬²æŸ¥æ‰¾çš„ç›®å½•åã€‚å¦‚æœä½¿ç”¨è¯¥å‘½ä»¤æ—¶ï¼Œä¸è®¾ç½®ä»»ä½•å‚æ•°ï¼Œåˆ™findå‘½ä»¤å°†åœ¨å½“å‰ç›®å½•ä¸‹æŸ¥æ‰¾å­ç›®å½•ä¸æ–‡ä»¶ã€‚å¹¶ä¸”å°†æŸ¥æ‰¾åˆ°çš„å­ç›®å½•å’Œæ–‡ä»¶å…¨éƒ¨è¿›è¡Œæ˜¾ç¤ºã€‚ è¯­æ³• find åœ°å€ å‚æ•° å‚æ•°1234567891011121314151617181920find æ ¹æ®ä¸‹åˆ—è§„åˆ™åˆ¤æ–­ path å’Œ expressionï¼Œåœ¨å‘½ä»¤åˆ—ä¸Šç¬¬ä¸€ä¸ª - ( ) , ! ä¹‹å‰çš„éƒ¨ä»½ä¸º pathï¼Œä¹‹åçš„æ˜¯ expressionã€‚å¦‚æœ path æ˜¯ç©ºå­—ä¸²åˆ™ä½¿ç”¨ç›®å‰è·¯å¾„ï¼Œå¦‚æœ expression æ˜¯ç©ºå­—ä¸²åˆ™ä½¿ç”¨ -print ä¸ºé¢„è®¾ expressionã€‚expression ä¸­å¯ä½¿ç”¨çš„é€‰é¡¹æœ‰äºŒä¸‰åä¸ªä¹‹å¤šï¼Œåœ¨æ­¤åªä»‹ç»æœ€å¸¸ç”¨çš„éƒ¨ä»½ã€‚-mount, -xdev : åªæ£€æŸ¥å’ŒæŒ‡å®šç›®å½•åœ¨åŒä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿä¸‹çš„æ–‡ä»¶ï¼Œé¿å…åˆ—å‡ºå…¶å®ƒæ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶-amin n : åœ¨è¿‡å» n åˆ†é’Ÿå†…è¢«è¯»å–è¿‡-anewer file : æ¯”æ–‡ä»¶ file æ›´æ™šè¢«è¯»å–è¿‡çš„æ–‡ä»¶-atime n : åœ¨è¿‡å»nå¤©å†…è¢«è¯»å–è¿‡çš„æ–‡ä»¶-cmin n : åœ¨è¿‡å» n åˆ†é’Ÿå†…è¢«ä¿®æ”¹è¿‡-cnewer file :æ¯”æ–‡ä»¶ file æ›´æ–°çš„æ–‡ä»¶-ctime n : åœ¨è¿‡å»nå¤©å†…è¢«ä¿®æ”¹è¿‡çš„æ–‡ä»¶-empty : ç©ºçš„æ–‡ä»¶-gid n or -group name : gid æ˜¯ n æˆ–æ˜¯ group åç§°æ˜¯ name-ipath p, -path p : è·¯å¾„åç§°ç¬¦åˆ p çš„æ–‡ä»¶ï¼Œipath ä¼šå¿½ç•¥å¤§å°å†™-name name, -iname name : æ–‡ä»¶åç§°ç¬¦åˆ name çš„æ–‡ä»¶ã€‚iname ä¼šå¿½ç•¥å¤§å°å†™-size n : æ–‡ä»¶å¤§å° æ˜¯ n å•ä½ï¼Œb ä»£è¡¨ 512 ä½å…ƒç»„çš„åŒºå—ï¼Œc è¡¨ç¤ºå­—å…ƒæ•°ï¼Œk è¡¨ç¤º kilo bytesï¼Œw æ˜¯äºŒä¸ªä½å…ƒç»„ã€‚-type c : æ–‡ä»¶ç±»å‹æ˜¯ c çš„æ–‡ä»¶ã€‚d: ç›®å½•c: å­—å‹è£…ç½®æ–‡ä»¶b: åŒºå—è£…ç½®æ–‡ä»¶p: å…·åè´®åˆ—f: ä¸€èˆ¬æ–‡ä»¶l: ç¬¦å·è¿ç»“s: socket å®ä¾‹æŸ¥æ‰¾å½“å‰ç›®å½•åŠå…¶å­ç›®å½•ä¸‹çš„åå­—ä¸ºPodfileçš„æ–‡ä»¶1find . -name Podfile æŸ¥æ‰¾etcç›®å½•ä¸‹åå­—ä¸ºæ‰€æœ‰å»¶ä¼¸æ¡£åæ˜¯ .c çš„æ–‡ä»¶åˆ—å‡ºæ¥1find /etc -name '*.c' æŸ¥æ‰¾åœ¨ç³»ç»Ÿä¸­æœ€å10åˆ†é’Ÿè®¿é—®çš„æ–‡ä»¶1find / -amin -10 å°†ç›®å‰ç›®å½•åŠå…¶å­ç›®å½•ä¸‹æ‰€æœ‰æœ€è¿‘ 20 å¤©å†…æ›´æ–°è¿‡çš„æ–‡ä»¶åˆ—å‡º1find . -ctime -20 æŸ¥æ‰¾/var/logç›®å½•ä¸­æ›´æ”¹æ—¶é—´åœ¨7æ—¥ä»¥å‰çš„æ™®é€šæ–‡ä»¶ï¼Œå¹¶åœ¨åˆ é™¤ä¹‹å‰è¯¢é—®å®ƒä»¬1find /var/log -type f -mtime +7 -ok rm &#123;&#125; \\; æŸ¥æ‰¾å‰ç›®å½•ä¸­æ–‡ä»¶å±ä¸»å…·æœ‰è¯»ã€å†™æƒé™ï¼Œå¹¶ä¸”æ–‡ä»¶æ‰€å±ç»„çš„ç”¨æˆ·å’Œå…¶ä»–ç”¨æˆ·å…·æœ‰è¯»æƒé™çš„æ–‡ä»¶1find . -type f -perm 644 -exec ls -l &#123;&#125; \\; ä¸ºäº†æŸ¥æ‰¾ç³»ç»Ÿä¸­æ‰€æœ‰æ–‡ä»¶é•¿åº¦ä¸º0çš„æ™®é€šæ–‡ä»¶ï¼Œå¹¶åˆ—å‡ºå®ƒä»¬çš„å®Œæ•´è·¯å¾„1find / -type f -size 0 -exec ls -l &#123;&#125; \\; å…¶ä»–çš„ä¾‹å­12345678910111213141516find / -amin -10 # æŸ¥æ‰¾åœ¨ç³»ç»Ÿä¸­æœ€å10åˆ†é’Ÿè®¿é—®çš„æ–‡ä»¶(access time)find / -atime -2 # æŸ¥æ‰¾åœ¨ç³»ç»Ÿä¸­æœ€å48å°æ—¶è®¿é—®çš„æ–‡ä»¶find / -empty # æŸ¥æ‰¾åœ¨ç³»ç»Ÿä¸­ä¸ºç©ºçš„æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹find / -group cat # æŸ¥æ‰¾åœ¨ç³»ç»Ÿä¸­å±äº groupä¸ºcatçš„æ–‡ä»¶find / -mmin -5 # æŸ¥æ‰¾åœ¨ç³»ç»Ÿä¸­æœ€å5åˆ†é’Ÿé‡Œä¿®æ”¹è¿‡çš„æ–‡ä»¶(modify time)find / -mtime -1 #æŸ¥æ‰¾åœ¨ç³»ç»Ÿä¸­æœ€å24å°æ—¶é‡Œä¿®æ”¹è¿‡çš„æ–‡ä»¶find / -user fred #æŸ¥æ‰¾åœ¨ç³»ç»Ÿä¸­å±äºfredè¿™ä¸ªç”¨æˆ·çš„æ–‡ä»¶find / -size +10000c #æŸ¥æ‰¾å‡ºå¤§äº10000000å­—èŠ‚çš„æ–‡ä»¶(c:å­—èŠ‚ï¼Œw:åŒå­—ï¼Œk:KBï¼ŒM:MBï¼ŒG:GB)find / -size -1000k #æŸ¥æ‰¾å‡ºå°äº1000KBçš„æ–‡ä»¶3.ä½¿ç”¨æ··åˆæŸ¥æ‰¾æ–¹å¼æŸ¥æ‰¾æ–‡ä»¶ å‚æ•°æœ‰ï¼š ï¼ï¼Œ-and(-a)ï¼Œ-or(-o)ã€‚find /tmp -size +10000c -and -mtime +2 #åœ¨/tmpç›®å½•ä¸‹æŸ¥æ‰¾å¤§äº10000å­—èŠ‚å¹¶åœ¨æœ€å2åˆ†é’Ÿå†…ä¿®æ”¹çš„æ–‡ä»¶find / -user fred -or -user george #åœ¨/ç›®å½•ä¸‹æŸ¥æ‰¾ç”¨æˆ·æ˜¯fredæˆ–è€…georgeçš„æ–‡ä»¶æ–‡ä»¶find /tmp ! -user panda #åœ¨/tmpç›®å½•ä¸­æŸ¥æ‰¾æ‰€æœ‰ä¸å±äºpandaç”¨æˆ·çš„æ–‡ä»¶","tags":[]},{"title":"2019å¹´è¯»ä¹¦è®¡åˆ’","date":"2018-12-29T07:58:18.000Z","path":"2018/12/29/æ‚è°ˆ/","text":"2018å¹´å¾ˆå¿«è¿›å…¥äº†å°¾å£°ï¼Œæƒ³æƒ³ä»Šå¹´ä¸åœ¨æƒ³è¿‡ç¢Œç¢Œæ— ä¸ºçš„äº‹æƒ…ï¼Œå¼€å§‹æœ‰äº†è‡ªå·±çš„è§„åˆ’ã€‚ä¸€æ–¹é¢å¯èƒ½æ˜¯å› ä¸ºæœ‰äº†å‹åŠ›ï¼Œå¦ä¸€æ–¹é¢æ„Ÿè§‰è‡ªå·±éœ€è¦æ›´å¤šçš„æˆé•¿ã€‚2018å¹´å®šçš„ä»»åŠ¡å®Œæˆåº¦å®Œæˆäº†70%ï¼Œè‡ªå·±æ„Ÿè§‰å®Œæˆçš„ä¸å¥½ã€‚éœ€è¦æ›´å¤šçš„æ¿€åŠ±ï¼Œæ›´å¤šçš„é­ç­–ã€‚åœ¨æœ€åçš„2018å¹´çš„å‡ å¤©äº†ï¼Œæƒ³ç€è‡ªå·±2019å¹´çš„è§„åˆ’ï¼Œè½å®åˆ°å®é™…è¿‡ç¨‹ä¸­ï¼Œä¸åœ¨åº¸åº¸ç¢Œç¢Œï¼Œç”¨è¿™è¾¹æ–‡ç« æ¥å†™ä¸‹è‡ªå·±çš„å¿ƒè·¯å†ç¨‹ã€‚åªå†™è‡ªå·±çš„2019å¹´æ‰€çœ‹çš„ä¹¦ç± æ‹“å±•ä¹¦ç±è¯»è‡³å°‘12æœ¬ä¹¦ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªæœˆä¸€æœ¬ä¹¦ PS:ä»¥åå†è¡¥å…… é£é—»æœ‰ä½  è€¶è·¯æ’’å†·ä¸‰åƒå¹´ åŠ å°”æ–‡è¦ä¹‰(ä¸Š) åŠ å°”æ–‡è¦ä¹‰(ä¸­) åŠ å°”æ–‡è¦ä¹‰(ä¸‹) ç©†æ–¯æ—çš„è‘¬ç¤¼ ä¸“ä¸šä¹¦ç±éšç€å·¥ä½œï¼Œå‘ç°è‡ªå·±éœ€è¦å­¦ä¹ çš„è¶Šæ¥è¶Šå¤šï¼Œæ‰€ä»¥ä»Šå¹´è‡³å°‘éœ€è¦çœ‹çš„ä¹¦ç±ã€‚PS:ä»¥åå†è¡¥å…… è·Ÿç€è€é½å­¦python(æŒä¹‹ä»¥æ’ï¼Œæœ‰å§‹æœ‰ç»ˆ) æ•°æ®ç»“æ„ pythonæ ¸å¿ƒç¼–ç¨‹ ç®—æ³• åœ£ç»æ€ä¹ˆéƒ½ä¸èƒ½æ²¡æœ‰è‡ªå·±çš„ä¿¡ä»°ï¼Œåœ£ç»ä¹Ÿæ˜¯éœ€è¦è¯»ä¸€é","tags":[]},{"title":"Supervisorç®¡ç†è¿›ç¨‹","date":"2018-12-26T07:27:04.000Z","path":"2018/12/26/Supervisorç®¡ç†è¿›ç¨‹/","text":"Supervisor æ˜¯ä¸€ä¸ªç”¨ Python å†™çš„è¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„ç”¨æ¥å¯åŠ¨ã€é‡å¯ã€å…³é—­è¿›ç¨‹ï¼ˆä¸ä»…ä»…æ˜¯ Python è¿›ç¨‹ï¼‰ã€‚é™¤äº†å¯¹å•ä¸ªè¿›ç¨‹çš„æ§åˆ¶ï¼Œè¿˜å¯ä»¥åŒæ—¶å¯åŠ¨ã€å…³é—­å¤šä¸ªè¿›ç¨‹ï¼Œæ¯”å¦‚å¾ˆä¸å¹¸çš„æœåŠ¡å™¨å‡ºé—®é¢˜å¯¼è‡´æ‰€æœ‰åº”ç”¨ç¨‹åºéƒ½è¢«æ€æ­»ï¼Œæ­¤æ—¶å¯ä»¥ç”¨ Supervisor åŒæ—¶å¯åŠ¨æ‰€æœ‰åº”ç”¨ç¨‹åºè€Œä¸æ˜¯ä¸€ä¸ªä¸€ä¸ªåœ°æ•²å‘½ä»¤å¯åŠ¨ã€‚ å®‰è£…Supervisor å¯ä»¥è¿è¡Œåœ¨ Linuxã€Mac OS X ä¸Šã€‚å¦‚å‰æ‰€è¿°ï¼ŒSupervisor æ˜¯ Python ç¼–å†™çš„ï¼Œæ‰€ä»¥å®‰è£…èµ·æ¥ä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œå¯ä»¥ç›´æ¥ç”¨ pip å®‰è£…:1$ sudo pip install supervisor å› ä¸ºsupervisorï¼Œåªèƒ½å®‰è£…åœ¨python2.Xä¸Šé¢ï¼Œç›®å‰å¼€å‘ç”¨çš„æ˜¯3.5.0ï¼Œæ‰€ä»¥è¿™é‡Œç”¨åˆ°äº†pyenvã€‚pyenvæ¥ç®¡ç†ç”¨python2.Xè¿˜æ˜¯python3.Xã€‚å­¦ä¹ pyenvè¯·ç‚¹é“¾æ¥ï¼špyenv é…ç½® Supervisor ç›¸å½“å¼ºå¤§ï¼Œæä¾›äº†å¾ˆä¸°å¯Œçš„åŠŸèƒ½ï¼Œä¸è¿‡æˆ‘ä»¬å¯èƒ½åªéœ€è¦ç”¨åˆ°å…¶ä¸­ä¸€å°éƒ¨åˆ†ã€‚å®‰è£…å®Œæˆä¹‹åï¼Œå¯ä»¥ç¼–å†™é…ç½®æ–‡ä»¶ï¼Œæ¥æ»¡è¶³è‡ªå·±çš„éœ€æ±‚ã€‚ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬æŠŠé…ç½®åˆ†æˆä¸¤éƒ¨åˆ† Supervisorï¼ˆSupervisor æ˜¯ä¸€ä¸ª C/S æ¨¡å‹çš„ç¨‹åºï¼Œè¿™æ˜¯ server ç«¯ï¼Œå¯¹åº”çš„æœ‰ client ç«¯ï¼šsupervisorctlï¼‰å’Œåº”ç”¨ç¨‹åºï¼ˆå³æˆ‘ä»¬è¦ç®¡ç†çš„ç¨‹åºï¼‰ é¦–å…ˆæ¥çœ‹ Supervisor çš„é…ç½®æ–‡ä»¶ã€‚å®‰è£…å®Œ Supervisor ä¹‹åï¼Œå¯ä»¥è¿è¡Œ echo_supervisord_conf å‘½ä»¤è¾“å‡ºé»˜è®¤çš„é…ç½®é¡¹ï¼Œä¹Ÿå¯ä»¥é‡å®šå‘åˆ°ä¸€ä¸ªé…ç½®æ–‡ä»¶é‡Œï¼š1echo_supervisord_conf &gt; /etc/supervisord.conf å»é™¤é‡Œé¢å¤§éƒ¨åˆ†æ³¨é‡Šå’Œâ€œä¸ç›¸å…³â€çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆçœ‹è¿™äº›é…ç½®ï¼š12345678910111213141516171819202122232425262728[unix_http_server]file=/tmp/supervisor.sock ; UNIX socket æ–‡ä»¶ï¼Œsupervisorctl ä¼šä½¿ç”¨;chmod=0700 ; socket æ–‡ä»¶çš„ modeï¼Œé»˜è®¤æ˜¯ 0700;chown=nobody:nogroup ; socket æ–‡ä»¶çš„ ownerï¼Œæ ¼å¼ï¼š uid:gid;[inet_http_server] ; HTTP æœåŠ¡å™¨ï¼Œæä¾› web ç®¡ç†ç•Œé¢;port=127.0.0.1:9001 ; Web ç®¡ç†åå°è¿è¡Œçš„ IP å’Œç«¯å£ï¼Œå¦‚æœå¼€æ”¾åˆ°å…¬ç½‘ï¼Œéœ€è¦æ³¨æ„å®‰å…¨æ€§;username=user ; ç™»å½•ç®¡ç†åå°çš„ç”¨æˆ·å;password=123 ; ç™»å½•ç®¡ç†åå°çš„å¯†ç [supervisord]logfile=/tmp/supervisord.log ; æ—¥å¿—æ–‡ä»¶ï¼Œé»˜è®¤æ˜¯ $CWD/supervisord.loglogfile_maxbytes=50MB ; æ—¥å¿—æ–‡ä»¶å¤§å°ï¼Œè¶…å‡ºä¼š rotateï¼Œé»˜è®¤ 50MBlogfile_backups=10 ; æ—¥å¿—æ–‡ä»¶ä¿ç•™å¤‡ä»½æ•°é‡é»˜è®¤ 10loglevel=info ; æ—¥å¿—çº§åˆ«ï¼Œé»˜è®¤ infoï¼Œå…¶å®ƒ: debug,warn,tracepidfile=/tmp/supervisord.pid ; pid æ–‡ä»¶nodaemon=false ; æ˜¯å¦åœ¨å‰å°å¯åŠ¨ï¼Œé»˜è®¤æ˜¯ falseï¼Œå³ä»¥ daemon çš„æ–¹å¼å¯åŠ¨minfds=1024 ; å¯ä»¥æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦çš„æœ€å°å€¼ï¼Œé»˜è®¤ 1024minprocs=200 ; å¯ä»¥æ‰“å¼€çš„è¿›ç¨‹æ•°çš„æœ€å°å€¼ï¼Œé»˜è®¤ 200; the below section must remain in the config file for RPC; (supervisorctl/web interface) to work, additional interfaces may be; added by defining them in separate rpcinterface: sections[rpcinterface:supervisor]supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface[supervisorctl]serverurl=unix:///tmp/supervisor.sock ; é€šè¿‡ UNIX socket è¿æ¥ supervisordï¼Œè·¯å¾„ä¸ unix_http_server éƒ¨åˆ†çš„ file ä¸€è‡´;serverurl=http://127.0.0.1:9001 ; é€šè¿‡ HTTP çš„æ–¹å¼è¿æ¥ supervisord; åŒ…å«å…¶ä»–çš„é…ç½®æ–‡ä»¶[include]files = relative/directory/*.ini ; å¯ä»¥æ˜¯ *.conf æˆ– *.ini æˆ‘ä»¬æŠŠä¸Šé¢è¿™éƒ¨åˆ†é…ç½®ä¿å­˜åˆ° /etc/supervisord.confï¼ˆæˆ–å…¶ä»–ä»»æ„æœ‰æƒé™è®¿é—®çš„æ–‡ä»¶ï¼‰ç„¶åå¯åŠ¨ supervisordï¼ˆé€šè¿‡ -c é€‰é¡¹æŒ‡å®šé…ç½®æ–‡ä»¶è·¯å¾„ï¼Œå¦‚æœä¸æŒ‡å®šä¼šæŒ‰ç…§è¿™ä¸ªé¡ºåºæŸ¥æ‰¾é…ç½®æ–‡ä»¶ï¼š$CWD/supervisord.conf, $CWD/etc/supervisord.conf, /etc/supervisord.confï¼‰1supervisord -c /etc/supervisord.conf æŸ¥çœ‹ supervisord æ˜¯å¦åœ¨è¿è¡Œï¼š1ps aux | grep supervisord program é…ç½®ä¸Šé¢æˆ‘ä»¬å·²ç»æŠŠ supervisrod è¿è¡Œèµ·æ¥äº†ï¼Œç°åœ¨å¯ä»¥æ·»åŠ æˆ‘ä»¬è¦ç®¡ç†çš„è¿›ç¨‹çš„é…ç½®æ–‡ä»¶ã€‚å¯ä»¥æŠŠæ‰€æœ‰é…ç½®é¡¹éƒ½å†™åˆ° supervisord.conf æ–‡ä»¶é‡Œï¼Œä½†å¹¶ä¸æ¨èè¿™æ ·åšï¼Œè€Œæ˜¯é€šè¿‡ include çš„æ–¹å¼æŠŠä¸åŒçš„ç¨‹åºï¼ˆç»„ï¼‰å†™åˆ°ä¸åŒçš„é…ç½®æ–‡ä»¶é‡Œã€‚ä¸ºäº†ä¸¾ä¾‹ï¼Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ªç›®å½• /etc/supervisor/ ç”¨äºå­˜æ”¾è¿™äº›é…ç½®æ–‡ä»¶ï¼Œç›¸åº”çš„ï¼ŒæŠŠ /etc/supervisord.conf é‡Œ include éƒ¨åˆ†çš„çš„é…ç½®ä¿®æ”¹ä¸€ä¸‹ï¼š12[include]files = /etc/supervisor/*.conf å‡è®¾æœ‰ä¸ªç”¨ Python å’Œ Flask æ¡†æ¶ç¼–å†™çš„ç”¨æˆ·ä¸­å¿ƒç³»ç»Ÿï¼Œå–å usercenterï¼Œç”¨ gunicorn åš web æœåŠ¡å™¨ã€‚é¡¹ç›®ä»£ç ä½äº /home/leon/projects/usercenterï¼Œgunicorn é…ç½®æ–‡ä»¶ä¸º gunicorn.pyï¼ŒWSGI callable æ˜¯ wsgi.py é‡Œçš„ app å±æ€§ã€‚æ‰€ä»¥ç›´æ¥åœ¨å‘½ä»¤è¡Œå¯åŠ¨çš„ï¼Œæ–¹å¼å¯èƒ½æ˜¯è¿™æ ·çš„ï¼š12cd /home/leon/projects/usercentergunicorn -c gunicorn.py wsgi:app ç°åœ¨ç¼–å†™ä¸€ä»½é…ç½®æ–‡ä»¶æ¥ç®¡ç†è¿™ä¸ªè¿›ç¨‹ï¼ˆéœ€è¦æ³¨æ„ï¼šç”¨ supervisord ç®¡ç†æ—¶ï¼Œgunicorn çš„ daemon é€‰é¡¹éœ€è¦è®¾ç½®ä¸º Falseï¼‰ï¼š123456789101112131415[program:usercenter]directory = /home/leon/projects/usercenter ; ç¨‹åºçš„å¯åŠ¨ç›®å½•command = gunicorn -c gunicorn.py wsgi:app ; å¯åŠ¨å‘½ä»¤ï¼Œå¯ä»¥çœ‹å‡ºä¸æ‰‹åŠ¨åœ¨å‘½ä»¤è¡Œå¯åŠ¨çš„å‘½ä»¤æ˜¯ä¸€æ ·çš„autostart = true ; åœ¨ supervisord å¯åŠ¨çš„æ—¶å€™ä¹Ÿè‡ªåŠ¨å¯åŠ¨startsecs = 5 ; å¯åŠ¨ 5 ç§’åæ²¡æœ‰å¼‚å¸¸é€€å‡ºï¼Œå°±å½“ä½œå·²ç»æ­£å¸¸å¯åŠ¨äº†autorestart = true ; ç¨‹åºå¼‚å¸¸é€€å‡ºåè‡ªåŠ¨é‡å¯startretries = 3 ; å¯åŠ¨å¤±è´¥è‡ªåŠ¨é‡è¯•æ¬¡æ•°ï¼Œé»˜è®¤æ˜¯ 3user = leon ; ç”¨å“ªä¸ªç”¨æˆ·å¯åŠ¨redirect_stderr = true ; æŠŠ stderr é‡å®šå‘åˆ° stdoutï¼Œé»˜è®¤ falsestdout_logfile_maxbytes = 20MB ; stdout æ—¥å¿—æ–‡ä»¶å¤§å°ï¼Œé»˜è®¤ 50MBstdout_logfile_backups = 20 ; stdout æ—¥å¿—æ–‡ä»¶å¤‡ä»½æ•°; stdout æ—¥å¿—æ–‡ä»¶ï¼Œéœ€è¦æ³¨æ„å½“æŒ‡å®šç›®å½•ä¸å­˜åœ¨æ—¶æ— æ³•æ­£å¸¸å¯åŠ¨ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨åˆ›å»ºç›®å½•ï¼ˆsupervisord ä¼šè‡ªåŠ¨åˆ›å»ºæ—¥å¿—æ–‡ä»¶ï¼‰stdout_logfile = /data/logs/usercenter_stdout.log; å¯ä»¥é€šè¿‡ environment æ¥æ·»åŠ éœ€è¦çš„ç¯å¢ƒå˜é‡ï¼Œä¸€ç§å¸¸è§çš„ç”¨æ³•æ˜¯ä¿®æ”¹ PYTHONPATH; environment=PYTHONPATH=$PYTHONPATH:/path/to/somewhere ä¸€ä»½é…ç½®æ–‡ä»¶è‡³å°‘éœ€è¦ä¸€ä¸ª [program:x] éƒ¨åˆ†çš„é…ç½®ï¼Œæ¥å‘Šè¯‰ supervisord éœ€è¦ç®¡ç†é‚£ä¸ªè¿›ç¨‹ã€‚[program:x] è¯­æ³•ä¸­çš„ x è¡¨ç¤º program nameï¼Œä¼šåœ¨å®¢æˆ·ç«¯ï¼ˆsupervisorctl æˆ– web ç•Œé¢ï¼‰æ˜¾ç¤ºï¼Œåœ¨ supervisorctl ä¸­é€šè¿‡è¿™ä¸ªå€¼æ¥å¯¹ç¨‹åºè¿›è¡Œ startã€restartã€stop ç­‰æ“ä½œ","tags":[{"name":"Supervisor","slug":"Supervisor","permalink":"http://yoursite.com/tags/Supervisor/"}]},{"title":"pythonæ•°ç»„çš„ç›¸å…³çŸ¥è¯†","date":"2018-12-25T02:43:28.000Z","path":"2018/12/25/pythonæ•°ç»„äº¤é›†ã€å¹¶é›†ã€å·®é›†/","text":"æ•°ç»„æ˜¯åœ¨pythonä¸­å¾ˆå¸¸è§ï¼Œæ‰€ä»¥å…³äºæ•°ç»„çš„çŸ¥è¯†ç‚¹ä¹Ÿç›¸å½“é‡è¦ã€‚è¿™ç¯‡åšå®¢æ˜¯æŠŠå·¥ä½œä¸­ç”¨åˆ°çš„çŸ¥è¯†ç‚¹è®°å½•ä¸€ä¸‹ï¼ŒæŒç»­æ›´æ–°ä¸­ 1ã€æ•°ç»„çš„äº¤é›†ã€å¹¶é›†ã€å·®é›†2ã€æ•°ç»„è½¬å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²è½¬æ•°ç»„ æ•°ç»„çš„äº¤é›†ã€å¹¶é›†ã€å·®é›†123456a = [1, 3, 65, 2, 7]b = [3, 2, 5, 4]print(set(a).intersection(set(b))) # äº¤é›†print(set(a).union(set(b))) # å¹¶é›†print(set(a).difference(set(b))) # å·®é›†ï¼Œåœ¨aä¸­ä½†ä¸åœ¨bä¸­çš„å…ƒç´ print(set(b).difference(set(a))) # å·®é›†ï¼Œåœ¨bä¸­ä½†ä¸åœ¨aä¸­çš„å…ƒç´  ç»“æœ1234&#123;2, 3&#125;&#123;65, 1, 2, 3, 4, 5, 7&#125;&#123;65, 1, 7&#125;&#123;4, 5&#125; æ•°ç»„è½¬å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²è½¬æ•°ç»„å­—ç¬¦ä¸²è½¬æ•°ç»„123str = '1,2,3'arr = str.split(',')print(\"arr is &#123;&#125;\".format(arr)) ç»“æœ1arr is ['1', '2', '3'] æ•°ç»„è½¬å­—ç¬¦ä¸²12345678# æ–¹æ³•1arr = ['a','b']str1 = ','.join(arr)print('str1 is &#123;&#125;'.format(str1))#æ–¹æ³•2arr = [1,2,3]str2 = ','.join(str(i) for i in arr)print('str2 is &#123;&#125;'.format(str2)) ç»“æœ12str1 is a,bstr2 is 1,2,3","tags":[]},{"title":"Flask-OAuth urlparseé”™è¯¯","date":"2018-12-13T07:52:27.000Z","path":"2018/12/13/Flask-OAuth-urlparseé”™è¯¯/","text":"æœ€è¿‘ç”¨åˆ°äº†Flash-OAuthçš„ä¸‰æ–¹åº“ï¼Œä¸€è¿è¡Œï¼Œé”™è¯¯12345 File \"/Users/FQY/Desktop/bm_blog/blog/extensions.py\", line 10, in &lt;module&gt; from flask_oauth import OAuth File \"/Users/FQY/env350/lib/python3.5/site-packages/flask_oauth.py\", line 13, in &lt;module&gt; from urlparse import parseImportError: No module named 'urlparse' å…ˆè¯´æ˜ä¸‹æˆ‘ç”¨çš„pythonç¯å¢ƒæ˜¯3.5.0,ç™¾åº¦ä¸‹è¯´æ˜¯from urlparse import urljoin æ˜¯2.0çš„pythonç”¨æ³•ï¼Œ3.0çš„pythonç”¨æ³•å·²ç»urlparseå·²ç»è¢«é‡æ–°è®¾ç½®,æ‰€ä»¥è¿›å…¥ä¸‰æ–¹åº“é‡Œé¢æ”¹ä¸‹å°±å¯ä»¥äº†ã€‚è¿›å…¥flask_oauth.pyæ–‡ä»¶ä¸­è¿›è¡Œä¿®æ”¹åŸä»£ç 1234567import httplib2from functools import wrapsfrom urlparse import urljoinfrom flask import request, session, json, redirect, Responsefrom werkzeug import url_decode, url_encode, url_quote, \\ parse_options_header, Headersimport oauth2 ä¿®æ”¹ä»¥åçš„ä»£ç 1234567import httplib2from functools import wrapsfrom urllib.parse import urljoinfrom flask import request, session, json, redirect, Responsefrom werkzeug import url_decode, url_encode, url_quote, \\ parse_options_header, Headersimport oauth2 è¿™æ—¶å€™åœ¨è¿è¡Œå°±å¯ä»¥äº†ã€‚","tags":[]},{"title":"Linux tree:ç›®å½•ç»“æ„ä»¥æ ‘å½¢æ˜¾ç¤º","date":"2018-12-12T06:51:20.000Z","path":"2018/12/12/ç›®å½•ç»“æ„ä»¥æ ‘å½¢æ˜¾ç¤º/","text":"æœ‰æ—¶å€™çœ‹åˆ°åˆ«äººçš„ç›®å½•ç»“æ„æ˜¯ä»¥æ ‘å½¢æ˜¾ç¤ºï¼Œçœ‹åˆ°ä»¥åæ„Ÿè§‰å¾ˆé…·ï¼Œæ‰€ä»¥è‡ªå·±å°±googleäº†ä¸‹ï¼Œå‘ç°äº†å¾ˆç®€å•ã€‚ å®ä¾‹123456789101112131415â•­â”€FQY@bogon ~/Desktop/helloâ•°â”€$ tree .â”œâ”€â”€ dong.txtâ”œâ”€â”€ dong_s.txt -&gt; dong.txtâ”œâ”€â”€ hellâ”‚ â”œâ”€â”€ hellâ”‚ â”‚ â””â”€â”€ helloâ”‚ â””â”€â”€ helloâ”œâ”€â”€ helloâ”œâ”€â”€ hello1â”œâ”€â”€ hello_s -&gt; helloâ””â”€â”€ tmd.rtf2 directories, 8 files å…·ä½“æ›´å¤šçš„å…³äºtreeçš„æŒ‡ä»¤ï¼ŒåæœŸåœ¨è¡¥å…… æœªå®Œæ¥ç»­ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚","tags":[]},{"title":"Linux fileå‘½ä»¤:æŸ¥çœ‹æ–‡ä»¶ä¿¡æ¯æˆ–ç±»å‹","date":"2018-12-11T08:32:25.000Z","path":"2018/12/11/Linux-fileå‘½ä»¤-æŸ¥çœ‹æ–‡ä»¶ä¿¡æ¯æˆ–ç±»å‹/","text":"Linux fileå‘½ä»¤ç”¨äºè¾¨è¯†æ–‡ä»¶ç±»å‹,é€šè¿‡fileæŒ‡ä»¤ï¼Œæˆ‘ä»¬å¾—ä»¥è¾¨è¯†è¯¥æ–‡ä»¶çš„ç±»å‹ã€‚ è¯­æ³• file [-bcLvz][-f &lt;åç§°æ–‡ä»¶&gt;][-m &lt;é­”æ³•æ•°å­—æ–‡ä»¶&gt;â€¦][æ–‡ä»¶æˆ–ç›®å½•â€¦]å‚æ•° -b åˆ—å‡ºè¾¨è¯†ç»“æœæ—¶ï¼Œä¸æ˜¾ç¤ºæ–‡ä»¶åç§°ã€‚ -c è¯¦ç»†æ˜¾ç¤ºæŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ï¼Œä¾¿äºæ’é”™æˆ–åˆ†æç¨‹åºæ‰§è¡Œçš„æƒ…å½¢ã€‚ -f&lt;åç§°æ–‡ä»¶&gt; æŒ‡å®šåç§°æ–‡ä»¶ï¼Œå…¶å†…å®¹æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶åç§°æ—¶ï¼Œè®©fileä¾åºè¾¨è¯†è¿™äº›æ–‡ä»¶ï¼Œæ ¼å¼ä¸ºæ¯åˆ—ä¸€ä¸ªæ–‡ä»¶åç§°ã€‚ -L ç›´æ¥æ˜¾ç¤ºç¬¦å·è¿æ¥æ‰€æŒ‡å‘çš„æ–‡ä»¶çš„ç±»åˆ«ã€‚ -m&lt;é­”æ³•æ•°å­—æ–‡ä»¶&gt; æŒ‡å®šé­”æ³•æ•°å­—æ–‡ä»¶ã€‚ -v æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ã€‚ -z å°è¯•å»è§£è¯»å‹ç¼©æ–‡ä»¶çš„å†…å®¹ (æ”¯æŒgzipç±»å‹)ã€‚ [æ–‡ä»¶æˆ–ç›®å½•â€¦]è¦ç¡®å®šç±»å‹çš„æ–‡ä»¶åˆ—è¡¨ï¼Œå¤šä¸ªæ–‡ä»¶ä¹‹é—´ä½¿ç”¨ç©ºæ ¼åˆ†å¼€ï¼Œå¯ä»¥ä½¿ç”¨shellé€šé…ç¬¦åŒ¹é…å¤šä¸ªæ–‡ä»¶ å®ä¾‹æŸ¥çœ‹æ–‡ä»¶ç±»å‹12[root@hardwareupdate linux_test]# file hello.txthello.txt: UTF-8 Unicode text ä½¿ç”¨ä¸å¸¦ä»»ä½•é€‰é¡¹çš„ file å‘½ä»¤ï¼Œå³å¯æŸ¥çœ‹æŒ‡å®šæ–‡ä»¶çš„ç±»å‹ä¿¡æ¯ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­å¯ä»¥çœ‹å‡º poetry.txt çš„æ–‡ä»¶ç±»å‹ä¸º textï¼Œç¼–ç æ ¼å¼ä¸º UTF-8ã€‚ ä½¿ç”¨-bå°±åªæ˜¾ç¤ºç¼–ç å’Œæ–‡ä»¶ç±»å‹ï¼Œä¸æ˜¾ç¤ºæ–‡ä»¶å12[root@hardwareupdate linux_test]# file -b hello.txtUTF-8 Unicode text ä½¿ç”¨-iï¼Œå’±ä»¬èƒ½çœ‹å‡ºä»€ä¹ˆ?12[root@hardwareupdate linux_test]# file -i hello.txthello.txt: text/plain; charset=utf-8 å¸¸è§çš„æ–‡ä»¶ç±»å‹ï¼š text/plainï¼šæ™®é€šæ–‡æœ¬ã€‚ text/htmlï¼šHTMLæ–‡æœ¬ã€‚ application/pdfï¼šPDFæ–‡æ¡£ã€‚ application/mswordï¼šWordæ–‡æ¡£ã€‚ image/pngï¼šPNGå›¾ç‰‡ã€‚ mage/jpegï¼šJPEGå›¾ç‰‡ã€‚ application/x-tarï¼šTARæ–‡ä»¶ã€‚ application/x-gzipï¼šGZIPæ–‡ä»¶ æŒ‰ç…§æ¸…å•å»å·¥ä½œå¦‚æœæˆ‘ä»¬éœ€è¦ç”¨ file å‘½ä»¤æŸ¥çœ‹å¤§é‡æ–‡ä»¶çš„ç±»å‹ä¿¡æ¯ï¼Œæ°å¥½è¿™äº›æ–‡ä»¶çš„åç§°éƒ½è¢«å­˜å‚¨åœ¨äº†ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ä¸­ï¼Œé‚£ä¹ˆ-fé€‰é¡¹å°±æ´¾ä¸Šç”¨åœºäº†ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡-fé€‰é¡¹æ¥æŒ‡å®šè¿™ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œfile å‘½ä»¤å°±ä¼šä¹–ä¹–åœ°å»é€ä¸ªæŸ¥çœ‹æ¯ä¸€ä¸ªæ–‡ä»¶çš„ç±»å‹ä¿¡æ¯ï¼Œç¤ºä¾‹å¦‚ä¸‹:1234567891011#æ–‡ä»¶ä¸­å«æœ‰ä¸‰ä¸ªå¾…æŸ¥æ–‡ä»¶, æˆ‘ä»¬æ•…æ„è®¾ç½®äº†ä¸€ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶, ä½äºæœ€åä¸€ä¸ª[roc@roclinux ~]$ cat poetry_list.txt/root/book/poetry.txt/root/book/poetry_s.txtNothing.txt #ä½¿ç”¨-fé€‰é¡¹æ‰§è¡Œfileå‘½ä»¤[roc@roclinux ~]$ file -f poetry_list.txt/root/book/poetry.txt: ASCII text/root/book/poetry_s.txt: symbolic link to `poetry.txt'Nothing.txt: ERROR: cannot open `Nothing.txt ' (No such file or directory) å…¶ä»–çš„å„ç§æŒ‡ä»¤ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥å»å°è¯•ï¼Œæ¯”å¦‚-Lï¼Œå½“ç”¨è½¯é“¾æ¥çš„æ—¶å€™ä¸ä¼šç›´æ¥è¿”å›æ–‡ä»¶ç±»å‹ï¼Œè€Œæ˜¯è¿”å›çš„æ˜¯symbolic link to XXXï¼Œæ‰€ä»¥åŠ -Lå°±å¯ä»¥çŸ¥é“å®ƒæ˜¯å“ªä¸ªç±»å‹äº†ã€‚ å‚è€ƒfileå‘½ä»¤_Linux fileå‘½ä»¤ï¼šæŸ¥çœ‹æ–‡ä»¶ä¿¡æ¯æˆ–ç±»å‹","tags":[]},{"title":"å¸¸è§çš„HTTPçŠ¶æ€ç (HTTP Status Code)","date":"2018-12-11T03:29:43.000Z","path":"2018/12/11/å¸¸è§çš„HTTPçŠ¶æ€ç -HTTP-Status-Code/","text":"2å¼€å¤´ ï¼ˆè¯·æ±‚æˆåŠŸï¼‰è¡¨ç¤ºæˆåŠŸå¤„ç†äº†è¯·æ±‚çš„çŠ¶æ€ä»£ç ã€‚200 ï¼ˆæˆåŠŸï¼‰ æœåŠ¡å™¨å·²æˆåŠŸå¤„ç†äº†è¯·æ±‚ã€‚ é€šå¸¸ï¼Œè¿™è¡¨ç¤ºæœåŠ¡å™¨æä¾›äº†è¯·æ±‚çš„ç½‘é¡µã€‚201 ï¼ˆå·²åˆ›å»ºï¼‰ è¯·æ±‚æˆåŠŸå¹¶ä¸”æœåŠ¡å™¨åˆ›å»ºäº†æ–°çš„èµ„æºã€‚202 ï¼ˆå·²æ¥å—ï¼‰ æœåŠ¡å™¨å·²æ¥å—è¯·æ±‚ï¼Œä½†å°šæœªå¤„ç†ã€‚203 ï¼ˆéæˆæƒä¿¡æ¯ï¼‰ æœåŠ¡å™¨å·²æˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œä½†è¿”å›çš„ä¿¡æ¯å¯èƒ½æ¥è‡ªå¦ä¸€æ¥æºã€‚204 ï¼ˆæ— å†…å®¹ï¼‰ æœåŠ¡å™¨æˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œä½†æ²¡æœ‰è¿”å›ä»»ä½•å†…å®¹ã€‚205 ï¼ˆé‡ç½®å†…å®¹ï¼‰ æœåŠ¡å™¨æˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œä½†æ²¡æœ‰è¿”å›ä»»ä½•å†…å®¹ã€‚206 ï¼ˆéƒ¨åˆ†å†…å®¹ï¼‰ æœåŠ¡å™¨æˆåŠŸå¤„ç†äº†éƒ¨åˆ† GET è¯·æ±‚,æµè§†é¢‘ç›´æ’­ä¸€èˆ¬è¿”å›206 3å¼€å¤´ ï¼ˆè¯·æ±‚è¢«é‡å®šå‘ï¼‰è¡¨ç¤ºè¦å®Œæˆè¯·æ±‚ï¼Œéœ€è¦è¿›ä¸€æ­¥æ“ä½œã€‚ é€šå¸¸ï¼Œè¿™äº›çŠ¶æ€ä»£ç ç”¨æ¥é‡å®šå‘ã€‚ 300 ï¼ˆå¤šç§é€‰æ‹©ï¼‰ é’ˆå¯¹è¯·æ±‚ï¼ŒæœåŠ¡å™¨å¯æ‰§è¡Œå¤šç§æ“ä½œã€‚ æœåŠ¡å™¨å¯æ ¹æ®è¯·æ±‚è€… (user agent) é€‰æ‹©ä¸€é¡¹æ“ä½œï¼Œæˆ–æä¾›æ“ä½œåˆ—è¡¨ä¾›è¯·æ±‚è€…é€‰æ‹©ã€‚301 ï¼ˆæ°¸ä¹…ç§»åŠ¨ï¼‰ è¯·æ±‚çš„ç½‘é¡µå·²æ°¸ä¹…ç§»åŠ¨åˆ°æ–°ä½ç½®ã€‚ æœåŠ¡å™¨è¿”å›æ­¤å“åº”ï¼ˆå¯¹ GET æˆ– HEAD è¯·æ±‚çš„å“åº”ï¼‰æ—¶ï¼Œä¼šè‡ªåŠ¨å°†è¯·æ±‚è€…è½¬åˆ°æ–°ä½ç½®ã€‚302 ï¼ˆä¸´æ—¶ç§»åŠ¨ï¼‰ æœåŠ¡å™¨ç›®å‰ä»ä¸åŒä½ç½®çš„ç½‘é¡µå“åº”è¯·æ±‚ï¼Œä½†è¯·æ±‚è€…åº”ç»§ç»­ä½¿ç”¨åŸæœ‰ä½ç½®æ¥è¿›è¡Œä»¥åçš„è¯·æ±‚ã€‚303 ï¼ˆæŸ¥çœ‹å…¶ä»–ä½ç½®ï¼‰ è¯·æ±‚è€…åº”å½“å¯¹ä¸åŒçš„ä½ç½®ä½¿ç”¨å•ç‹¬çš„ GET è¯·æ±‚æ¥æ£€ç´¢å“åº”æ—¶ï¼ŒæœåŠ¡å™¨è¿”å›æ­¤ä»£ç ã€‚304 ï¼ˆæœªä¿®æ”¹ï¼‰ è‡ªä»ä¸Šæ¬¡è¯·æ±‚åï¼Œè¯·æ±‚çš„ç½‘é¡µæœªä¿®æ”¹è¿‡ã€‚ æœåŠ¡å™¨è¿”å›æ­¤å“åº”æ—¶ï¼Œä¸ä¼šè¿”å›ç½‘é¡µå†…å®¹ã€‚305 ï¼ˆä½¿ç”¨ä»£ç†ï¼‰ è¯·æ±‚è€…åªèƒ½ä½¿ç”¨ä»£ç†è®¿é—®è¯·æ±‚çš„ç½‘é¡µã€‚ å¦‚æœæœåŠ¡å™¨è¿”å›æ­¤å“åº”ï¼Œè¿˜è¡¨ç¤ºè¯·æ±‚è€…åº”ä½¿ç”¨ä»£ç†ã€‚307 ï¼ˆä¸´æ—¶é‡å®šå‘ï¼‰ æœåŠ¡å™¨ç›®å‰ä»ä¸åŒä½ç½®çš„ç½‘é¡µå“åº”è¯·æ±‚ï¼Œä½†è¯·æ±‚è€…åº”ç»§ç»­ä½¿ç”¨åŸæœ‰ä½ç½®æ¥è¿›è¡Œä»¥åçš„è¯·æ±‚ã€‚ 4å¼€å¤´ ï¼ˆè¯·æ±‚é”™è¯¯ï¼‰è¿™äº›çŠ¶æ€ä»£ç è¡¨ç¤ºè¯·æ±‚å¯èƒ½å‡ºé”™ï¼Œå¦¨ç¢äº†æœåŠ¡å™¨çš„å¤„ç†ã€‚400 ï¼ˆé”™è¯¯è¯·æ±‚ï¼‰ æœåŠ¡å™¨ä¸ç†è§£è¯·æ±‚çš„è¯­æ³•ã€‚401 ï¼ˆæœªæˆæƒï¼‰ è¯·æ±‚è¦æ±‚èº«ä»½éªŒè¯ã€‚ å¯¹äºéœ€è¦ç™»å½•çš„ç½‘é¡µï¼ŒæœåŠ¡å™¨å¯èƒ½è¿”å›æ­¤å“åº”ã€‚403 ï¼ˆç¦æ­¢ï¼‰ æœåŠ¡å™¨æ‹’ç»è¯·æ±‚ã€‚404 ï¼ˆæœªæ‰¾åˆ°ï¼‰ æœåŠ¡å™¨æ‰¾ä¸åˆ°è¯·æ±‚çš„ç½‘é¡µã€‚405 ï¼ˆæ–¹æ³•ç¦ç”¨ï¼‰ ç¦ç”¨è¯·æ±‚ä¸­æŒ‡å®šçš„æ–¹æ³•ã€‚406 ï¼ˆä¸æ¥å—ï¼‰ æ— æ³•ä½¿ç”¨è¯·æ±‚çš„å†…å®¹ç‰¹æ€§å“åº”è¯·æ±‚çš„ç½‘é¡µã€‚407 ï¼ˆéœ€è¦ä»£ç†æˆæƒï¼‰ æ­¤çŠ¶æ€ä»£ç ä¸ 401ï¼ˆæœªæˆæƒï¼‰ç±»ä¼¼ï¼Œä½†æŒ‡å®šè¯·æ±‚è€…åº”å½“æˆæƒä½¿ç”¨ä»£ç†ã€‚408 ï¼ˆè¯·æ±‚è¶…æ—¶ï¼‰ æœåŠ¡å™¨ç­‰å€™è¯·æ±‚æ—¶å‘ç”Ÿè¶…æ—¶ã€‚409 ï¼ˆå†²çªï¼‰ æœåŠ¡å™¨åœ¨å®Œæˆè¯·æ±‚æ—¶å‘ç”Ÿå†²çªã€‚ æœåŠ¡å™¨å¿…é¡»åœ¨å“åº”ä¸­åŒ…å«æœ‰å…³å†²çªçš„ä¿¡æ¯ã€‚410 ï¼ˆå·²åˆ é™¤ï¼‰ å¦‚æœè¯·æ±‚çš„èµ„æºå·²æ°¸ä¹…åˆ é™¤ï¼ŒæœåŠ¡å™¨å°±ä¼šè¿”å›æ­¤å“åº”ã€‚411 ï¼ˆéœ€è¦æœ‰æ•ˆé•¿åº¦ï¼‰ æœåŠ¡å™¨ä¸æ¥å—ä¸å«æœ‰æ•ˆå†…å®¹é•¿åº¦æ ‡å¤´å­—æ®µçš„è¯·æ±‚ã€‚412 ï¼ˆæœªæ»¡è¶³å‰ææ¡ä»¶ï¼‰ æœåŠ¡å™¨æœªæ»¡è¶³è¯·æ±‚è€…åœ¨è¯·æ±‚ä¸­è®¾ç½®çš„å…¶ä¸­ä¸€ä¸ªå‰ææ¡ä»¶ã€‚413 ï¼ˆè¯·æ±‚å®ä½“è¿‡å¤§ï¼‰ æœåŠ¡å™¨æ— æ³•å¤„ç†è¯·æ±‚ï¼Œå› ä¸ºè¯·æ±‚å®ä½“è¿‡å¤§ï¼Œè¶…å‡ºæœåŠ¡å™¨çš„å¤„ç†èƒ½åŠ›ã€‚414 ï¼ˆè¯·æ±‚çš„ URI è¿‡é•¿ï¼‰ è¯·æ±‚çš„ URIï¼ˆé€šå¸¸ä¸ºç½‘å€ï¼‰è¿‡é•¿ï¼ŒæœåŠ¡å™¨æ— æ³•å¤„ç†ã€‚415 ï¼ˆä¸æ”¯æŒçš„åª’ä½“ç±»å‹ï¼‰ è¯·æ±‚çš„æ ¼å¼ä¸å—è¯·æ±‚é¡µé¢çš„æ”¯æŒã€‚416 ï¼ˆè¯·æ±‚èŒƒå›´ä¸ç¬¦åˆè¦æ±‚ï¼‰ å¦‚æœé¡µé¢æ— æ³•æä¾›è¯·æ±‚çš„èŒƒå›´ï¼Œåˆ™æœåŠ¡å™¨ä¼šè¿”å›æ­¤çŠ¶æ€ä»£ç ã€‚417 ï¼ˆæœªæ»¡è¶³æœŸæœ›å€¼ï¼‰ æœåŠ¡å™¨æœªæ»¡è¶³â€æœŸæœ›â€è¯·æ±‚æ ‡å¤´å­—æ®µçš„è¦æ±‚ã€‚ 5å¼€å¤´ï¼ˆæœåŠ¡å™¨é”™è¯¯ï¼‰è¿™äº›çŠ¶æ€ä»£ç è¡¨ç¤ºæœåŠ¡å™¨åœ¨å°è¯•å¤„ç†è¯·æ±‚æ—¶å‘ç”Ÿå†…éƒ¨é”™è¯¯ã€‚ è¿™äº›é”™è¯¯å¯èƒ½æ˜¯æœåŠ¡å™¨æœ¬èº«çš„é”™è¯¯ï¼Œè€Œä¸æ˜¯è¯·æ±‚å‡ºé”™ã€‚ 500 ï¼ˆæœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼‰ æœåŠ¡å™¨é‡åˆ°é”™è¯¯ï¼Œæ— æ³•å®Œæˆè¯·æ±‚ã€‚501 ï¼ˆå°šæœªå®æ–½ï¼‰ æœåŠ¡å™¨ä¸å…·å¤‡å®Œæˆè¯·æ±‚çš„åŠŸèƒ½ã€‚ ä¾‹å¦‚ï¼ŒæœåŠ¡å™¨æ— æ³•è¯†åˆ«è¯·æ±‚æ–¹æ³•æ—¶å¯èƒ½ä¼šè¿”å›æ­¤ä»£ç ã€‚502 ï¼ˆé”™è¯¯ç½‘å…³ï¼‰ æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†ï¼Œä»ä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°æ— æ•ˆå“åº”ã€‚503 ï¼ˆæœåŠ¡ä¸å¯ç”¨ï¼‰ æœåŠ¡å™¨ç›®å‰æ— æ³•ä½¿ç”¨ï¼ˆç”±äºè¶…è½½æˆ–åœæœºç»´æŠ¤ï¼‰ã€‚ é€šå¸¸ï¼Œè¿™åªæ˜¯æš‚æ—¶çŠ¶æ€ã€‚504 ï¼ˆç½‘å…³è¶…æ—¶ï¼‰ æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†ï¼Œä½†æ˜¯æ²¡æœ‰åŠæ—¶ä»ä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ã€‚505 ï¼ˆHTTP ç‰ˆæœ¬ä¸å—æ”¯æŒï¼‰ æœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚ä¸­æ‰€ç”¨çš„ HTTP åè®®ç‰ˆæœ¬ã€‚","tags":[]},{"title":"Linuxæ–‡ä»¶ç®¡ç†ä¹‹cmpã€diffçš„ä½¿ç”¨è¯¦è§£","date":"2018-12-10T03:41:40.000Z","path":"2018/12/10/Linuxæ–‡ä»¶ç®¡ç†ä¹‹cmpã€diffçš„ä½¿ç”¨è¯¦è§£/","text":"cmpå’Œdifféƒ½æ˜¯ç”¨äºæ¯”è¾ƒä¸¤ä¸ªæ–‡ä»¶çš„å·®å¼‚ã€‚ä½†æ˜¯ä¸¤è€…çš„ä¸åŒä¹‹å¤„åœ¨äº: cmpç”¨äºæ¯”è¾ƒä¸¤ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè€Œdiffä¸»è¦ç”¨äºæ¯”è¾ƒä¸¤ä¸ªæ–‡æœ¬æ–‡ä»¶ cmpLinux cmpå‘½ä»¤ç”¨äºæ¯”è¾ƒä¸¤ä¸ªæ–‡ä»¶æ˜¯å¦æœ‰å·®å¼‚ã€‚å½“ç›¸äº’æ¯”è¾ƒçš„ä¸¤ä¸ªæ–‡ä»¶å®Œå…¨ä¸€æ ·æ—¶ï¼Œåˆ™è¯¥æŒ‡ä»¤ä¸ä¼šæ˜¾ç¤ºä»»ä½•ä¿¡æ¯ã€‚è‹¥å‘ç°æœ‰æ‰€å·®å¼‚ï¼Œé¢„è®¾ä¼šæ ‡ç¤ºå‡ºç¬¬ä¸€ä¸ªä¸åŒä¹‹å¤„çš„å­—ç¬¦å’Œåˆ—æ•°ç¼–å·ã€‚è‹¥ä¸æŒ‡å®šä»»ä½•æ–‡ä»¶åç§°æˆ–æ˜¯æ‰€ç»™äºˆçš„æ–‡ä»¶åä¸ºâ€-â€œï¼Œåˆ™cmpæŒ‡ä»¤ä¼šä»æ ‡å‡†è¾“å…¥è®¾å¤‡è¯»å–æ•°æ®ã€‚ è¯­æ³• cmp [å‚æ•°][æ–‡ä»¶1][æ–‡ä»¶2] å‚æ•° -cæˆ–â€“print-chars é™¤äº†æ ‡æ˜å·®å¼‚å¤„çš„åè¿›åˆ¶å­—ç ä¹‹å¤–ï¼Œä¸€å¹¶æ˜¾ç¤ºè¯¥å­—ç¬¦æ‰€å¯¹åº”å­—ç¬¦ã€‚ -i&lt;å­—ç¬¦æ•°ç›®&gt;æˆ–â€“ignore-initial=&lt;å­—ç¬¦æ•°ç›®&gt; æŒ‡å®šä¸€ä¸ªæ•°ç›®ã€‚ -læˆ–â€“verbose æ ‡ç¤ºå‡ºæ‰€æœ‰ä¸ä¸€æ ·çš„åœ°æ–¹ã€‚ -sæˆ–â€“quietæˆ–â€“silent ä¸æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ã€‚ -væˆ–â€“version æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ã€‚ â€“help åœ¨çº¿å¸®åŠ©ã€‚å®ä¾‹12345678910111213141516â•­â”€FQY@bogon ~/Desktop/helloâ•°â”€$ cmp hello hello1 # hello1æ˜¯ä»helloå¤åˆ¶çš„ï¼Œç„¶ååœ¨hello1æ·»åŠ äº†ä¸€äº›å†…å®¹â•­â”€FQY@bogon ~/Desktop/helloâ•°â”€$ cmp hello hello1 # å‡ºç°EOF æ˜¯åˆ™ hello1 çš„ç¬¬ä¸€éƒ¨åˆ†ä¸ hello ç›¸åŒï¼Œä½†åœ¨ hello1 ä¸­è¿˜æœ‰å…¶ä»–æ•°æ®cmp: EOF on helloâ•­â”€FQY@bogon ~/Desktop/helloâ•°â”€$ cmp -l hello hello1 # è¿™æ—¶å€™åœ¨helloä¸­æ·»åŠ ä¸€äº›æ•°æ®ï¼Œåœ¨é‡æ–°æ¯”è¾ƒ37 351 14138 230 16339 277 14440 346 14641 226 141cmp: EOF on hello â•­â”€FQY@bogon ~/Desktop/helloâ•°â”€$ cmp hello hello1 1 â†µhello hello1 differ: char 37, line 4 diffLinux diffå‘½ä»¤ç”¨äºæ¯”è¾ƒæ–‡ä»¶çš„å·®å¼‚ã€‚diffä»¥é€è¡Œçš„æ–¹å¼ï¼Œæ¯”è¾ƒæ–‡æœ¬æ–‡ä»¶çš„å¼‚åŒå¤„ã€‚å¦‚æœæŒ‡å®šè¦æ¯”è¾ƒç›®å½•ï¼Œåˆ™diffä¼šæ¯”è¾ƒç›®å½•ä¸­ç›¸åŒæ–‡ä»¶åçš„æ–‡ä»¶ï¼Œä½†ä¸ä¼šæ¯”è¾ƒå…¶ä¸­å­ç›®å½• è¯­æ³• diff[å‚æ•°][æ–‡ä»¶1æˆ–ç›®å½•1][æ–‡ä»¶2æˆ–ç›®å½•2] å‚æ•° -Bæˆ–â€“ignore-blank-lines ä¸æ£€æŸ¥ç©ºç™½è¡Œã€‚ -c æ˜¾ç¤ºå…¨éƒ¨å†…æ–‡ï¼Œå¹¶æ ‡å‡ºä¸åŒä¹‹å¤„ã€‚ -C&lt;è¡Œæ•°&gt;æˆ–â€“context&lt;è¡Œæ•°&gt; ä¸æ‰§è¡Œâ€-c-&lt;è¡Œæ•°&gt;â€æŒ‡ä»¤ç›¸åŒã€‚ -dæˆ–â€“minimal ä½¿ç”¨ä¸åŒçš„æ¼”ç®—æ³•ï¼Œä»¥è¾ƒå°çš„å•ä½æ¥åšæ¯”è¾ƒã€‚ -D&lt;å·¨é›†åç§°&gt;æˆ–ifdef&lt;å·¨é›†åç§°&gt; æ­¤å‚æ•°çš„è¾“å‡ºæ ¼å¼å¯ç”¨äºå‰ç½®å¤„ç†å™¨å·¨é›†ã€‚ -eæˆ–â€“ed æ­¤å‚æ•°çš„è¾“å‡ºæ ¼å¼å¯ç”¨äºedçš„scriptæ–‡ä»¶ã€‚ -fæˆ–-forward-ed è¾“å‡ºçš„æ ¼å¼ç±»ä¼¼edçš„scriptæ–‡ä»¶ï¼Œä½†æŒ‰ç…§åŸæ¥æ–‡ä»¶çš„é¡ºåºæ¥æ˜¾ç¤ºä¸åŒå¤„ã€‚ -Hæˆ–â€“speed-large-files æ¯”è¾ƒå¤§æ–‡ä»¶æ—¶ï¼Œå¯åŠ å¿«é€Ÿåº¦ã€‚ -l&lt;å­—ç¬¦æˆ–å­—ç¬¦ä¸²&gt;æˆ–â€“ignore-matching-lines&lt;å­—ç¬¦æˆ–å­—ç¬¦ä¸²&gt; è‹¥ä¸¤ä¸ªæ–‡ä»¶åœ¨æŸå‡ è¡Œæœ‰æ‰€ä¸åŒï¼Œè€Œè¿™å‡ è¡ŒåŒæ—¶éƒ½åŒ…å«äº†é€‰é¡¹ä¸­æŒ‡å®šçš„å­—ç¬¦æˆ–å­—ç¬¦ä¸²ï¼Œåˆ™ä¸æ˜¾ç¤ºè¿™ä¸¤ä¸ªæ–‡ä»¶çš„å·®å¼‚ã€‚ -iæˆ–â€“ignore-case ä¸æ£€æŸ¥å¤§å°å†™çš„ä¸åŒã€‚ -læˆ–â€“paginate å°†ç»“æœäº¤ç”±prç¨‹åºæ¥åˆ†é¡µã€‚ -næˆ–â€“rcs å°†æ¯”è¾ƒç»“æœä»¥RCSçš„æ ¼å¼æ¥æ˜¾ç¤ºã€‚ -Næˆ–â€“new-file åœ¨æ¯”è¾ƒç›®å½•æ—¶ï¼Œè‹¥æ–‡ä»¶Aä»…å‡ºç°åœ¨æŸä¸ªç›®å½•ä¸­ï¼Œé¢„è®¾ä¼šæ˜¾ç¤ºï¼š Only inç›®å½•ï¼šæ–‡ä»¶Aè‹¥ä½¿ç”¨-Nå‚æ•°ï¼Œåˆ™diffä¼šå°†æ–‡ä»¶Aä¸ä¸€ä¸ªç©ºç™½çš„æ–‡ä»¶æ¯”è¾ƒã€‚ -p è‹¥æ¯”è¾ƒçš„æ–‡ä»¶ä¸ºCè¯­è¨€çš„ç¨‹åºç æ–‡ä»¶æ—¶ï¼Œæ˜¾ç¤ºå·®å¼‚æ‰€åœ¨çš„å‡½æ•°åç§°ã€‚ -Pæˆ–â€“unidirectional-new-file ä¸-Nç±»ä¼¼ï¼Œä½†åªæœ‰å½“ç¬¬äºŒä¸ªç›®å½•åŒ…å«äº†ä¸€ä¸ªç¬¬ä¸€ä¸ªç›®å½•æ‰€æ²¡æœ‰çš„æ–‡ä»¶æ—¶ï¼Œæ‰ä¼šå°†è¿™ä¸ªæ–‡ä»¶ä¸ç©ºç™½çš„æ–‡ä»¶åšæ¯”è¾ƒã€‚ -qæˆ–â€“brief ä»…æ˜¾ç¤ºæœ‰æ— å·®å¼‚ï¼Œä¸æ˜¾ç¤ºè¯¦ç»†çš„ä¿¡æ¯ã€‚ -ræˆ–â€“recursive æ¯”è¾ƒå­ç›®å½•ä¸­çš„æ–‡ä»¶ã€‚ -sæˆ–â€“report-identical-files è‹¥æ²¡æœ‰å‘ç°ä»»ä½•å·®å¼‚ï¼Œä»ç„¶æ˜¾ç¤ºä¿¡æ¯ã€‚ -S&lt;æ–‡ä»¶&gt;æˆ–â€“starting-file&lt;æ–‡ä»¶&gt; åœ¨æ¯”è¾ƒç›®å½•æ—¶ï¼Œä»æŒ‡å®šçš„æ–‡ä»¶å¼€å§‹æ¯”è¾ƒã€‚ -tæˆ–â€“expand-tabs åœ¨è¾“å‡ºæ—¶ï¼Œå°†tabå­—ç¬¦å±•å¼€ã€‚ -Tæˆ–â€“initial-tab åœ¨æ¯è¡Œå‰é¢åŠ ä¸Štabå­—ç¬¦ä»¥ä¾¿å¯¹é½ã€‚ -u,-U&lt;åˆ—æ•°&gt;æˆ–â€“unified=&lt;åˆ—æ•°&gt; ä»¥åˆå¹¶çš„æ–¹å¼æ¥æ˜¾ç¤ºæ–‡ä»¶å†…å®¹çš„ä¸åŒã€‚ -væˆ–â€“version æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ã€‚ -wæˆ–â€“ignore-all-space å¿½ç•¥å…¨éƒ¨çš„ç©ºæ ¼å­—ç¬¦ã€‚ -W&lt;å®½åº¦&gt;æˆ–â€“width&lt;å®½åº¦&gt; åœ¨ä½¿ç”¨-yå‚æ•°æ—¶ï¼ŒæŒ‡å®šæ å®½ã€‚ -x&lt;æ–‡ä»¶åæˆ–ç›®å½•&gt;æˆ–â€“exclude&lt;æ–‡ä»¶åæˆ–ç›®å½•&gt; ä¸æ¯”è¾ƒé€‰é¡¹ä¸­æ‰€æŒ‡å®šçš„æ–‡ä»¶æˆ–ç›®å½•ã€‚ -X&lt;æ–‡ä»¶&gt;æˆ–â€“exclude-from&lt;æ–‡ä»¶&gt; æ‚¨å¯ä»¥å°†æ–‡ä»¶æˆ–ç›®å½•ç±»å‹å­˜æˆæ–‡æœ¬æ–‡ä»¶ï¼Œç„¶ååœ¨=&lt;æ–‡ä»¶&gt;ä¸­æŒ‡å®šæ­¤æ–‡æœ¬æ–‡ä»¶ã€‚ -yæˆ–â€“side-by-side ä»¥å¹¶åˆ—çš„æ–¹å¼æ˜¾ç¤ºæ–‡ä»¶çš„å¼‚åŒä¹‹å¤„ã€‚ â€“help æ˜¾ç¤ºå¸®åŠ©ã€‚ â€“left-column åœ¨ä½¿ç”¨-yå‚æ•°æ—¶ï¼Œè‹¥ä¸¤ä¸ªæ–‡ä»¶æŸä¸€è¡Œå†…å®¹ç›¸åŒï¼Œåˆ™ä»…åœ¨å·¦ä¾§çš„æ ä½æ˜¾ç¤ºè¯¥è¡Œå†…å®¹ã€‚ â€“suppress-common-lines åœ¨ä½¿ç”¨-yå‚æ•°æ—¶ï¼Œä»…æ˜¾ç¤ºä¸åŒä¹‹å¤„ã€‚ å®ä¾‹12345678910111213141516â•­â”€FQY@bogon ~/Desktop/helloâ•°â”€$ diff hello hello1 1 â†µ4c4,5&lt; pythonå¥½ç”¨\\ No newline at end of file---&gt; nodeå¾ˆæ–¹ä¾¿&gt; åŠ æ²¹\\ No newline at end of file â•­â”€FQY@bogon ~/Desktop/helloâ•°â”€$ diff hello hello1 -y -W 50 2 â†µç”Ÿæ´»å¾ˆç¾å¥½ ç”Ÿæ´»å¾ˆç¾å¥½ç°å®å¾ˆéª¨æ„Ÿ ç°å®å¾ˆéª¨æ„Ÿç†æƒ³å¾ˆä¸°å¯Œ ç†æƒ³å¾ˆä¸°å¯Œpythonå¥½ç”¨ \\ nodeå¾ˆæ–¹ä¾¿ &gt; åŠ æ²¹% è¯´æ˜â€œ|â€è¡¨ç¤ºå‰å2ä¸ªæ–‡ä»¶å†…å®¹æœ‰ä¸åŒâ€œ&lt;â€è¡¨ç¤ºåé¢æ–‡ä»¶æ¯”å‰é¢æ–‡ä»¶å°‘äº†1è¡Œå†…å®¹â€œ&gt;â€è¡¨ç¤ºåé¢æ–‡ä»¶æ¯”å‰é¢æ–‡ä»¶å¤šäº†1è¡Œå†…å®¹","tags":[]},{"title":"Linux cksumçš„ä½¿ç”¨è¯¦è§£","date":"2018-12-10T02:38:22.000Z","path":"2018/12/10/Linux-cksumçš„ä½¿ç”¨è¯¦è§£/","text":"cksumå‘½ä»¤æ˜¯æ£€æŸ¥æ–‡ä»¶çš„CRCæ˜¯å¦æ­£ç¡®ï¼Œç¡®ä¿æ–‡ä»¶ä»ä¸€ä¸ªç³»ç»Ÿä¼ è¾“åˆ°å¦ä¸€ä¸ªç³»ç»Ÿçš„è¿‡ç¨‹ä¸­ä¸è¢«æŸåã€‚è¿™ç§æ–¹æ³•è¦æ±‚æ ¡éªŒå’Œåœ¨æºç³»ç»Ÿä¸­è¢«è®¡ç®—å‡ºæ¥ï¼Œåœ¨ç›®çš„ç³»ç»Ÿä¸­åˆè¢«è®¡ç®—ä¸€æ¬¡ï¼Œä¸¤ä¸ªæ•°å­—è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœæ ¡éªŒå’Œç›¸ç­‰ï¼Œåˆ™è¯¥æ–‡ä»¶è¢«è®¤ä¸ºæ˜¯æ­£ç¡®ä¼ è¾“äº†ã€‚æ³¨æ„ï¼šCRCæ˜¯æŒ‡ä¸€ç§æ’é”™æ£€æŸ¥æ–¹æ³•ï¼Œå³å¾ªç¯å†—ä½™æ ¡éªŒæ³•ã€‚æŒ‡å®šæ–‡ä»¶äº¤ç”±cksumå‘½ä»¤è¿›è¡Œæ ¡éªŒåï¼Œä¼šè¿”å›æ ¡éªŒç»“æœä¾›ç”¨æˆ·æ ¸å¯¹æ–‡ä»¶æ˜¯å¦æ­£ç¡®æ— è¯¯ã€‚è‹¥ä¸æŒ‡å®šä»»ä½•æ–‡ä»¶åç§°æˆ–æ˜¯æ‰€ç»™äºˆçš„æ–‡ä»¶åä¸ºâ€-â€œï¼Œåˆ™cksumå‘½ä»¤ä¼šä»æ ‡å‡†è¾“å…¥è®¾å¤‡ä¸­è¯»å–æ•°æ®ã€‚ è¯­æ³• cksum [â€“help][â€“version][æ–‡ä»¶â€¦] å‚æ•° â€“helpï¼šåœ¨çº¿å¸®åŠ©ã€‚ â€“versionï¼šæ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ã€‚ æ–‡ä»¶â€¦:éœ€è¦è¿›è¡Œæ£€æŸ¥çš„æ–‡ä»¶è·¯å¾„ å®ä¾‹12345678â•­â”€FQY@bogon ~/Desktop/helloâ•°â”€$ cksum hello # å‘½ä»¤æ‰§è¡Œåï¼Œå°†è¾“å‡ºæ ¡éªŒç ç­‰ç›¸å…³çš„ä¿¡æ¯4294967295 0 helloâ•­â”€FQY@bogon ~/Desktop/helloâ•°â”€$ vim hello # å› ä¸ºhelloæ–‡ä»¶æ˜¯ç©ºçš„ï¼Œæ‰€ä»¥å­—èŠ‚æ•°ä¸º0ï¼Œè¿™æ—¶å€™ç»™helloé‡Œé¢æ·»åŠ æ•°æ®å¹¶ä¿å­˜â•­â”€FQY@bogon ~/Desktop/helloâ•°â”€$ cksum hello # å†ä¸€æ¬¡æ‰§è¡Œå‘½ä»¤ï¼Œè¿™æ—¶å€™çœ‹åˆ°å­—èŠ‚æ•°æ˜¯36ã€‚\"4090568956\"è¡¨ç¤ºæ ¡éªŒç 4090568956 36 hello æ³¨æ„ï¼šå¦‚æœæ–‡ä»¶ä¸­æœ‰ä»»ä½•å­—ç¬¦è¢«ä¿®æ”¹ï¼Œéƒ½å°†æ”¹å˜è®¡ç®—åCRCæ ¡éªŒç çš„å€¼ã€‚","tags":[]},{"title":"Linux ç³»ç»Ÿç›®å½•ç»“æ„","date":"2018-12-07T07:52:20.000Z","path":"2018/12/07/Linux-ç³»ç»Ÿç›®å½•ç»“æ„/","text":"ç™»å½•ç³»ç»Ÿåï¼Œåœ¨å½“å‰å‘½ä»¤çª—å£ä¸‹è¾“å…¥å‘½ä»¤ï¼š123[root@hardwareupdate ~]# lsgit log mysqlbkup.sh pip-9.0.1 Python-3.4.1 s3fs-fuse anaconda-ks.cfg get-pip.py install.log.syslog mewe.bak1 nohup.out pip-9.0.1-py2.py3-none-any.whl Python-3.6.2 [root@hardwareupdate ~]# æ ‘çŠ¶ç›®å½•ç»“æ„ ä»¥ä¸‹æ˜¯å¯¹è¿™äº›ç›®å½•çš„è§£é‡Šï¼š /binï¼šbinæ˜¯Binaryçš„ç¼©å†™, è¿™ä¸ªç›®å½•å­˜æ”¾ç€æœ€ç»å¸¸ä½¿ç”¨çš„å‘½ä»¤ã€‚ /bootï¼šè¿™é‡Œå­˜æ”¾çš„æ˜¯å¯åŠ¨Linuxæ—¶ä½¿ç”¨çš„ä¸€äº›æ ¸å¿ƒæ–‡ä»¶ï¼ŒåŒ…æ‹¬ä¸€äº›è¿æ¥æ–‡ä»¶ä»¥åŠé•œåƒæ–‡ä»¶ã€‚ /dev ï¼šdevæ˜¯Device(è®¾å¤‡)çš„ç¼©å†™, è¯¥ç›®å½•ä¸‹å­˜æ”¾çš„æ˜¯Linuxçš„å¤–éƒ¨è®¾å¤‡ï¼Œåœ¨Linuxä¸­è®¿é—®è®¾å¤‡çš„æ–¹å¼å’Œè®¿é—®æ–‡ä»¶çš„æ–¹å¼æ˜¯ç›¸åŒçš„ã€‚ /etcï¼šè¿™ä¸ªç›®å½•ç”¨æ¥å­˜æ”¾æ‰€æœ‰çš„ç³»ç»Ÿç®¡ç†æ‰€éœ€è¦çš„é…ç½®æ–‡ä»¶å’Œå­ç›®å½•ã€‚ /homeï¼šç”¨æˆ·çš„ä¸»ç›®å½•ï¼Œåœ¨Linuxä¸­ï¼Œæ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„ç›®å½•ï¼Œä¸€èˆ¬è¯¥ç›®å½•åæ˜¯ä»¥ç”¨æˆ·çš„è´¦å·å‘½åçš„ã€‚ /libï¼šè¿™ä¸ªç›®å½•é‡Œå­˜æ”¾ç€ç³»ç»Ÿæœ€åŸºæœ¬çš„åŠ¨æ€è¿æ¥å…±äº«åº“ï¼Œå…¶ä½œç”¨ç±»ä¼¼äºWindowsé‡Œçš„DLLæ–‡ä»¶ã€‚å‡ ä¹æ‰€æœ‰çš„åº”ç”¨ç¨‹åºéƒ½éœ€è¦ç”¨åˆ°è¿™äº›å…±äº«åº“ã€‚ /lost+foundï¼šè¿™ä¸ªç›®å½•ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ç©ºçš„ï¼Œå½“ç³»ç»Ÿéæ³•å…³æœºåï¼Œè¿™é‡Œå°±å­˜æ”¾äº†ä¸€äº›æ–‡ä»¶ã€‚ /mediaï¼šlinuxç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ«ä¸€äº›è®¾å¤‡ï¼Œä¾‹å¦‚Uç›˜ã€å…‰é©±ç­‰ç­‰ï¼Œå½“è¯†åˆ«åï¼Œlinuxä¼šæŠŠè¯†åˆ«çš„è®¾å¤‡æŒ‚è½½åˆ°è¿™ä¸ªç›®å½•ä¸‹ã€‚ /mntï¼šç³»ç»Ÿæä¾›è¯¥ç›®å½•æ˜¯ä¸ºäº†è®©ç”¨æˆ·ä¸´æ—¶æŒ‚è½½åˆ«çš„æ–‡ä»¶ç³»ç»Ÿçš„ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…‰é©±æŒ‚è½½åœ¨/mnt/ä¸Šï¼Œç„¶åè¿›å…¥è¯¥ç›®å½•å°±å¯ä»¥æŸ¥çœ‹å…‰é©±é‡Œçš„å†…å®¹äº†ã€‚ /optï¼šè¿™æ˜¯ç»™ä¸»æœºé¢å¤–å®‰è£…è½¯ä»¶æ‰€æ‘†æ”¾çš„ç›®å½•ã€‚æ¯”å¦‚ä½ å®‰è£…ä¸€ä¸ªORACLEæ•°æ®åº“åˆ™å°±å¯ä»¥æ”¾åˆ°è¿™ä¸ªç›®å½•ä¸‹ã€‚é»˜è®¤æ˜¯ç©ºçš„ã€‚ /procï¼šè¿™ä¸ªç›®å½•æ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„ç›®å½•ï¼Œå®ƒæ˜¯ç³»ç»Ÿå†…å­˜çš„æ˜ å°„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç›´æ¥è®¿é—®è¿™ä¸ªç›®å½•æ¥è·å–ç³»ç»Ÿä¿¡æ¯ã€‚ /rootï¼šè¯¥ç›®å½•ä¸ºç³»ç»Ÿç®¡ç†å‘˜ï¼Œä¹Ÿç§°ä½œè¶…çº§æƒé™è€…çš„ç”¨æˆ·ä¸»ç›®å½•ã€‚ /sbinï¼šså°±æ˜¯Super Userçš„æ„æ€ï¼Œè¿™é‡Œå­˜æ”¾çš„æ˜¯ç³»ç»Ÿç®¡ç†å‘˜ä½¿ç”¨çš„ç³»ç»Ÿç®¡ç†ç¨‹åºã€‚ /selinuxï¼šè¿™ä¸ªç›®å½•æ˜¯Redhat/CentOSæ‰€ç‰¹æœ‰çš„ç›®å½•ï¼ŒSelinuxæ˜¯ä¸€ä¸ªå®‰å…¨æœºåˆ¶ï¼Œç±»ä¼¼äºwindowsçš„é˜²ç«å¢™ï¼Œä½†æ˜¯è¿™å¥—æœºåˆ¶æ¯”è¾ƒå¤æ‚ï¼Œè¿™ä¸ªç›®å½•å°±æ˜¯å­˜æ”¾selinuxç›¸å…³çš„æ–‡ä»¶çš„ã€‚ /srvï¼šè¯¥ç›®å½•å­˜æ”¾ä¸€äº›æœåŠ¡å¯åŠ¨ä¹‹åéœ€è¦æå–çš„æ•°æ®ã€‚ /sysï¼š è¿™æ˜¯linux2.6å†…æ ¸çš„ä¸€ä¸ªå¾ˆå¤§çš„å˜åŒ–ã€‚è¯¥ç›®å½•ä¸‹å®‰è£…äº†2.6å†…æ ¸ä¸­æ–°å‡ºç°çš„ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿ sysfs ã€‚ sysfsæ–‡ä»¶ç³»ç»Ÿé›†æˆäº†ä¸‹é¢3ç§æ–‡ä»¶ç³»ç»Ÿçš„ä¿¡æ¯ï¼šé’ˆå¯¹è¿›ç¨‹ä¿¡æ¯çš„procæ–‡ä»¶ç³»ç»Ÿã€é’ˆå¯¹è®¾å¤‡çš„devfsæ–‡ä»¶ç³»ç»Ÿä»¥åŠé’ˆå¯¹ä¼ªç»ˆç«¯çš„devptsæ–‡ä»¶ç³»ç»Ÿã€‚è¯¥æ–‡ä»¶ç³»ç»Ÿæ˜¯å†…æ ¸è®¾å¤‡æ ‘çš„ä¸€ä¸ªç›´è§‚åæ˜ ã€‚ å½“ä¸€ä¸ªå†…æ ¸å¯¹è±¡è¢«åˆ›å»ºçš„æ—¶å€™ï¼Œå¯¹åº”çš„æ–‡ä»¶å’Œç›®å½•ä¹Ÿåœ¨å†…æ ¸å¯¹è±¡å­ç³»ç»Ÿä¸­è¢«åˆ›å»ºã€‚ /tmpï¼šè¿™ä¸ªç›®å½•æ˜¯ç”¨æ¥å­˜æ”¾ä¸€äº›ä¸´æ—¶æ–‡ä»¶çš„ã€‚ /usrï¼šè¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„ç›®å½•ï¼Œç”¨æˆ·çš„å¾ˆå¤šåº”ç”¨ç¨‹åºå’Œæ–‡ä»¶éƒ½æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼Œç±»ä¼¼äºwindowsä¸‹çš„program filesç›®å½•ã€‚ /usr/binï¼šç³»ç»Ÿç”¨æˆ·ä½¿ç”¨çš„åº”ç”¨ç¨‹åºã€‚ /usr/sbinï¼šè¶…çº§ç”¨æˆ·ä½¿ç”¨çš„æ¯”è¾ƒé«˜çº§çš„ç®¡ç†ç¨‹åºå’Œç³»ç»Ÿå®ˆæŠ¤ç¨‹åºã€‚ /usr/srcï¼šå†…æ ¸æºä»£ç é»˜è®¤çš„æ”¾ç½®ç›®å½•ã€‚ /varï¼šè¿™ä¸ªç›®å½•ä¸­å­˜æ”¾ç€åœ¨ä¸æ–­æ‰©å……ç€çš„ä¸œè¥¿ï¼Œæˆ‘ä»¬ä¹ æƒ¯å°†é‚£äº›ç»å¸¸è¢«ä¿®æ”¹çš„ç›®å½•æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ã€‚åŒ…æ‹¬å„ç§æ—¥å¿—æ–‡ä»¶ã€‚ /runï¼šæ˜¯ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ç³»ç»Ÿï¼Œå­˜å‚¨ç³»ç»Ÿå¯åŠ¨ä»¥æ¥çš„ä¿¡æ¯ã€‚å½“ç³»ç»Ÿé‡å¯æ—¶ï¼Œè¿™ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶åº”è¯¥è¢«åˆ æ‰æˆ–æ¸…é™¤ã€‚å¦‚æœä½ çš„ç³»ç»Ÿä¸Šæœ‰ /var/run ç›®å½•ï¼Œåº”è¯¥è®©å®ƒæŒ‡å‘ runã€‚ åœ¨ Linux ç³»ç»Ÿä¸­ï¼Œæœ‰å‡ ä¸ªç›®å½•æ˜¯æ¯”è¾ƒé‡è¦çš„ï¼Œå¹³æ—¶éœ€è¦æ³¨æ„ä¸è¦è¯¯åˆ é™¤æˆ–è€…éšæ„æ›´æ”¹å†…éƒ¨æ–‡ä»¶ã€‚/etcï¼šä¸Šè¾¹ä¹Ÿæåˆ°äº†ï¼Œè¿™ä¸ªæ˜¯ç³»ç»Ÿä¸­çš„é…ç½®æ–‡ä»¶ï¼Œå¦‚æœä½ æ›´æ”¹äº†è¯¥ç›®å½•ä¸‹çš„æŸä¸ªæ–‡ä»¶å¯èƒ½ä¼šå¯¼è‡´ç³»ç»Ÿä¸èƒ½å¯åŠ¨ã€‚/bin, /sbin, /usr/bin, /usr/sbin: è¿™æ˜¯ç³»ç»Ÿé¢„è®¾çš„æ‰§è¡Œæ–‡ä»¶çš„æ”¾ç½®ç›®å½•ï¼Œæ¯”å¦‚ ls å°±æ˜¯åœ¨/bin/ls ç›®å½•ä¸‹çš„ã€‚å€¼å¾—æå‡ºçš„æ˜¯ï¼Œ/bin, /usr/bin æ˜¯ç»™ç³»ç»Ÿç”¨æˆ·ä½¿ç”¨çš„æŒ‡ä»¤ï¼ˆé™¤rootå¤–çš„é€šç”¨æˆ·ï¼‰ï¼Œè€Œ/sbin, /usr/sbin åˆ™æ˜¯ç»™rootä½¿ç”¨çš„æŒ‡ä»¤ã€‚ /varï¼š è¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„ç›®å½•ï¼Œç³»ç»Ÿä¸Šè·‘äº†å¾ˆå¤šç¨‹åºï¼Œé‚£ä¹ˆæ¯ä¸ªç¨‹åºéƒ½ä¼šæœ‰ç›¸åº”çš„æ—¥å¿—äº§ç”Ÿï¼Œè€Œè¿™äº›æ—¥å¿—å°±è¢«è®°å½•åˆ°è¿™ä¸ªç›®å½•ä¸‹ï¼Œå…·ä½“åœ¨/var/log ç›®å½•ä¸‹ï¼Œå¦å¤–mailçš„é¢„è®¾æ”¾ç½®ä¹Ÿæ˜¯åœ¨è¿™é‡Œ","tags":[]},{"title":"Linux ä¿®æ”¹æ–‡ä»¶æƒé™å‘½ä»¤chmodã€chgrpã€chownè¯¦è§£","date":"2018-12-07T03:39:55.000Z","path":"2018/12/07/ä¿®æ”¹æ–‡ä»¶æƒé™å‘½ä»¤chmodã€chgrpã€chownè¯¦è§£/","text":"Linuxç³»ç»Ÿä¸­çš„æ¯ä¸ªæ–‡ä»¶å’Œç›®å½•éƒ½æœ‰è®¿é—®è®¸å¯æƒé™ï¼Œç”¨å®ƒæ¥ç¡®å®šè°å¯ä»¥é€šè¿‡ä½•ç§æ–¹å¼å¯¹æ–‡ä»¶å’Œç›®å½•è¿›è¡Œè®¿é—®å’Œæ“ä½œã€‚æ–‡ä»¶æˆ–ç›®å½•çš„è®¿é—®æƒé™åˆ†ä¸ºåªè¯»ï¼Œåªå†™å’Œå¯æ‰§è¡Œä¸‰ç§ã€‚ä»¥æ–‡ä»¶ä¸ºä¾‹ï¼Œåªè¯»æƒé™è¡¨ç¤ºåªå…è®¸è¯»å…¶å†…å®¹ï¼Œè€Œç¦æ­¢å¯¹å…¶åšä»»ä½•çš„æ›´æ”¹æ“ä½œã€‚å¯æ‰§è¡Œæƒé™è¡¨ç¤ºå…è®¸å°†è¯¥æ–‡ä»¶ä½œä¸ºä¸€ä¸ªç¨‹åºæ‰§è¡Œã€‚æ–‡ä»¶è¢«åˆ›å»ºæ—¶ï¼Œæ–‡ä»¶æ‰€æœ‰è€…è‡ªåŠ¨æ‹¥æœ‰å¯¹è¯¥æ–‡ä»¶çš„è¯»ã€å†™å’Œå¯æ‰§è¡Œæƒé™ï¼Œä»¥ä¾¿äºå¯¹æ–‡ä»¶çš„é˜…è¯»å’Œä¿®æ”¹ã€‚ç”¨æˆ·ä¹Ÿå¯æ ¹æ®éœ€è¦æŠŠè®¿é—®æƒé™è®¾ç½®ä¸ºéœ€è¦çš„ä»»ä½•ç»„åˆã€‚æœ‰ä¸‰ç§ä¸åŒç±»å‹çš„ç”¨æˆ·å¯å¯¹æ–‡ä»¶æˆ–ç›®å½•è¿›è¡Œè®¿é—®ï¼šæ–‡ä»¶æ‰€æœ‰è€…ï¼ŒåŒç»„ç”¨æˆ·ã€å…¶ä»–ç”¨æˆ·ã€‚æ‰€æœ‰è€…ä¸€èˆ¬æ˜¯æ–‡ä»¶çš„åˆ›å»ºè€…ã€‚æ‰€æœ‰è€…å¯ä»¥å…è®¸åŒç»„ç”¨æˆ·æœ‰æƒè®¿é—®æ–‡ä»¶ï¼Œè¿˜å¯ä»¥å°†æ–‡ä»¶çš„è®¿é—®æƒé™èµ‹äºˆç³»ç»Ÿä¸­çš„å…¶ä»–ç”¨æˆ·ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç³»ç»Ÿä¸­æ¯ä¸€ä½ç”¨æˆ·éƒ½èƒ½è®¿é—®è¯¥ç”¨æˆ·æ‹¥æœ‰çš„æ–‡ä»¶æˆ–ç›®å½•ã€‚ chmodchmodå‘½ä»¤æ˜¯éå¸¸é‡è¦çš„ï¼Œç”¨äºæ”¹å˜æ–‡ä»¶æˆ–ç›®å½•çš„è®¿é—®æƒé™ã€‚ç”¨æˆ·ç”¨å®ƒæ§åˆ¶æ–‡ä»¶æˆ–ç›®å½•çš„è®¿é—®æƒé™ã€‚ è¯­æ³• chmod [-cfvR] [â€“help] [â€“version] mode fileâ€¦ å‚æ•°è¯´æ˜mode : æƒé™è®¾å®šå­—ä¸²ï¼Œæ ¼å¼å¦‚ä¸‹ : [ugoaâ€¦][[+-=][rwxX]â€¦][,â€¦] å…¶ä¸­ u è¡¨ç¤ºè¯¥æ–‡ä»¶çš„æ‹¥æœ‰è€…ï¼Œg è¡¨ç¤ºä¸è¯¥æ–‡ä»¶çš„æ‹¥æœ‰è€…å±äºåŒä¸€ä¸ªç¾¤ä½“(group)è€…ï¼Œo è¡¨ç¤ºå…¶ä»–ä»¥å¤–çš„äººï¼Œa è¡¨ç¤ºè¿™ä¸‰è€…çš†æ˜¯ã€‚ +è¡¨ç¤ºå¢åŠ æƒé™ã€- è¡¨ç¤ºå–æ¶ˆæƒé™ã€= è¡¨ç¤ºå”¯ä¸€è®¾å®šæƒé™ã€‚ r è¡¨ç¤ºå¯è¯»å–ï¼Œw è¡¨ç¤ºå¯å†™å…¥ï¼Œx è¡¨ç¤ºå¯æ‰§è¡Œï¼ŒXè¡¨ç¤ºåªæœ‰å½“è¯¥æ–‡ä»¶æ˜¯ä¸ªå­ç›®å½•æˆ–è€…è¯¥æ–‡ä»¶å·²ç»è¢«è®¾å®šè¿‡ä¸ºå¯æ‰§è¡Œã€‚ r(Readï¼Œè¯»å–ï¼Œæƒé™å€¼ä¸º4)ï¼šå¯¹æ–‡ä»¶è€Œè¨€ï¼Œå…·æœ‰è¯»å–æ–‡ä»¶å†…å®¹çš„æƒé™ï¼›å¯¹ç›®å½•æ¥è¯´ï¼Œå…·æœ‰æµè§ˆç›® å½•çš„æƒé™ w(Write,å†™å…¥ï¼Œæƒé™å€¼ä¸º2)ï¼šå¯¹æ–‡ä»¶è€Œè¨€ï¼Œå…·æœ‰æ–°å¢ã€ä¿®æ”¹æ–‡ä»¶å†…å®¹çš„æƒé™ï¼›å¯¹ç›®å½•æ¥è¯´ï¼Œå…·æœ‰åˆ é™¤ã€ç§»åŠ¨ç›®å½•å†…æ–‡ä»¶çš„æƒé™ã€‚ x(eXecuteï¼Œæ‰§è¡Œï¼Œæƒé™å€¼ä¸º1)ï¼šå¯¹æ–‡ä»¶è€Œè¨€ï¼Œå…·æœ‰æ‰§è¡Œæ–‡ä»¶çš„æƒé™ï¼›å¯¹ç›®å½•äº†æ¥è¯´è¯¥ç”¨æˆ·å…·æœ‰è¿›å…¥ç›®å½•çš„æƒé™ã€‚ å…¶ä»–å‚æ•°è¯´æ˜ï¼š -c : è‹¥è¯¥æ–‡ä»¶æƒé™ç¡®å®å·²ç»æ›´æ”¹ï¼Œæ‰æ˜¾ç¤ºå…¶æ›´æ”¹åŠ¨ä½œ -f : è‹¥è¯¥æ–‡ä»¶æƒé™æ— æ³•è¢«æ›´æ”¹ä¹Ÿä¸è¦æ˜¾ç¤ºé”™è¯¯è®¯æ¯ -v : æ˜¾ç¤ºæƒé™å˜æ›´çš„è¯¦ç»†èµ„æ–™ -R : å¯¹ç›®å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä¸å­ç›®å½•è¿›è¡Œç›¸åŒçš„æƒé™å˜æ›´(å³ä»¥é€’å›çš„æ–¹å¼é€ä¸ªå˜æ›´) â€“help : æ˜¾ç¤ºè¾…åŠ©è¯´æ˜ â€“version : æ˜¾ç¤ºç‰ˆæœ¬ å®ä¾‹åœ¨æ¡Œé¢åˆ›å»ºä¸€ä¸ªhelloçš„æ–‡ä»¶å¤¹ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªhelloçš„æ–‡ä»¶ã€‚12345678â•­â”€FQY@bogon ~/Desktopâ•°â”€$ ll | grep hello drwxr-xr-x 3 FQY staff 96B 12 7 11:55 helloâ•­â”€FQY@bogon ~/Desktopâ•°â”€$ cd helloâ•­â”€FQY@bogon ~/Desktop/helloâ•°â”€$ ll | grep hello-rw-r--r-- 1 FQY staff 0B 12 7 11:55 hello å’±ä»¬é¦–å…ˆçœ‹helloæ–‡ä»¶å¤¹ï¼Œæ˜¯drwxr-xr-x, dè¡¨ç¤ºæ˜¯æ–‡ä»¶å¤¹,å¦‚æœä¸æ˜¯æ–‡ä»¶å¤¹ï¼Œåˆ™ç¬¬ä¸€ä¸ªæ˜¯-ã€‚å’±ä»¬ä¸Šé¢è¯´åˆ°æœ‰3ç§ç”¨æˆ·ç±»å‹:æ–‡ä»¶æ‰€æœ‰è€…ï¼ŒåŒç»„ç”¨æˆ·ã€å…¶ä»–ç”¨æˆ·.rwxè¡¨ç¤ºæ–‡ä»¶æ‰€æœ‰è€…çš„æƒé™ï¼Œr-xè¡¨ç¤ºåŒç»„ç”¨æˆ·çš„æƒé™,r-xè¡¨ç¤ºå…¶ä»–ç”¨æˆ·ã€‚ æ ¹æ®ä¸Šé¢æ‰€è¯´çš„é‚£æ ·ï¼Œrä¸º4ï¼Œwä¸º2ï¼Œxä¸º1ï¼Œæ‰€ä»¥rwxå°±æ˜¯7ï¼Œr-xè¡¨ç¤º5ï¼Œæ‰€ä»¥å½“å’±ä»¬éœ€è¦è®©åŒç»„å’Œå…¶ä»–ç”¨æˆ·éƒ½å¯ä»¥å¯¹hello.rtfæœ‰è¯»å†™çš„æƒåˆ©,12345â•­â”€FQY@bogon ~/Desktop/helloâ•°â”€$ chmod 766 helloâ•­â”€FQY@bogon ~/Desktop/helloâ•°â”€$ ll | grep hello-rwxrw-rw- 1 FQY staff 0B 12 7 11:55 hello ä¸‹é¢æ¥ä¸¾äº›ä¾‹å­ç†Ÿæ‚‰ä¸‹: æƒé™ æ•°å€¼ -rwxrw-râ€“- 764 -rw-râ€“-râ€“- 644 -rw-rw-râ€“- 664 åˆ›å»ºä¸€ä¸ªfile1.textæ–‡ä»¶ï¼Œå°†æ–‡ä»¶ file1.txt è®¾ä¸ºæ‰€æœ‰äººçš†å¯è¯»å–: chmod ugo+r file1.txt å°†æ–‡ä»¶ file1.txt è®¾ä¸ºæ‰€æœ‰äººçš†å¯è¯»å– : chmod a+r file1.txt å°†æ–‡ä»¶ file1.txt ä¸ file2.txt è®¾ä¸ºè¯¥æ–‡ä»¶æ‹¥æœ‰è€…ï¼Œä¸å…¶æ‰€å±åŒä¸€ä¸ªç¾¤ä½“è€…å¯å†™å…¥ï¼Œä½†å…¶ä»–ä»¥å¤–çš„äººåˆ™ä¸å¯å†™å…¥ : chmod ug+w,o-w file1.txt file2.txt æ‰€ä»¥å’±ä»¬æ™“å¾—:chmod ug=rwx,o=x file å’Œ chmod 771 fileï¼Œæ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚ chgrp Linux chgrpå‘½ä»¤ç”¨äºå˜æ›´æ–‡ä»¶æˆ–ç›®å½•çš„æ‰€å±ç¾¤ç»„ã€‚ è¯­æ³• chgrp [é€‰é¡¹] [ç»„] [æ–‡ä»¶] å‚æ•°è¯´æ˜: -cæˆ–â€“changes æ•ˆæœç±»ä¼¼â€-vâ€å‚æ•°ï¼Œä½†ä»…å›æŠ¥æ›´æ”¹çš„éƒ¨åˆ†ã€‚ -fæˆ–â€“quietæˆ–â€“silent ä¸æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ã€‚ -hæˆ–â€“no-dereference åªå¯¹ç¬¦å·è¿æ¥çš„æ–‡ä»¶ä½œä¿®æ”¹ï¼Œè€Œä¸æ›´åŠ¨å…¶ä»–ä»»ä½•ç›¸å…³æ–‡ä»¶ã€‚ -Ræˆ–â€“recursive é€’å½’å¤„ç†ï¼Œå°†æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åŠå­ç›®å½•ä¸€å¹¶å¤„ç†ã€‚ -væˆ–â€“verbose æ˜¾ç¤ºæŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ã€‚ â€“help åœ¨çº¿å¸®åŠ©ã€‚ â€“reference=&lt;å‚è€ƒæ–‡ä»¶æˆ–ç›®å½•&gt; æŠŠæŒ‡å®šæ–‡ä»¶æˆ–ç›®å½•çš„æ‰€å±ç¾¤ç»„å…¨éƒ¨è®¾æˆå’Œå‚è€ƒæ–‡ä»¶æˆ–ç›®å½•çš„æ‰€å±ç¾¤ç»„ç›¸åŒã€‚ â€“version æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ã€‚ å®ä¾‹å°†log2012.logæ–‡ä»¶ç”±rootç¾¤ç»„æ”¹ä¸ºbinç¾¤ç»„ 123456[root@localhost test]# ll---xrw-r-- 1 root root 302108 11-13 06:03 log2012.log[root@localhost test]# chgrp -v bin log2012.logâ€œlog2012.logâ€ çš„æ‰€å±ç»„å·²æ›´æ”¹ä¸º bin[root@localhost test]# ll---xrw-r-- 1 root bin 302108 11-13 06:03 log2012.log æ ¹æ®æŒ‡å®šæ–‡ä»¶æ”¹å˜æ–‡ä»¶çš„ç¾¤ç»„å±æ€§ æ”¹å˜æ–‡ä»¶log2013.logçš„ç¾¤ç»„å±æ€§ï¼Œä½¿å¾—æ–‡ä»¶log2013.logçš„ç¾¤ç»„å±æ€§å’Œå‚è€ƒæ–‡ä»¶log2012.logçš„ç¾¤ç»„å±æ€§ç›¸åŒ 1234567[root@localhost test]# ll---xrw-r-- 1 root bin 302108 11-13 06:03 log2012.log-rw-r--r-- 1 root root 61 11-13 06:03 log2013.log[root@localhost test]# chgrp --reference=log2012.log log2013.log [root@localhost test]# ll---xrw-r-- 1 root bin 302108 11-13 06:03 log2012.log-rw-r--r-- 1 root bin 61 11-13 06:03 log2013.log chownä½¿ç”¨æƒé™: root ä½¿ç”¨æ–¹å¼ : chown [-cfhvR] [â€“help] [â€“version] user[:group] fileâ€¦ è¯´æ˜ : Linux/Unix æ˜¯å¤šäººå¤šå·¥ä½œä¸šç³»ç»Ÿï¼Œæ‰€æœ‰çš„æ¡£æ¡ˆçš†æœ‰æ‹¥æœ‰è€…ã€‚åˆ©ç”¨ chown å¯ä»¥å°†æ¡£æ¡ˆçš„æ‹¥æœ‰è€…åŠ ä»¥æ”¹å˜ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè¿™ä¸ªæŒ‡ä»¤åªæœ‰æ˜¯ç”±ç³»ç»Ÿç®¡ç†è€…(root)æ‰€ä½¿ç”¨ï¼Œä¸€èˆ¬ä½¿ç”¨è€…æ²¡æœ‰æƒé™å¯ä»¥æ”¹å˜åˆ«äººçš„æ¡£æ¡ˆæ‹¥æœ‰è€…ï¼Œä¹Ÿæ²¡æœ‰æƒé™å¯ä»¥è‡ªå·±çš„æ¡£æ¡ˆæ‹¥æœ‰è€…æ”¹è®¾ä¸ºåˆ«äººã€‚åªæœ‰ç³»ç»Ÿç®¡ç†è€…(root)æ‰æœ‰è¿™æ ·çš„æƒé™ã€‚ å‚æ•°user : æ–°çš„æ¡£æ¡ˆæ‹¥æœ‰è€…çš„ä½¿ç”¨è€… ID group : æ–°çš„æ¡£æ¡ˆæ‹¥æœ‰è€…çš„ä½¿ç”¨è€…ç¾¤ä½“(group) -cæˆ–-changeï¼šä½œç”¨ä¸-vç›¸ä¼¼ï¼Œä½†åªä¼ å›ä¿®æ”¹çš„éƒ¨åˆ† -fæˆ–â€“quietæˆ–â€“silentï¼šä¸æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ -hæˆ–â€“no-dereferenceï¼šåªå¯¹ç¬¦å·é“¾æ¥çš„æ–‡ä»¶åšä¿®æ”¹ï¼Œè€Œä¸æ›´æ”¹å…¶ä»–ä»»ä½•ç›¸å…³æ–‡ä»¶ -Ræˆ–-recursiveï¼šé€’å½’å¤„ç†ï¼Œå°†æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åŠå­ç›®å½•ä¸€å¹¶å¤„ç† -væˆ–â€“verboseï¼šæ˜¾ç¤ºæŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ â€“dereferenceï¼šä½œç”¨å’Œ-håˆšå¥½ç›¸å â€“helpï¼šæ˜¾ç¤ºåœ¨çº¿è¯´æ˜ â€“reference=&lt;å‚è€ƒæ–‡ä»¶æˆ–ç›®å½•&gt;ï¼šæŠŠæŒ‡å®šæ–‡ä»¶æˆ–ç›®å½•çš„æ‰€æœ‰è€…ä¸æ‰€å±ç»„ï¼Œç»Ÿç»Ÿè®¾ç½®æˆå’Œå‚è€ƒæ–‡ä»¶æˆ–ç›®å½•çš„æ‰€æœ‰è€…ä¸æ‰€å±ç»„ç›¸åŒ â€“versionï¼šæ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ å®ä¾‹å°†æ–‡ä»¶ file1.txt çš„æ‹¥æœ‰è€…è®¾ä¸º users ç¾¤ä½“çš„ä½¿ç”¨è€… runoob : chown runoob:users file1.txt å°†ç›®å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä¸å­ç›®å½•çš„æ‹¥æœ‰è€…çš†è®¾ä¸º users ç¾¤ä½“çš„ä½¿ç”¨è€… lamport : chown -R lamport:users * chmodå’Œchownçš„åŒºåˆ« chmodä¸chownçœ‹ä¼¼æ‹¼å†™è¿˜æœ‰ç‚¹å·®ä¸å¤šï¼Œä½†æ˜¯ä¸¤è€…çš„ç”¨é€”æ˜¯ä¸åŒçš„ã€‚chmodæ˜¯ç”¨æ¥è®¾ç½®æ–‡ä»¶å¤¹å’Œæ–‡ä»¶æƒé™çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬åœ¨VPSä¸»æœºä¸­æ–‡ä»¶ä¸å¯è¯»å†™ï¼Œéœ€è¦ç”¨æ¥è®¾ç½®777æƒé™ï¼›è€Œchownæ˜¯ç”¨æ¥è®¾ç½®ç”¨æˆ·ç»„çš„ï¼Œæ¯”å¦‚æˆæƒæŸç”¨æˆ·ç»„ï¼Œæ–¹ä¾¿æ§åˆ¶ç”¨æˆ·æƒé™ã€‚ chown ä¿®æ”¹æ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„ç”¨æˆ·å’Œç”¨æˆ·ç»„å±æ€§1ã€‚è¦ä¿®æ”¹æ–‡ä»¶hh.cçš„æ‰€æœ‰è€….ä¿®æ”¹ä¸ºsakiaçš„è¿™ä¸ªç”¨æˆ·æ‰€æœ‰ chown sakia hh.c è¿™æ ·å°±æŠŠhh.cçš„ç”¨æˆ·è®¿é—®æƒé™åº”ç”¨åˆ°sakiaä½œä¸ºæ‰€æœ‰è€… 2ã€‚å°†ç›®å½• /tmp/sco è¿™ä¸ªç›®å½•çš„æ‰€æœ‰è€…å’Œç»„æ”¹ä¸ºsakiaå’Œç»„net chown -R sakia:net /tmp/sco chmod ä¿®æ”¹æ–‡ä»¶å’Œæ–‡ä»¶å¤¹è¯»å†™æ‰§è¡Œå±æ€§ 1ã€‚æŠŠhh.cæ–‡ä»¶ä¿®æ”¹ä¸ºå¯å†™å¯è¯»å¯æ‰§è¡Œ chmod 777 hh.c è¦ä¿®æ”¹æŸç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶å±æ€§ä¸ºå¯å†™å¯è¯»å¯æ‰§è¡Œ chmod 777 . æŠŠæ–‡ä»¶å¤¹åç§°ä¸åç¼€åç”¨*æ¥ä»£æ›¿å°±å¯ä»¥äº†ã€‚ åŒç†è‹¥æ˜¯è¦ä¿®æ”¹æ‰€æœ‰htmæ–‡ä»¶çš„å±æ€§ chmod 777 *.htm","tags":[]},{"title":"Linuxä¸‹chattrå‘½ä»¤è¯¦è§£","date":"2018-12-05T09:04:13.000Z","path":"2018/12/05/linuxä¸‹chattrã€chgrpå‘½ä»¤è¯¦è§£/","text":"chattr å¯ä»¥ä¿®æ”¹æ–‡ä»¶å±æ€§ æœ‰æ—¶å€™ä½ å‘ç°ç”¨rootæƒé™éƒ½ä¸èƒ½ä¿®æ”¹æŸä¸ªæ–‡ä»¶ï¼Œå¤§éƒ¨åˆ†åŸå› æ˜¯æ›¾ç»ç”¨chattrå‘½ä»¤é”å®šè¯¥æ–‡ä»¶äº†ã€‚chattrå‘½ä»¤çš„ä½œç”¨å¾ˆå¤§ï¼Œé€šè¿‡chattrå‘½ä»¤ä¿®æ”¹å±æ€§èƒ½å¤Ÿæé«˜ç³»ç»Ÿçš„å®‰å…¨æ€§ï¼Œä½†æ˜¯å®ƒå¹¶ä¸é€‚åˆæ‰€æœ‰çš„ç›®å½•ã€‚chattrå‘½ä»¤ä¸èƒ½ä¿æŠ¤/ã€/devã€/tmpã€/varç›®å½•ã€‚lsattrå‘½ä»¤æ˜¯æ˜¾ç¤ºchattrå‘½ä»¤è®¾ç½®çš„æ–‡ä»¶å±æ€§ lsattrlsattrå‘½ä»¤æ˜¯æ˜¾ç¤ºchattrå‘½ä»¤è®¾ç½®çš„æ–‡ä»¶å±æ€§ chattrå’Œchmodçš„åŒºåˆ«è¿™ä¸¤ä¸ªå‘½ä»¤æ˜¯ç”¨æ¥æŸ¥çœ‹å’Œæ”¹å˜æ–‡ä»¶ã€ç›®å½•å±æ€§çš„ï¼Œä¸chmodè¿™ä¸ªå‘½ä»¤ç›¸æ¯”ï¼Œchmodåªæ˜¯æ”¹å˜æ–‡ä»¶çš„è¯»å†™ã€æ‰§è¡Œæƒé™ï¼Œæ›´åº•å±‚çš„å±æ€§æ§åˆ¶æ˜¯ç”±chattræ¥æ”¹å˜çš„ã€‚ è¯­æ³• chattr [-RV][-v&lt;ç‰ˆæœ¬ç¼–å·&gt;][+/-/=&lt;å±æ€§&gt;][æ–‡ä»¶æˆ–ç›®å½•â€¦] å±æ€§ + ï¼šåœ¨åŸæœ‰å‚æ•°è®¾å®šåŸºç¡€ä¸Šï¼Œè¿½åŠ å‚æ•°ã€‚ - ï¼šåœ¨åŸæœ‰å‚æ•°è®¾å®šåŸºç¡€ä¸Šï¼Œç§»é™¤å‚æ•°ã€‚ = ï¼šæ›´æ–°ä¸ºæŒ‡å®šå‚æ•°è®¾å®šã€‚ Aï¼šæ–‡ä»¶æˆ–ç›®å½•çš„ atime (access time)ä¸å¯è¢«ä¿®æ”¹(modified), å¯ä»¥æœ‰æ•ˆé¢„é˜²ä¾‹å¦‚æ‰‹æç”µè„‘ç£ç›˜I/Oé”™è¯¯çš„å‘ç”Ÿã€‚ Sï¼šç¡¬ç›˜I/OåŒæ­¥é€‰é¡¹ï¼ŒåŠŸèƒ½ç±»ä¼¼syncã€‚ aï¼šå³appendï¼Œè®¾å®šè¯¥å‚æ•°åï¼Œåªèƒ½å‘æ–‡ä»¶ä¸­æ·»åŠ æ•°æ®ï¼Œè€Œä¸èƒ½åˆ é™¤ï¼Œå¤šç”¨äºæœåŠ¡å™¨æ—¥å¿—æ–‡ä»¶å®‰å…¨ï¼Œå¯¹äºæ—¥å¿—ç³»ç»Ÿå¾ˆå¥½ç”¨ï¼Œè¿™ä¸ªæƒé™è®©ç›®æ ‡æ–‡ä»¶åªèƒ½è¿½åŠ ï¼Œä¸èƒ½åˆ é™¤ï¼Œè€Œä¸”ä¸èƒ½é€šè¿‡ç¼–è¾‘å™¨è¿½åŠ ã€‚ cï¼šå³compresseï¼Œè®¾å®šæ–‡ä»¶æ˜¯å¦ç»å‹ç¼©åå†å­˜å‚¨ã€‚è¯»å–æ—¶éœ€è¦ç»è¿‡è‡ªåŠ¨è§£å‹æ“ä½œã€‚ dï¼šå³no dumpï¼Œè®¾å®šæ–‡ä»¶ä¸èƒ½æˆä¸ºdumpç¨‹åºçš„å¤‡ä»½ç›®æ ‡ã€‚ iï¼šè®¾å®šæ–‡ä»¶ä¸èƒ½è¢«åˆ é™¤ã€æ”¹åã€è®¾å®šé“¾æ¥å…³ç³»ï¼ŒåŒæ—¶ä¸èƒ½å†™å…¥æˆ–æ–°å¢å†…å®¹ã€‚iå‚æ•°å¯¹äºæ–‡ä»¶ ç³»ç»Ÿçš„å®‰å…¨è®¾ç½®æœ‰å¾ˆå¤§å¸®åŠ©ã€‚ jï¼šå³journalï¼Œè®¾å®šæ­¤å‚æ•°ä½¿å¾—å½“é€šè¿‡mountå‚æ•°ï¼šdata=ordered æˆ–è€… data=writeback æŒ‚ è½½çš„æ–‡ä»¶ç³»ç»Ÿï¼Œæ–‡ä»¶åœ¨å†™å…¥æ—¶ä¼šå…ˆè¢«è®°å½•(åœ¨journalä¸­)ã€‚å¦‚æœfilesystemè¢«è®¾å®šå‚æ•°ä¸º data=journalï¼Œåˆ™è¯¥å‚æ•°è‡ªåŠ¨å¤±æ•ˆã€‚ sï¼šä¿å¯†æ€§åœ°åˆ é™¤æ–‡ä»¶æˆ–ç›®å½•ï¼Œå³ç¡¬ç›˜ç©ºé—´è¢«å…¨éƒ¨æ”¶å›ã€‚ uï¼šä¸sç›¸åï¼Œå½“è®¾å®šä¸ºuæ—¶ï¼Œæ•°æ®å†…å®¹å…¶å®è¿˜å­˜åœ¨ç£ç›˜ä¸­ï¼Œå¯ä»¥ç”¨äºundeletionã€‚ å„å‚æ•°é€‰é¡¹ä¸­å¸¸ç”¨åˆ°çš„æ˜¯aå’Œiã€‚aé€‰é¡¹å¼ºåˆ¶åªå¯æ·»åŠ ä¸å¯åˆ é™¤ï¼Œå¤šç”¨äºæ—¥å¿—ç³»ç»Ÿçš„å®‰å…¨è®¾å®šã€‚è€Œiæ˜¯æ›´ä¸ºä¸¥æ ¼çš„å®‰å…¨è®¾å®šï¼Œåªæœ‰superuser (root) æˆ–å…·æœ‰CAP_LINUX_IMMUTABLEå¤„ç†èƒ½åŠ›ï¼ˆæ ‡è¯†ï¼‰çš„è¿›ç¨‹èƒ½å¤Ÿæ–½åŠ è¯¥é€‰é¡¹ å‚æ•°-R é€’å½’å¤„ç†ï¼Œå°†æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åŠå­ç›®å½•ä¸€å¹¶å¤„ç†ã€‚ -v&lt;ç‰ˆæœ¬ç¼–å·&gt; è®¾ç½®æ–‡ä»¶æˆ–ç›®å½•ç‰ˆæœ¬ã€‚ -V æ˜¾ç¤ºæŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ã€‚ +&lt;å±æ€§&gt; å¼€å¯æ–‡ä»¶æˆ–ç›®å½•çš„è¯¥é¡¹å±æ€§ã€‚ -&lt;å±æ€§&gt; å…³é—­æ–‡ä»¶æˆ–ç›®å½•çš„è¯¥é¡¹å±æ€§ã€‚ =&lt;å±æ€§&gt; æŒ‡å®šæ–‡ä»¶æˆ–ç›®å½•çš„è¯¥é¡¹å±æ€§ å®ä¾‹1234567891011121314151617181920212223â•­â”€root@iz ~â•°â”€# ls hello.conf # æˆ‘åœ¨ä¸‹é¢åˆ›å»ºä¸€ä¸ªhello.confæ–‡ä»¶â•­â”€root@iz~â•°â”€# chattr -V +i hello.conf # è®¾å®šæ–‡ä»¶ä¸èƒ½è¢«åˆ é™¤ã€æ”¹åç­‰chattr 1.42.9 (28-Dec-2013)hello.confçš„æ ‡å¿—è¢«è®¾ä¸º ----i--------e--â•­â”€root@iz ~â•°â”€# rm hello.confrm: æ— æ³•åˆ é™¤\"hello.conf\": ä¸å…è®¸çš„æ“ä½œâ•­â”€root@iz ~â•°â”€# lsattr hello.conf # ç”¨lsattr å¯ä»¥æŸ¥çœ‹chatträ¸‹é¢çš„è®¾ç½®----i--------e-- hello.confâ•­â”€root@iz ~â•°â”€# lsattr hello.conf----i--------e-- hello.confâ•­â”€root@iz ~â•°â”€# chattr -V -i hello.confchattr 1.42.9 (28-Dec-2013)hello.confçš„æ ‡å¿—è¢«è®¾ä¸º -------------e--è¿™æ—¶å€™åœ¨åˆ é™¤å°±å¯ä»¥åˆ é™¤äº†â•­â”€root@iz ~â•°â”€# rm hello.conf","tags":[]},{"title":"python æ‰¹é‡ä¸Šä¼ æ–‡ä»¶åˆ°é˜¿é‡Œäº‘ossï¼Œå¹¶å†™å…¥Excelï¼Œå­˜åˆ°æœ¬åœ°","date":"2018-11-29T05:59:03.000Z","path":"2018/11/29/python-æ‰¹é‡ä¸Šä¼ æ–‡ä»¶åˆ°é˜¿é‡Œäº‘oss/","text":"æœ€è¿‘å…¬å¸è¦å¾€é˜¿é‡Œäº‘ossä¸Šä¼ è§†é¢‘ï¼Œå¤§å°å·®ä¸å¤šæœ‰200Gï¼ŒåŸå…ˆè®©è¿è¥å»ä¸€ä¸ªä¸€ä¸ªçš„æ·»åŠ ï¼Œä½†æ˜¯è¿™èƒ½éº»çƒ¦æ­»äººï¼Œæ‰€ä»¥å°±è®©æŠ€æœ¯å»æ‰¹é‡ä¸Šä¼ ã€‚æ‰€ä»¥ç ”ç©¶äº†ä¸€ä¸‹ç”¨pythonå¾€ossä¸Šä¼ è§†é¢‘ é¦–å…ˆéœ€å¼•ç”¨ä»¥ä¸‹å‡ ä¸ªæ¨¡å—123pip install oss2pip install tablibpip install pyexcel-xlsx å…¶æ¬¡å› ä¸ºæœ¬åœ°çš„è§†é¢‘éƒ½æ˜¯æ¯”å¦‚ä¸­æ–‡.mp4è¿™æ ·çš„ï¼Œæ‰€ä»¥å¼•å…¥ä¸€ä¸ªéšæœºå­—ç¬¦ä¸²123456789101112import randomdef generate_random_str(randomlength=8): \"\"\" ç”Ÿæˆä¸€ä¸ªæŒ‡å®šé•¿åº¦çš„éšæœºå­—ç¬¦ä¸² \"\"\" random_str = '' base_str = 'ABCDEFGHIGKLMNOPQRSTUVWXYZabcdefghigklmnopqrstuvwxyz0123456789' length = len(base_str) - 1 for i in range(randomlength): random_str += base_str[random.randint(0, length)] return random_str å› ä¸ºæ˜¯æ–‡ä»¶å¤¹é‡Œé¢å¥—æ–‡ä»¶å¤¹ï¼Œä½†æ˜¯åªä¸Šä¼ æ–‡ä»¶ï¼Œæ‰€ä»¥éœ€è¦è·å–å­æ–‡ä»¶å¤¹ä¸‹é¢çš„è§†é¢‘ä»£ç å¦‚ä¸‹ï¼š123456789def upload(dir): fs = os.listdir(dir) for f in fs: file = dir + \"/\" + f if os.path.isdir(file): upload(file) else: if 'DS_Store' not in file and 'png' not in f and 'JPG' not in f: putAliyun(file, f) å¤‡æ³¨ï¼šå› ä¸ºæ–‡ä»¶å¤¹é‡Œé¢è¿˜æœ‰å›¾ç‰‡ï¼Œæ‰€ä»¥å»é™¤åç¼€ä¸ºpngã€JPGçš„å›¾ç‰‡ã€‚å› ä¸ºç”¨çš„æ˜¯macä¸Šä¼ ï¼Œæ‰€ä»¥æ–‡ä»¶å¤¹é‡Œé¢æœ‰.DS_Storeï¼Œæ‰€ä»¥ä¹Ÿéœ€è¦å»é™¤ æ‰€ä»¥è¿™ä¸ªçš„æ•´ä¸ªä»£ç å¦‚ä¸‹:123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172#!/usr/bin/env python# ! -*- coding:utf-8 -*-import oss2import randomimport osimport tablibimport timeossDir = '/Users/FQY/Desktop/upload'key = XXXsecret = XXXbucketname = XXXdataset = tablib.Dataset()header = ('title', 'url')dataset.headers = headerdef generate_random_str(randomlength=8): \"\"\" ç”Ÿæˆä¸€ä¸ªæŒ‡å®šé•¿åº¦çš„éšæœºå­—ç¬¦ä¸² \"\"\" random_str = '' base_str = 'ABCDEFGHIGKLMNOPQRSTUVWXYZabcdefghigklmnopqrstuvwxyz0123456789' length = len(base_str) - 1 for i in range(randomlength): random_str += base_str[random.randint(0, length)] return random_strdef getmkname(path): remoteName = path.replace(ossDir, '') dir_names = remoteName.split('/') dir_names.pop() res = filter(None, dir_names) mkdir_name = '-'.join(res) return mkdir_name#è·å¾—ä¸Šä¼ çš„æ—¶é•¿def progress_callback(bytes_consumed, total_bytes): print('bytes_consumed is &#123;&#125;'.format(bytes_consumed)) print('total_bytes is &#123;&#125;'.format(total_bytes))def putAliyun(path, f): key = 'language/' + str(int(time.time())) + generate_random_str() + '.mp4' auth = oss2.Auth(key, secret) bucket = oss2.Bucket(auth, 'http://oss-cn-hangzhou.aliyuncs.com', bucketname) result = bucket.put_object_from_file(key=key, filename=path,progress_callback=progress_callback) if result.status == 200: aliyun = 'http://video.oss-cn-hangzhou.aliyuncs.com/&#123;&#125;'.format(key) title = 'ã€&#123;&#125;ã€‘&#123;&#125;'.format(getmkname(path), f.split('.mp4')[0]) dataset.append([title, aliyun]) else: print('upload fail,error code', result.status)def upload(dir): fs = os.listdir(dir) for f in fs: file = dir + \"/\" + f if os.path.isdir(file): upload(file) else: if 'DS_Store' not in file and 'png' not in f and 'JPG' not in f: putAliyun(file, f)upload(ossDir)myfile = open('/Users/FQY/Desktop/mydata_video.xlsx', 'wb')myfile.write(dataset.xlsx)myfile.close() tablibçš„ä»‹ç»ï¼Œå¯ä»¥è§‚çœ‹ä»¥ä¸‹çš„æ–‡ç« åˆ©ç”¨tablibã€make_response è¿›è¡Œæ–‡ä»¶çš„ä¸‹è½½","tags":[]},{"title":"sudo -s åˆ‡æ¢åˆ°rootè´¦æˆ·","date":"2018-11-20T09:50:31.000Z","path":"2018/11/20/sudo-s-åˆ‡æ¢åˆ°rootè´¦æˆ·/","text":"sudo su å’Œ sudo -séƒ½æ˜¯åˆ‡æ¢åˆ°rootç”¨æˆ·ï¼Œä¸åŒçš„æ˜¯ï¼š sudo su ç¯å¢ƒç”¨çš„æ˜¯ç›®æ ‡ç”¨æˆ·(root)çš„ç¯å¢ƒsudo -s ç¯å¢ƒç”¨çš„æ˜¯å½“å‰ç”¨æˆ·æœ¬èº«çš„ç¯å¢ƒ","tags":[]},{"title":"ubuntuç³»ç»Ÿä¸‹gitlabçš„åˆ›å»º","date":"2018-11-20T08:37:22.000Z","path":"2018/11/20/ubuntuç³»ç»Ÿä¸‹gitlabçš„åˆ›å»º/","text":"æ‘˜è¦ï¼š gitlabçš„ä»‹ç»ã€ç¯å¢ƒã€åˆ›å»ºæ­¥éª¤ã€å…³é”®ç‚¹ã€å¸è½½gitlab gitlabçš„ä»‹ç» GitLab æ˜¯ä¸€ä¸ªç”¨äºä»“åº“ç®¡ç†ç³»ç»Ÿçš„å¼€æºé¡¹ç›®ï¼Œä½¿ç”¨Gitä½œä¸ºä»£ç ç®¡ç†å·¥å…·ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šæ­å»ºèµ·æ¥çš„webæœåŠ¡ã€‚ ç¯å¢ƒ ubuntu 18.04LTS åˆ›å»ºæ­¥éª¤gitlabå®˜ç½‘ä¸Šé¢æœ‰åœ¨ubuntuåˆ›å»ºgitlabçš„æ­¥éª¤https://about.gitlab.com/install/ å¯ä»¥ç‚¹å‡»æŒ‰ç…§æ­¥éª¤æ¥åš å…³é”®ç‚¹æ¯æ¬¡ä¿®æ”¹é…ç½®çš„æ—¶å€™è®°å¾—sudo gitlab-ctl reconfigureï¼Œä½¿é…ç½®ç”Ÿæ•ˆ æŒ‡ä»¤12345678910111213141516æŸ¥çœ‹è¿è¡ŒçŠ¶æ€ sudo gitlab-ctl statuså¯åŠ¨æ‰€æœ‰ gitlab ç»„ä»¶ sudo gitlab-ctl start åœæ­¢æ‰€æœ‰ gitlab ç»„ä»¶ sudo gitlab-ctl stop é‡å¯æ‰€æœ‰ gitlab ç»„ä»¶ sudo gitlab-ctl restart å¯åŠ¨æœåŠ¡ sudo gitlab-ctl reconfigure ä¿®æ”¹é»˜è®¤çš„é…ç½®æ–‡ä»¶ sudo vim /etc/gitlab/gitlab.rb æ£€æŸ¥gitlab gitlab-rake gitlab:check SANITIZE=true --trace æŸ¥çœ‹æ—¥å¿— sudo gitlab-ctl tail åˆå§‹è´¦æˆ·å’Œå¯†ç æœ‰çš„ç¬”è®°ä¸Šè¯´çš„é»˜è®¤è´¦æˆ·å’Œå¯†ç æ˜¯ä¸‹é¢çš„ è´¦æˆ·ï¼šrootå¯†ç ï¼š5iveL!fe ä½†æ˜¯æˆ‘æ‰“å¼€ç½‘é¡µçš„æ—¶å€™ï¼Œç›´æ¥æç¤ºçš„æ˜¯ change your passwordã€‚è¿™æ—¶å€™æˆ‘åšçš„å°±æ˜¯æŠŠå¯†ç ä¿®æ”¹ä¸‹ï¼Œå¯†ç æœ€å°‘8ä¸ªå­—ï¼Œå½“ä½ ä¿®æ”¹è¿‡äº†ä»¥åä½ å°±å¯ä»¥ç™»å½•äº†ã€‚æ¯”å¦‚ï¼š è´¦æˆ·ï¼šrootå¯†ç ï¼šxxkh1234 å¸è½½1ã€åœæ­¢gitlab1sudo gitlab-ctl stop 2ã€å¸è½½gitlabï¼ˆæ³¨æ„è¿™é‡Œå†™çš„æ˜¯gitlab-ceï¼‰1sudo dpkg -r gitlab-ce 3ã€æŸ¥çœ‹gitlabè¿›ç¨‹1ps aux | grep gitlab 4ã€æ€æ‰ç¬¬ä¸€ä¸ªè¿›ç¨‹ï¼ˆå°±æ˜¯å¸¦æœ‰å¥½å¤šâ€¦â€¦â€¦â€¦.çš„è¿›ç¨‹ï¼‰1kill -9 18777 æ€æ‰åï¼Œåœ¨ps aux | grep gitlabç¡®è®¤ä¸€éï¼Œè¿˜æœ‰æ²¡æœ‰gitlabçš„è¿›ç¨‹ 5ã€åˆ é™¤æ‰€æœ‰åŒ…å«gitlabæ–‡ä»¶1find / -name gitlab | xargs rm -rf","tags":[]},{"title":"Linux grepã€tailå‘½ä»¤çš„æ··åˆä½¿ç”¨","date":"2018-11-14T06:06:29.000Z","path":"2018/11/14/Linux-grepã€tailå‘½ä»¤çš„ä½¿ç”¨/","text":"grepLinux grepå‘½ä»¤ç”¨äºæŸ¥æ‰¾æ–‡ä»¶é‡Œç¬¦åˆæ¡ä»¶çš„å­—ç¬¦ä¸²ã€‚grepæŒ‡ä»¤ç”¨äºæŸ¥æ‰¾å†…å®¹åŒ…å«æŒ‡å®šçš„èŒƒæœ¬æ ·å¼çš„æ–‡ä»¶ï¼Œå¦‚æœå‘ç°æŸæ–‡ä»¶çš„å†…å®¹ç¬¦åˆæ‰€æŒ‡å®šçš„èŒƒæœ¬æ ·å¼ï¼Œé¢„è®¾grepæŒ‡ä»¤ä¼šæŠŠå«æœ‰èŒƒæœ¬æ ·å¼çš„é‚£ä¸€åˆ—æ˜¾ç¤ºå‡ºæ¥ã€‚è‹¥ä¸æŒ‡å®šä»»ä½•æ–‡ä»¶åç§°ï¼Œæˆ–æ˜¯æ‰€ç»™äºˆçš„æ–‡ä»¶åä¸ºâ€-â€œï¼Œåˆ™grepæŒ‡ä»¤ä¼šä»æ ‡å‡†è¾“å…¥è®¾å¤‡è¯»å–æ•°æ®ã€‚ è¯­æ³• grep [-abcEFGhHilLnqrsvVwxy][-A&lt;æ˜¾ç¤ºåˆ—æ•°&gt;][-B&lt;æ˜¾ç¤ºåˆ—æ•°&gt;][-C&lt;æ˜¾ç¤ºåˆ—æ•°&gt;][-d&lt;è¿›è¡ŒåŠ¨ä½œ&gt;][-e&lt;èŒƒæœ¬æ ·å¼&gt;][-f&lt;èŒƒæœ¬æ–‡ä»¶&gt;][â€“help][èŒƒæœ¬æ ·å¼][æ–‡ä»¶æˆ–ç›®å½•â€¦] æˆ– grep [é€‰é¡¹] â€œæ¨¡å¼â€ [æ–‡ä»¶] å‚æ•° -a æˆ– â€“text : ä¸è¦å¿½ç•¥äºŒè¿›åˆ¶çš„æ•°æ®ã€‚ -A&lt;æ˜¾ç¤ºè¡Œæ•°&gt; æˆ– â€“after-context=&lt;æ˜¾ç¤ºè¡Œæ•°&gt; : é™¤äº†æ˜¾ç¤ºç¬¦åˆèŒƒæœ¬æ ·å¼çš„é‚£ä¸€åˆ—ä¹‹å¤–ï¼Œå¹¶æ˜¾ç¤ºè¯¥è¡Œä¹‹åçš„å†…å®¹ã€‚ -b æˆ– â€“byte-offset : åœ¨æ˜¾ç¤ºç¬¦åˆæ ·å¼çš„é‚£ä¸€è¡Œä¹‹å‰ï¼Œæ ‡ç¤ºå‡ºè¯¥è¡Œç¬¬ä¸€ä¸ªå­—ç¬¦çš„ç¼–å·ã€‚ -B&lt;æ˜¾ç¤ºè¡Œæ•°&gt; æˆ– â€“before-context=&lt;æ˜¾ç¤ºè¡Œæ•°&gt; : é™¤äº†æ˜¾ç¤ºç¬¦åˆæ ·å¼çš„é‚£ä¸€è¡Œä¹‹å¤–ï¼Œå¹¶æ˜¾ç¤ºè¯¥è¡Œä¹‹å‰çš„å†…å®¹ã€‚ -c æˆ– â€“count : è®¡ç®—ç¬¦åˆæ ·å¼çš„åˆ—æ•°ã€‚ -C&lt;æ˜¾ç¤ºè¡Œæ•°&gt; æˆ– â€“context=&lt;æ˜¾ç¤ºè¡Œæ•°&gt;æˆ–-&lt;æ˜¾ç¤ºè¡Œæ•°&gt; : é™¤äº†æ˜¾ç¤ºç¬¦åˆæ ·å¼çš„é‚£ä¸€è¡Œä¹‹å¤–ï¼Œå¹¶æ˜¾ç¤ºè¯¥è¡Œä¹‹å‰åçš„å†…å®¹ã€‚ -d &lt;åŠ¨ä½œ&gt; æˆ– â€“directories=&lt;åŠ¨ä½œ&gt; : å½“æŒ‡å®šè¦æŸ¥æ‰¾çš„æ˜¯ç›®å½•è€Œéæ–‡ä»¶æ—¶ï¼Œå¿…é¡»ä½¿ç”¨è¿™é¡¹å‚æ•°ï¼Œå¦åˆ™grepæŒ‡ä»¤å°†å›æŠ¥ä¿¡æ¯å¹¶åœæ­¢åŠ¨ä½œã€‚ -e&lt;èŒƒæœ¬æ ·å¼&gt; æˆ– â€“regexp=&lt;èŒƒæœ¬æ ·å¼&gt; : æŒ‡å®šå­—ç¬¦ä¸²åšä¸ºæŸ¥æ‰¾æ–‡ä»¶å†…å®¹çš„æ ·å¼ã€‚ -E æˆ– â€“extended-regexp : å°†æ ·å¼ä¸ºå»¶ä¼¸çš„æ™®é€šè¡¨ç¤ºæ³•æ¥ä½¿ç”¨ã€‚ -f&lt;è§„åˆ™æ–‡ä»¶&gt; æˆ– â€“file=&lt;è§„åˆ™æ–‡ä»¶&gt; : æŒ‡å®šè§„åˆ™æ–‡ä»¶ï¼Œå…¶å†…å®¹å«æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè§„åˆ™æ ·å¼ï¼Œè®©grepæŸ¥æ‰¾ç¬¦åˆè§„åˆ™æ¡ä»¶çš„æ–‡ä»¶å†…å®¹ï¼Œæ ¼å¼ä¸ºæ¯è¡Œä¸€ä¸ªè§„åˆ™æ ·å¼ã€‚ -F æˆ– â€“fixed-regexp : å°†æ ·å¼è§†ä¸ºå›ºå®šå­—ç¬¦ä¸²çš„åˆ—è¡¨ã€‚ -G æˆ– â€“basic-regexp : å°†æ ·å¼è§†ä¸ºæ™®é€šçš„è¡¨ç¤ºæ³•æ¥ä½¿ç”¨ã€‚ -h æˆ– â€“no-filename : åœ¨æ˜¾ç¤ºç¬¦åˆæ ·å¼çš„é‚£ä¸€è¡Œä¹‹å‰ï¼Œä¸æ ‡ç¤ºè¯¥è¡Œæ‰€å±çš„æ–‡ä»¶åç§°ã€‚ -H æˆ– â€“with-filename : åœ¨æ˜¾ç¤ºç¬¦åˆæ ·å¼çš„é‚£ä¸€è¡Œä¹‹å‰ï¼Œè¡¨ç¤ºè¯¥è¡Œæ‰€å±çš„æ–‡ä»¶åç§°ã€‚ -i æˆ– â€“ignore-case : å¿½ç•¥å­—ç¬¦å¤§å°å†™çš„å·®åˆ«ã€‚ -l æˆ– â€“file-with-matches : åˆ—å‡ºæ–‡ä»¶å†…å®¹ç¬¦åˆæŒ‡å®šçš„æ ·å¼çš„æ–‡ä»¶åç§°ã€‚ -L æˆ– â€“files-without-match : åˆ—å‡ºæ–‡ä»¶å†…å®¹ä¸ç¬¦åˆæŒ‡å®šçš„æ ·å¼çš„æ–‡ä»¶åç§°ã€‚ -n æˆ– â€“line-number : åœ¨æ˜¾ç¤ºç¬¦åˆæ ·å¼çš„é‚£ä¸€è¡Œä¹‹å‰ï¼Œæ ‡ç¤ºå‡ºè¯¥è¡Œçš„åˆ—æ•°ç¼–å·ã€‚ -q æˆ– â€“quietæˆ–â€“silent : ä¸æ˜¾ç¤ºä»»ä½•ä¿¡æ¯ã€‚ -r æˆ– â€“recursive : æ­¤å‚æ•°çš„æ•ˆæœå’ŒæŒ‡å®šâ€-d recurseâ€å‚æ•°ç›¸åŒã€‚ -s æˆ– â€“no-messages : ä¸æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ã€‚ -v æˆ– â€“revert-match : æ˜¾ç¤ºä¸åŒ…å«åŒ¹é…æ–‡æœ¬çš„æ‰€æœ‰è¡Œã€‚ -V æˆ– â€“version : æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ã€‚ -w æˆ– â€“word-regexp : åªæ˜¾ç¤ºå…¨å­—ç¬¦åˆçš„åˆ—ã€‚ -x â€“line-regexp : åªæ˜¾ç¤ºå…¨åˆ—ç¬¦åˆçš„åˆ—ã€‚ -y : æ­¤å‚æ•°çš„æ•ˆæœå’ŒæŒ‡å®šâ€-iâ€å‚æ•°ç›¸åŒ å®ä¾‹12345678910[root@hard supervisord]# grep 'POST.*play_order.*return 200' tmd.log[2018-10-21 14:39:21,190] [base.py:451 ] [DEBUG] [POST /adminapi/v3/play_order ] return 200[2018-10-21 14:42:03,327] [base.py:451 ] [DEBUG] [POST /adminapi/v3/play_order ] return 200[2018-10-21 14:43:27,720] [base.py:451 ] [DEBUG] [POST /adminapi/v3/play_order ] return 200[2018-10-21 18:15:25,090] [base.py:451 ] [DEBUG] [POST /adminapi/v3/play_order ] return 200[2018-10-21 18:33:20,517] [base.py:451 ] [DEBUG] [POST /adminapi/v3/play_order ] return 200[2018-10-22 16:20:55,863] [base.py:451 ] [DEBUG] [POST /adminapi/v3/play_order ] return 200[2018-10-22 17:41:36,183] [base.py:451 ] [DEBUG] [POST /adminapi/v3/play_order ] return 200[2018-10-22 17:52:44,021] [base.py:451 ] [DEBUG] [POST /adminapi/v3/play_order ] return 200[2018-10-22 17:55:15,172] [base.py:451 ] [DEBUG] [POST /adminapi/v3/play_order ] return 200 grep &#39;POST.*play_order.*return 200&#39; tmd.log è¿™ä¸ªç­‰åŒäºgrep &#39;play_order&#39; tmd.log | grep &#39;POST&#39; | grep &#39;return 200&#39; 12345[root@hard supervisord]# grep -c 'POST.*play_order.*return 200' tmd.log62[root@hard supervisord]# grep -c 'play_order' tmd.log | grep 'POST' | grep 'return 200'[root@hard supervisord]# grep 'play_order' tmd.log | grep 'POST' | grep -c 'return 200'62 grepå¯ä»¥å’Œå¾ˆå¤šçš„å‘½ä»¤ä¸€èµ·ä½¿ç”¨1234æŸ¥çœ‹Linux æŸäº›ç¨‹åºè¿›ç¨‹ ps aux [root@iZ2ze3269b etc]# ps aux | grep mysqlroot 2371 0.0 0.0 112676 980 pts/0 S+ 14:34 0:00 grep --color=auto mysqlmysql 10810 0.1 9.4 1599384 367788 ? Sl 10æœˆ11 13:13 /usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid tailtail å‘½ä»¤å¯ç”¨äºæŸ¥çœ‹æ–‡ä»¶çš„å†…å®¹ï¼Œæœ‰ä¸€ä¸ªå¸¸ç”¨çš„å‚æ•° -f å¸¸ç”¨äºæŸ¥é˜…æ­£åœ¨æ”¹å˜çš„æ—¥å¿—æ–‡ä»¶ã€‚tail -f filename ä¼šæŠŠ filename æ–‡ä»¶é‡Œçš„æœ€å°¾éƒ¨çš„å†…å®¹æ˜¾ç¤ºåœ¨å±å¹•ä¸Šï¼Œå¹¶ä¸”ä¸æ–­åˆ·æ–°ï¼Œåªè¦ filename æ›´æ–°å°±å¯ä»¥çœ‹åˆ°æœ€æ–°çš„æ–‡ä»¶å†…å®¹ã€‚ è¯­æ³• tail [å‚æ•°] [æ–‡ä»¶] å‚æ•° -f å¾ªç¯è¯»å– -q ä¸æ˜¾ç¤ºå¤„ç†ä¿¡æ¯ -v æ˜¾ç¤ºè¯¦ç»†çš„å¤„ç†ä¿¡æ¯ -c&lt;æ•°ç›®&gt; æ˜¾ç¤ºçš„å­—èŠ‚æ•° -n&lt;è¡Œæ•°&gt; æ˜¾ç¤ºè¡Œæ•° â€“pid=PID ä¸-fåˆç”¨,è¡¨ç¤ºåœ¨è¿›ç¨‹ID,PIDæ­»æ‰ä¹‹åç»“æŸ. -q, â€“quiet, â€“silent ä»ä¸è¾“å‡ºç»™å‡ºæ–‡ä»¶åçš„é¦–éƒ¨ -s, â€“sleep-interval=S ä¸-fåˆç”¨,è¡¨ç¤ºåœ¨æ¯æ¬¡åå¤çš„é—´éš”ä¼‘çœ Sç§’ å®ä¾‹ è¦æ˜¾ç¤º notes.log æ–‡ä»¶çš„æœ€å 10 è¡Œï¼Œè¯·è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š tail notes.log è¦è·Ÿè¸ªåä¸º notes.log çš„æ–‡ä»¶çš„å¢é•¿æƒ…å†µï¼Œè¯·è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š tail -f notes.log æ­¤å‘½ä»¤æ˜¾ç¤º notes.log æ–‡ä»¶çš„æœ€å 10 è¡Œã€‚å½“å°†æŸäº›è¡Œæ·»åŠ è‡³ notes.log æ–‡ä»¶æ—¶ï¼Œtail å‘½ä»¤ä¼šç»§ç»­æ˜¾ç¤ºè¿™äº›è¡Œã€‚ æ˜¾ç¤ºä¸€ç›´ç»§ç»­ï¼Œç›´åˆ°æ‚¨æŒ‰ä¸‹ï¼ˆCtrl-Cï¼‰ç»„åˆé”®åœæ­¢æ˜¾ç¤ºã€‚æ˜¾ç¤ºæ–‡ä»¶ notes.log çš„å†…å®¹ï¼Œä»ç¬¬ 20 è¡Œè‡³æ–‡ä»¶æœ«å°¾: tail +20 notes.log æ··åˆä½¿ç”¨æœ‰æ—¶å€™æˆ‘ä»¬ä¼šæŸ¥è¯¢æ­£åœ¨æ”¹å˜çš„æ–‡ä»¶ï¼Œä½†æ˜¯æˆ‘ä»¬åªæƒ³æŸ¥çœ‹å…¶ä¸­çš„æŸä¸€äº›ä¿¡æ¯ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨tailã€grepçš„æ··åˆä½¿ç”¨ tail -f filename | grep â€˜DEBUGâ€™ å®ä¾‹ tail -f tmd.log | grep â€˜DEBUG.template.beginâ€™","tags":[]},{"title":"vim æŒ‡ä»¤","date":"2018-11-14T02:24:25.000Z","path":"2018/11/14/vim-æŒ‡ä»¤/","text":"ä¸Šä¸‹å·¦å³h, j, k , lå››ä¸ªé”®åˆ†åˆ«ä»£è¡¨æ–¹å‘é”®â† â†“ â†‘ â†’ ï¼Œä¹Ÿå°±æ˜¯ä¸Šä¸‹å·¦å³ï¼Œæ¯æ¬¡åªèƒ½å‘ä¸Šã€å‘å·¦ã€å‘å³ã€å‘ä¸‹ä¸€ä¸‹ã€‚å¦‚æœå‘ä¸‹ç§»åŠ¨5è¡Œçš„è¯ï¼Œå¯ä»¥ç”¨æ•°å­—+å¿«æ·é”®5j,é‚£ä¹ˆå‘å³ç§»åŠ¨5ä¸ªå°±æ˜¯5lã€‚ ç¿»é¡µç»„åˆé”® 1234&lt;ctrl&gt; + f å‘ä¸‹ç§»åŠ¨ä¸€é¡µ &lt;ctrl&gt; + d å‘ä¸‹ç§»åŠ¨åŠé¡µ&lt;ctrl&gt; + b å‘ä¸Šç§»åŠ¨ä¸€é¡µ&lt;ctrl&gt; + u å‘ä¸Šç§»åŠ¨åŠé¡µ è¡Œé¦–è¡Œå°¾1230 #å¿«é€Ÿè·³åˆ°è¡Œé¦–$ #å¿«é€Ÿè°ƒåˆ°è¡Œå°¾g_ #å¿«é€Ÿè·³åˆ°è¡Œå°¾æœ€åä¸€ä¸ªéç©ºå­—ç¬¦ é¡µå¤´é¡µå°¾12gg #å¿«é€Ÿè·³åˆ°ç¬¬ä¸€è¡ŒG #å¿«é€Ÿè·³åˆ°æœ€åä¸€è¡Œ è¡Œå†…æŸ¥æ‰¾1234fx #ä»å½“å‰å…‰æ ‡å¼€å§‹å‘å³æŸ¥æ‰¾å­—ç¬¦ xï¼Œx ä¸ºç›®æ ‡å­—ç¬¦nfx #ä»å½“å‰å¹¿å‘Šå¼€å§‹å‘å³æŸ¥æ‰¾ç¬¬ n ä¸ªå­—ç¬¦ xï¼Œn ä¸ºæ•°å­—Fx #ä»å½“å‰å…‰æ ‡å¼€å§‹å‘å·¦æŸ¥æ‰¾å­—ç¬¦ xï¼Œx ä¸ºç›®æ ‡å­—ç¬¦nfx #ä»å½“å‰å¹¿å‘Šå¼€å§‹å‘å·¦æŸ¥æ‰¾ç¬¬ n ä¸ªå­—ç¬¦ xï¼Œn ä¸ºæ•°å­— å…¨æ–‡æŸ¥æ‰¾å¦‚æœä½ æƒ³è¦æŠŠå…¨æ–‡çš„ native éƒ½æ‰¾åˆ°ï¼Œå¯ä»¥æŒ‰ä¸‹ / è¿›å…¥ command æ¨¡å¼ï¼Œéšåè¾“å…¥ native ç„¶åå›è½¦ï¼Œæ­¤æ—¶å…‰æ ‡ä¼šå®šä½åœ¨ç¬¬ä¸€ä¸ªç›®æ ‡ä¸Šï¼Œå¹¶é«˜äº®æ‰€æœ‰æ‰¾åˆ°çš„ç›®æ ‡å•è¯ã€‚æ­¤æ—¶æŒ‰ä¸‹ n å…‰æ ‡å°±ä¼šå‘ä¸‹åœ¨é«˜äº®çš„å•è¯ä¸Šä¾æ¬¡è·³è½¬ï¼ŒN åˆ™ä¼šåæ–¹å‘è·³è½¬ã€‚ 1234/word \" è¾“å…¥ / ä¼šè¿›å…¥ command æ¨¡å¼ï¼Œå†è¾“å…¥å…ˆè¦æœç´¢çš„å•è¯å¹¶å›è½¦è¿›è¡Œæœç´¢?word \" / æ˜¯å‘å…‰æ ‡ä»¥åæœç´¢ï¼Œ? æ˜¯å‘å‰æœç´¢n \" è‹±æ–‡å­—æ¯ nï¼Œæ ¹æ® / æˆ– ? æœç´¢çš„æ–¹å‘å®šä½åˆ°ä¸‹ä¸€ä¸ªåŒ¹é…ç›®æ ‡N \" ä¸ n ç›¸åï¼Œå®šä½åŒ¹é…ç›®æ ‡ å¤åˆ¶ã€ç²˜è´´ã€åˆ é™¤å¤åˆ¶å½“å‰è¡Œ yyï¼Œåˆ é™¤å¹¶å¤åˆ¶å½“å‰è¡Œ ddï¼Œç²˜è´´åˆ°å…‰æ ‡ä¸‹ä¸€è¡Œ p 12345678910111213dd \" åˆ é™¤å½“å‰è¡Œndd \" å‘ä¸‹åˆ é™¤ n è¡Œd1G / dgg \" åˆ é™¤ç¬¬ä¸€è¡Œåˆ°å½“å‰è¡Œçš„æ•°æ®dG \" åˆ é™¤å½“å‰è¡Œåˆ°æœ€åä¸€è¡Œçš„æ•°æ®d$ \" åˆ é™¤å½“å‰å­—ç¬¦åˆ°è¡Œå°¾d0 \" ä»è¡Œé¦–åˆ é™¤åˆ°å½“å‰å­—ç¬¦yy \" å¤åˆ¶å½“å‰è¡Œnyy \" ä»å½“å‰è¡Œå¼€å§‹å¤åˆ¶ n è¡Œy1G / ygg \" ä»ç¬¬ä¸€è¡Œå¤åˆ¶åˆ°å½“å‰è¡ŒyG \" ä»å½“å‰è¡Œå¤åˆ¶åˆ°æœ€åä¸€è¡Œy0 \" ä»è¡Œé¦–å¤åˆ¶åˆ°å½“å‰å­—ç¬¦y$ \" ä»å½“å‰å­—ç¬¦å¤åˆ¶åˆ°è¡Œå°¾p, P \" é»è´´ï¼Œp é»è´´åˆ°å…‰æ ‡ä¸‹ä¸€è¡Œï¼ŒP é»è´´åˆ°å…‰æ ‡ä¸Šä¸€è¡Œ 1234x \" å‘ååˆ é™¤ä¸€ä¸ªå­—ç¬¦nx \" å‘ååˆ é™¤ n ä¸ªå­—ç¬¦X \" å‘å‰åˆ é™¤ä¸€ä¸ªå­—ç¬¦nX \" å‘å‰åˆ é™¤ n ä¸ªå­—ç¬¦ æ’¤é”€å’Œé‡åš12u \" æ’¤é”€&lt;c-r&gt; \" é‡åš","tags":[]},{"title":"Linux cpã€lnå‘½ä»¤çš„ä½¿ç”¨","date":"2018-11-13T10:17:07.000Z","path":"2018/11/13/Linux-cpã€lnå‘½ä»¤çš„ä½¿ç”¨/","text":"cpcpå‘½ä»¤ä¸»è¦ç”¨äºå¤åˆ¶æ–‡ä»¶æˆ–ç›®å½• è¯­æ³•1cp [options] source dest å®ä¾‹å¤åˆ¶æ–‡ä»¶ cp æºæ–‡ä»¶ ç›®æ ‡æ–‡ä»¶ 1234567FQY@bogon ~/Desktop/edcâ•°â”€$ cp /Users/FQY/Desktop/1.xlsx 1.xlsxâ•­â”€FQY@bogon ~/Desktop/edcâ•°â”€$ lltotal 72-rw-------@ 1 FQY staff 28K 11 13 15:14 1.xlsx-rw-r--r-- 1 FQY staff 0B 11 13 14:31 bm.conf å¤åˆ¶ç›®å½•ä¸‹é¢çš„æ‰€æœ‰æ–‡ä»¶ä½¿ç”¨æŒ‡ä»¤â€cpâ€å°†å½“å‰ç›®å½•â€test/â€œä¸‹çš„æ‰€æœ‰æ–‡ä»¶å¤åˆ¶åˆ°æ–°ç›®å½•â€newtestâ€ä¸‹ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ $ cp â€“r test/ newtest å‚æ•°è¯´æ˜ï¼š -aï¼šæ­¤é€‰é¡¹é€šå¸¸åœ¨å¤åˆ¶ç›®å½•æ—¶ä½¿ç”¨ï¼Œå®ƒä¿ç•™é“¾æ¥ã€æ–‡ä»¶å±æ€§ï¼Œå¹¶å¤åˆ¶ç›®å½•ä¸‹çš„æ‰€æœ‰å†…å®¹ã€‚å…¶ä½œç”¨ç­‰äºdpRå‚æ•°ç»„åˆã€‚ -dï¼šå¤åˆ¶æ—¶ä¿ç•™é“¾æ¥ã€‚è¿™é‡Œæ‰€è¯´çš„é“¾æ¥ç›¸å½“äºWindowsç³»ç»Ÿä¸­çš„å¿«æ·æ–¹å¼ã€‚ -fï¼šè¦†ç›–å·²ç»å­˜åœ¨çš„ç›®æ ‡æ–‡ä»¶è€Œä¸ç»™å‡ºæç¤ºã€‚ -iï¼šä¸-fé€‰é¡¹ç›¸åï¼Œåœ¨è¦†ç›–ç›®æ ‡æ–‡ä»¶ä¹‹å‰ç»™å‡ºæç¤ºï¼Œè¦æ±‚ç”¨æˆ·ç¡®è®¤æ˜¯å¦è¦†ç›–ï¼Œå›ç­”â€yâ€æ—¶ç›®æ ‡æ–‡ä»¶å°†è¢«è¦†ç›–ã€‚ -pï¼šé™¤å¤åˆ¶æ–‡ä»¶çš„å†…å®¹å¤–ï¼Œè¿˜æŠŠä¿®æ”¹æ—¶é—´å’Œè®¿é—®æƒé™ä¹Ÿå¤åˆ¶åˆ°æ–°æ–‡ä»¶ä¸­ã€‚ -rï¼šè‹¥ç»™å‡ºçš„æºæ–‡ä»¶æ˜¯ä¸€ä¸ªç›®å½•æ–‡ä»¶ï¼Œæ­¤æ—¶å°†å¤åˆ¶è¯¥ç›®å½•ä¸‹æ‰€æœ‰çš„å­ç›®å½•å’Œæ–‡ä»¶ã€‚ -lï¼šä¸å¤åˆ¶æ–‡ä»¶ï¼Œåªæ˜¯ç”Ÿæˆé“¾æ¥æ–‡ä»¶ã€‚ lnLinux lnå‘½ä»¤æ˜¯ä¸€ä¸ªéå¸¸é‡è¦å‘½ä»¤ï¼Œå®ƒçš„åŠŸèƒ½æ˜¯ä¸ºæŸä¸€ä¸ªæ–‡ä»¶åœ¨å¦å¤–ä¸€ä¸ªä½ç½®å»ºç«‹ä¸€ä¸ªåŒæ­¥çš„é“¾æ¥ã€‚å½“æˆ‘ä»¬éœ€è¦åœ¨ä¸åŒçš„ç›®å½•ï¼Œç”¨åˆ°ç›¸åŒçš„æ–‡ä»¶æ—¶ï¼Œæˆ‘ä»¬ä¸éœ€è¦åœ¨æ¯ä¸€ä¸ªéœ€è¦çš„ç›®å½•ä¸‹éƒ½æ”¾ä¸€ä¸ªå¿…é¡»ç›¸åŒçš„æ–‡ä»¶ï¼Œæˆ‘ä»¬åªè¦åœ¨æŸä¸ªå›ºå®šçš„ç›®å½•ï¼Œæ”¾ä¸Šè¯¥æ–‡ä»¶ï¼Œç„¶ååœ¨ å…¶å®ƒçš„ç›®å½•ä¸‹ç”¨lnå‘½ä»¤é“¾æ¥ï¼ˆlinkï¼‰å®ƒå°±å¯ä»¥ï¼Œä¸å¿…é‡å¤çš„å ç”¨ç£ç›˜ç©ºé—´ã€‚ è¯­æ³• ln [å‚æ•°][æºæ–‡ä»¶æˆ–ç›®å½•][ç›®æ ‡æ–‡ä»¶æˆ–ç›®å½•] è½¯é“¾æ¥ 1.è½¯é“¾æ¥ï¼Œä»¥è·¯å¾„çš„å½¢å¼å­˜åœ¨ã€‚ç±»ä¼¼äºWindowsæ“ä½œç³»ç»Ÿä¸­çš„å¿«æ·æ–¹å¼ 2.è½¯é“¾æ¥å¯ä»¥ è·¨æ–‡ä»¶ç³»ç»Ÿ ï¼Œç¡¬é“¾æ¥ä¸å¯ä»¥ 3.è½¯é“¾æ¥å¯ä»¥å¯¹ä¸€ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶åè¿›è¡Œé“¾æ¥ 4.è½¯é“¾æ¥å¯ä»¥å¯¹ç›®å½•è¿›è¡Œé“¾æ¥ ç¡¬é“¾æ¥ 1.ç¡¬é“¾æ¥ï¼Œä»¥æ–‡ä»¶å‰¯æœ¬çš„å½¢å¼å­˜åœ¨ã€‚ä½†ä¸å ç”¨å®é™…ç©ºé—´ã€‚ 2.ä¸å…è®¸ç»™ç›®å½•åˆ›å»ºç¡¬é“¾æ¥ 3.ç¡¬é“¾æ¥åªæœ‰åœ¨åŒä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿä¸­æ‰èƒ½åˆ›å»º å¿…è¦å‚æ•° -b åˆ é™¤ï¼Œè¦†ç›–ä»¥å‰å»ºç«‹çš„é“¾æ¥ -d å…è®¸è¶…çº§ç”¨æˆ·åˆ¶ä½œç›®å½•çš„ç¡¬é“¾æ¥ -f å¼ºåˆ¶æ‰§è¡Œ -i äº¤äº’æ¨¡å¼ï¼Œæ–‡ä»¶å­˜åœ¨åˆ™æç¤ºç”¨æˆ·æ˜¯å¦è¦†ç›– -n æŠŠç¬¦å·é“¾æ¥è§†ä¸ºä¸€èˆ¬ç›®å½• -s è½¯é“¾æ¥(ç¬¦å·é“¾æ¥) -v æ˜¾ç¤ºè¯¦ç»†çš„å¤„ç†è¿‡ç¨‹ å®ä¾‹åˆ›å»ºç¡¬é“¾æ¥ ln destop/1.xlsx 1.xlsx åˆ›å»ºè½¯é“¾æ¥ ln -s destop/1.xlsx 1.xlsx","tags":[]},{"title":"git clone å­æ¨¡å—","date":"2018-11-09T07:20:04.000Z","path":"2018/11/09/git-clone-å­æ¨¡å—/","text":"æœ€è¿‘åœ¨åšåšå®¢çš„æ—¶å€™ï¼Œç”¨åˆ°äº†å…¶ä»–çš„themesï¼Œå› ä¸ºé…ç½®ï¼Œæ‰€ä»¥éœ€è¦ä¿®æ”¹themesé‡Œé¢çš„ä»£ç ï¼Œè¿™æ—¶å€™æœ‰ä¸¤ç§åšæ³•ï¼Œä¸€ç§æ˜¯ç›´æ¥æŠŠä»£ç ä¸‹åˆ°æœ¬åœ°ï¼Œç„¶åå°†ä»£ç ç›´æ¥æ‹·è´é¡¹ç›®ä¸­ï¼Œå¦ä¸€ç§æ˜¯ç”¨gitåšç®¡ç†ï¼Œé¡¹ç›®ä¸­æ·»åŠ å­é¡¹ç›®ã€‚æˆ‘å…ˆåšçš„æ˜¯å…ˆforkè¯¥themeä¸€ä»½ï¼Œç„¶ågitæˆ‘forkä¸‹æ¥çš„è¿™ä¸ªé¡¹ç›®ã€‚å…·ä½“åšæ³•å¦‚ä¸‹ æ·»åŠ å­é¡¹ç›®git submodule add [address]1234567$ git submodule add https://github.com/chaconinc/DbConnectorCloning into 'DbConnector'...remote: Counting objects: 11, done.remote: Compressing objects: 100% (10/10), done.remote: Total 11 (delta 0), reused 11 (delta 0)Unpacking objects: 100% (11/11), done.Checking connectivity... done. é»˜è®¤æƒ…å†µä¸‹ï¼Œå­æ¨¡å—ä¼šå°†å­é¡¹ç›®æ”¾åˆ°ä¸€ä¸ªä¸ä»“åº“åŒåçš„ç›®å½•ä¸­ï¼Œæœ¬ä¾‹ä¸­æ˜¯ â€œDbConnectorâ€ã€‚ å¦‚æœä½ æƒ³è¦æ”¾åˆ°å…¶ä»–åœ°æ–¹ï¼Œé‚£ä¹ˆå¯ä»¥åœ¨å‘½ä»¤ç»“å°¾æ·»åŠ ä¸€ä¸ªä¸åŒçš„è·¯å¾„ã€‚ è‡ªåŠ¨åˆå§‹åŒ–å¹¶æ›´æ–°ä»“åº“ä¸­çš„æ¯ä¸€ä¸ªå­æ¨¡å—123456789101112131415$ git clone --recursive https://github.com/chaconinc/MainProjectCloning into 'MainProject'...remote: Counting objects: 14, done.remote: Compressing objects: 100% (13/13), done.remote: Total 14 (delta 1), reused 13 (delta 0)Unpacking objects: 100% (14/14), done.Checking connectivity... done.Submodule 'DbConnector' (https://github.com/chaconinc/DbConnector) registered for path 'DbConnector'Cloning into 'DbConnector'...remote: Counting objects: 11, done.remote: Compressing objects: 100% (10/10), done.remote: Total 11 (delta 0), reused 11 (delta 0)Unpacking objects: 100% (11/11), done.Checking connectivity... done.Submodule path 'DbConnector': checked out 'c3f01dc8862123d317dd46284b05b6892c7b29bc' åœ¨åŒ…å«å­æ¨¡å—çš„é¡¹ç›®ä¸Šå·¥ä½œå¦‚æœæˆ‘ä»¬åœ¨ä¸»é¡¹ç›®ä¸­æäº¤å¹¶æ¨é€ä½†å¹¶ä¸æ¨é€å­æ¨¡å—ä¸Šçš„æ”¹åŠ¨ï¼Œå…¶ä»–å°è¯•æ£€å‡ºæˆ‘ä»¬ä¿®æ”¹çš„äººä¼šé‡åˆ°éº»çƒ¦ï¼Œå› ä¸ºä»–ä»¬æ— æ³•å¾—åˆ°ä¾èµ–çš„å­æ¨¡å—æ”¹åŠ¨ã€‚ é‚£äº›æ”¹åŠ¨åªå­˜åœ¨äºæˆ‘ä»¬æœ¬åœ°çš„æ‹·è´ä¸­ã€‚ä¸ºäº†ç¡®ä¿è¿™ä¸ä¼šå‘ç”Ÿï¼Œä½ å¯ä»¥è®© Git åœ¨æ¨é€åˆ°ä¸»é¡¹ç›®å‰æ£€æŸ¥æ‰€æœ‰å­æ¨¡å—æ˜¯å¦å·²æ¨é€ã€‚ git push å‘½ä»¤æ¥å—å¯ä»¥è®¾ç½®ä¸º â€œcheckâ€ æˆ– â€œon-demandâ€ çš„ â€“recurse-submodules å‚æ•°ã€‚ å¦‚æœä»»ä½•æäº¤çš„å­æ¨¡å—æ”¹åŠ¨æ²¡æœ‰æ¨é€é‚£ä¹ˆ â€œcheckâ€ é€‰é¡¹ä¼šç›´æ¥ä½¿ push æ“ä½œå¤±è´¥ã€‚1234567891011121314$ git push --recurse-submodules=checkThe following submodule paths contain changes that cannot be found on any remote: DbConnectorPlease try git push --recurse-submodules=on-demandor cd to the path and use git pushto push them to a remote. å¦‚ä½ æ‰€è§ï¼Œå®ƒä¹Ÿç»™æˆ‘ä»¬äº†ä¸€äº›æœ‰ç”¨çš„å»ºè®®ï¼ŒæŒ‡å¯¼æ¥ä¸‹æ¥è¯¥å¦‚ä½•åšã€‚ æœ€ç®€å•çš„é€‰é¡¹æ˜¯è¿›å…¥æ¯ä¸€ä¸ªå­æ¨¡å—ä¸­ç„¶åæ‰‹åŠ¨æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼Œç¡®ä¿å®ƒä»¬èƒ½è¢«å¤–éƒ¨è®¿é—®åˆ°ï¼Œä¹‹åå†æ¬¡å°è¯•è¿™æ¬¡æ¨é€ã€‚ å¦ä¸€ä¸ªé€‰é¡¹æ˜¯ä½¿ç”¨ â€œon-demandâ€ å€¼ï¼Œå®ƒä¼šå°è¯•ä¸ºä½ è¿™æ ·åšã€‚12345678910111213141516$ git push --recurse-submodules=on-demandPushing submodule 'DbConnector'Counting objects: 9, done.Delta compression using up to 8 threads.Compressing objects: 100% (8/8), done.Writing objects: 100% (9/9), 917 bytes | 0 bytes/s, done.Total 9 (delta 3), reused 0 (delta 0)To https://github.com/chaconinc/DbConnector c75e92a..82d2ad3 stable -&gt; stableCounting objects: 2, done.Delta compression using up to 8 threads.Compressing objects: 100% (2/2), done.Writing objects: 100% (2/2), 266 bytes | 0 bytes/s, done.Total 2 (delta 1), reused 0 (delta 0)To https://github.com/chaconinc/MainProject 3d6d338..9a377d1 master -&gt; master å¦‚ä½ æ‰€è§ï¼ŒGit è¿›å…¥åˆ° DbConnector æ¨¡å—ä¸­ç„¶ååœ¨æ¨é€ä¸»é¡¹ç›®å‰æ¨é€äº†å®ƒ å‚è€ƒgit clone å­æ¨¡å—ï¼ˆmoduleï¼‰gitå­æ¨¡å—","tags":[]},{"title":"ssh å…å¯†ç ç™»å½•","date":"2018-11-08T06:56:06.000Z","path":"2018/11/08/ssh å…å¯†ç ç™»å½•/","text":"é€šå¸¸çš„sshç™»å½•æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯é€šè¿‡å¯†ç ç™»å½•ï¼Œä¸€ç§æ˜¯é€šè¿‡å¯†é’¥ç™»å½•ï¼Œåœ¨å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œä¼šå‘ç°ç”¨å¯†ç ç™»å½•å¾ˆç¹çï¼Œéœ€è¦æ¯æ¬¡éƒ½è¾“å…¥å¯†ç ï¼Œè¿™æ—¶å€™ç”¨å¯†é’¥ç™»å½•å°±ä¼šå¾ˆæ–¹ä¾¿ã€‚ å¯†ç ç™»å½•æ ¼å¼12$ ssh root@10.2.8.41root@10.2.8.41's password: è¿™æ—¶å€™è¾“å…¥å¯†ç å°±å¯ä»¥ç™»å½•æˆåŠŸ1234$ ssh root@10.2.8.41root@10.2.8.41's password:Last login: Thu Nov 1 11:34:05 2018 from 10.2.0.33[root@hardwareupdate ~]# å¯†é’¥ç™»å½•åˆ›å»ºå¯†é’¥12345678910[root@host ~]$ ssh-keygen -t rsa &lt;== å»ºç«‹å¯†é’¥å¯¹Generating public/private rsa key pair.Enter file in which to save the key (/root/.ssh/id_rsa): &lt;== æŒ‰ EnterCreated directory '/root/.ssh'.Enter passphrase (empty for no passphrase): &lt;== è¾“å…¥å¯†é’¥é”ç ï¼Œæˆ–ç›´æ¥æŒ‰ Enter ç•™ç©ºEnter same passphrase again: &lt;== å†è¾“å…¥ä¸€éå¯†é’¥é”ç Your identification has been saved in /root/.ssh/id_rsa. &lt;== ç§é’¥Your public key has been saved in /root/.ssh/id_rsa.pub. &lt;== å…¬é’¥The key fingerprint is:0f:d3:e7:1a:1c:bd:5c:03:f1:19:f1:22:df:9b:cc:08 root@host å¯†é’¥ç”Ÿæˆä»¥åï¼Œåœ¨.sshä¸‹é¢ä¼šå¤šä¸¤ä¸ªæ–‡ä»¶ï¼Œid_rsa.pubæ˜¯å…¬é’¥ï¼Œid_rsaæ˜¯ç§é’¥123[root@host ~]$ cd ~/.ssh[root@host .ssh]$ lsid_rsa id_rsa.pub known_hosts config ç„¶åæŠŠå…¬é’¥ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Šï¼Œscpç­‰åŒäºssh-copy-id -i123[root@A ~]# scp /root/.ssh/id_rsa.pub root@192.168.1.181:/root/.ssh/authorized_keys root@192.168.1.181's password:id_rsa.pub 100% 223 0.2KB/s 00:00 ç”±äºè¿˜æ²¡æœ‰å…å¯†ç ç™»å½•çš„ï¼Œæ‰€ä»¥è¦è¾“å…¥ä¸€æ¬¡æœåŠ¡å™¨çš„å¯†ç ç™»å½•,å¦‚æœæœåŠ¡å™¨æ²¡æœ‰authorized_keysæ–‡ä»¶ï¼Œç”¨touch authorized_keys åˆ›å»º æœåŠ¡å™¨ç™»å½•æœåŠ¡å™¨ï¼Œè¿›å…¥.sshé‡Œé¢ï¼Œç»™authorized_keysè®¾ç½®æƒé™1234[root@host ~]$ cd ~/.ssh[root@host .ssh]$ lsauthorized_keys known_hosts[root@host .ssh]$ chmod 600 authorized_keys æœ¬åœ°é…ç½®æƒé™12[root@host ~]$ cd ~/.ssh[root@host .ssh]$ chmod 600 id_rsa è¿™æ—¶å€™å°±å¯ä»¥ç”¨å¯†é’¥ç™»å½•äº†1ssh -i ~/.ssh/id_rsa root@192.168.100.39 ç”¨configå»ç®¡ç†ç”¨ssh -i ~/.ssh/id_rsa root@192.168.100.39ç™»å½•æ—¶å¾ˆç¹ççš„ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ç”¨configå»ç®¡ç† ä¾‹å¦‚123456789101112# ~/.ssh/config æ–‡ä»¶ç¤ºä¾‹# Host å‚æ•°æ ‡æ˜ä»¥ä¸‹å†…å®¹ä»…é€‚ç”¨äºè®¿é—® 236 ä¸»æœºæ—¶é€‚ç”¨ï¼ŒHost å‚æ•°æœ¬èº«åªæ˜¯ä¸€ä¸ªå…¥å£å­—ç¬¦ä¸²ï¼›Host fuwuqi HostName 192.168.99.236 User git Port 22 IdentityFile ~/.ssh/rsa-michael-236Host github HostName 192.168.99.3 User root Port 22 IdentityFile ~/.ssh/rsa-3root-michael é…ç½®å®Œè¿™äº›ä»¥åï¼Œå°±å¯ä»¥ç”¨è¿™ä¸ªç™»å½•äº†123[root@host ~] ssh fuwuqiLast login: Thu Nov 8 09:40:00 2018 from 192.168.99.236Welcome to Alibaba Cloud Elastic Compute Service !","tags":[]},{"title":"centos7 å®‰è£…zshå’Œoh-my-zsh","date":"2018-11-06T08:53:06.000Z","path":"2018/11/06/centos7-å®‰è£…zshå’Œoh-my-zsh/","text":"ç›®å‰çš„centosç³»ç»Ÿé»˜è®¤çš„shellè¿˜æ˜¯bashï¼Œä½†æ˜¯zshè¢«ç§°ä¸ºç»ˆæshellï¼Œå›½å¤–æœ‰ä¸ªç¨‹åºå‘˜å¼€å‘å‡ºäº†ä¸€ä¸ªèƒ½å¤Ÿè®©ä½ å¿«é€Ÿä¸Šæ‰‹çš„zshé¡¹ç›®ï¼Œå«åšã€Œoh my zshã€ï¼ŒGithub ç½‘å€æ˜¯ï¼šhttps://github.com/robbyrussell/oh-my-zsh æœ‰äº†è¿™ç©æ„zshç”¨èµ·æ¥ç›´æ¥å°±å˜æˆç¥å™¨äº†ã€‚ æŸ¥çœ‹ç³»ç»Ÿå½“å‰çš„shell1echo $SHELL è¿”å›çš„ç»“æœæ˜¯:1/bin/bash æŸ¥çœ‹binä¸‹æ˜¯å¦æœ‰zshåŒ…12345678910cat /etc/shells**********************************************è¿”å›çš„ç»“æœæ˜¯:/bin/sh/bin/bash/sbin/nologin/usr/bin/sh/usr/bin/bash/usr/sbin/nologinPS.é»˜è®¤æ²¡æœ‰å®‰è£…zsh zshå®‰è£…1sudo yum install -y zsh ç„¶ååœ¨è¾“å…¥cat /etc/shellsæŸ¥çœ‹ 1234567/bin/sh/bin/bash/sbin/nologin/usr/bin/sh/usr/bin/bash/usr/sbin/nologin/bin/zsh é…ç½®å°†zshè®¾ç½®æˆé»˜è®¤çš„shell 1chsh -s /bin/zsh è®¾ç½®å®Œä»¥åä¸ä¼šç«‹å³ç”Ÿæ•ˆï¼Œéœ€è¦é‡å¯æ–¹èƒ½ç”Ÿæ•ˆï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é…ç½®å®Œoh-my-zshä»¥åå†é‡å¯ oh-my-zshå®‰è£…1wget https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - | sh å¦‚æœå‡ºç°ä»¥ä¸‹ç•Œé¢è¡¨ç¤ºæˆåŠŸ 12345678910111213__ __ ____ / /_ ____ ___ __ __ ____ _____/ /_ / __ \\/ __ \\ / __ `__ \\/ / / / /_ / / ___/ __ \\ / /_/ / / / / / / / / / / /_/ / / /_(__ ) / / / \\____/_/ /_/ /_/ /_/ /_/\\__, / /___/____/_/ /_/ /____/ ....is now installed!Please look over the ~/.zshrc file to select plugins, themes, and options.p.s. Follow us at https://twitter.com/ohmyzsh.p.p.s. Get stickers and t-shirts at http://shop.planetargon.com. é…ç½®ä¸»é¢˜ä¸»é¢˜é“¾æ¥åœ°å€ oh-my-zshä¸»é¢˜ ç›®å‰æˆ‘ä½¿ç”¨çš„ä¸»é¢˜æ˜¯bira ä¿®æ”¹ä¸»é¢˜ 1$ vim ~/.zshrc åˆšå®‰è£…oh-my-zshé»˜è®¤çš„ä¸»é¢˜æ˜¯robbyrussellï¼Œå°†ZSH_THEMEæ”¹æˆbira æ›´æ–°é…ç½® 1$ source ~/.zshrc ç„¶åé‡å¯, ä½¿zshé…ç½®ç”Ÿæ•ˆ 1$ reboot","tags":[]},{"title":"å¯¹Pythonè£…é¥°å™¨çš„ä¸€äº›ç†è§£","date":"2018-10-31T10:13:52.000Z","path":"2018/10/31/å¯¹Pythonè£…é¥°å™¨çš„ä¸€äº›ç†è§£/","text":"1.è£…é¥°å™¨çš„å®šä¹‰è£…é¥°å™¨æ˜¯å¯¹åœ¨è¿è¡ŒæœŸé—´å¯¹å‡½æ•°è¿›è¡Œä¸€äº›å¤–éƒ¨åŠŸèƒ½çš„æ‰©å±•ã€‚ä¹Ÿå°±æ˜¯åœ¨å…¶ä»–å‡½æ•°ä¸éœ€è¦åšä»»ä½•ä»£ç å˜åŠ¨çš„å‰æä¸‹å¢åŠ é¢å¤–åŠŸèƒ½ã€‚ 2.è£…é¥°å™¨çš„åº”ç”¨åœºæ™¯æ’å…¥æ—¥å¿—ã€æ€§èƒ½æµ‹è¯•ã€äº‹åŠ¡å¤„ç†ã€ç¼“å­˜ã€æƒé™æ ¡éªŒç­‰åœºæ™¯ ä¾‹å¦‚æˆ‘ä»¬åœ¨æ¥æ”¶è¯·æ±‚çš„æ—¶å€™å¤šä¼šçœ‹æ˜¯å¦åŒ…å«æŸä¸€ä¸ªå…ƒç´ ã€‚æ¯”å¦‚æŸ¥çœ‹æ˜¯å¦åŒ…å«æœ‰code,å¦‚æœæœ‰codeï¼Œå°±æ‰“å°é”™è¯¯å¹¶ä¸”ruturnè¿”å› 1234567891011121314151617def requestedCode(*params): def _wrapper(func): def wrappered(*args, **kwargs): print('%s is running' % func.__name__) for code in params: print('é”™è¯¯é”™è¯¯') return return func(*args, *kwargs) return wrappered return _wrapper @requestedCode('code')def hello_world(): print('i am world') print(hello_world()) 3.è£…é¥°å™¨ä½¿ç”¨ @functools.wraps çš„ç†ç”±Python ä¸­ä½¿ç”¨è£…é¥°å™¨å¯¹åœ¨è¿è¡ŒæœŸå¯¹å‡½æ•°è¿›è¡Œä¸€äº›å¤–éƒ¨åŠŸèƒ½çš„æ‰©å±•ã€‚ä½†æ˜¯åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œç”±äºè£…é¥°å™¨çš„åŠ å…¥å¯¼è‡´è§£é‡Šå™¨è®¤ä¸ºå‡½æ•°æœ¬èº«å‘ç”Ÿäº†æ”¹å˜ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹â€”â€”æ¯”å¦‚æµ‹è¯•æ—¶â€”â€”ä¼šå¯¼è‡´ä¸€äº›é—®é¢˜ã€‚Python é€šè¿‡ functool.wraps ä¸ºæˆ‘ä»¬è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼šåœ¨ç¼–å†™è£…é¥°å™¨æ—¶ï¼Œåœ¨å®ç°å‰åŠ å…¥ @functools.wraps(func) å¯ä»¥ä¿è¯è£…é¥°å™¨ä¸ä¼šå¯¹è¢«è£…é¥°å‡½æ•°é€ æˆå½±å“ã€‚æ¯”å¦‚ï¼Œåœ¨ Flask ä¸­ï¼Œæˆ‘ä»¬è¦è‡ªå·±é‡å†™ login_required è£…é¥°å™¨ï¼Œä½†ä¸æƒ³å½±å“è¢«è£…é¥°å™¨è£…é¥°çš„æ–¹æ³•ï¼Œåˆ™ login_required è£…é¥°å™¨æœ¬èº«å¯ä»¥å†™æˆä¸‹é¢çš„æ ·å­ï¼š 1234567891011def login_required_(func): @wraps(func) def decorated_view(*args, **kwargs): if current_app.login_manager._login_disabled: return func(*args, **kwargs) elif not current_user.is_authenticated: # return current_app.login_manager.unauthorized() return redirect(url_for(\"login.loginPage\", next=request.url)) return func(*args, **kwargs) return decorated_view å‚è€ƒå¦‚ä½•ç†è§£Pythonè£…é¥°å™¨ï¼ŸPython ä¸­å®ç°è£…é¥°å™¨æ—¶ä½¿ç”¨ @functools.wraps çš„ç†ç”±","tags":[]},{"title":"PythonåŸºç¡€å­¦ä¹ ----åˆ‡ç‰‡ã€è¿­ä»£ã€åˆ—è¡¨ç”Ÿæˆå¼","date":"2018-10-31T10:13:32.000Z","path":"2018/10/31/PythonåŸºç¡€å­¦ä¹ -åˆ‡ç‰‡ã€è¿­ä»£ã€åˆ—è¡¨ç”Ÿæˆå¼/","text":"åˆ‡ç‰‡é€šå¸¸æˆ‘ä»¬å–listé‡Œé¢çš„å…ƒç´ ä¼šè¿™æ ·å†™12345list = ['zhangsan','lisi','wangwu']list[0] list[1] list[2]å–nä¸ªçš„è¯ï¼šfor i in range(3): list[i] ä½†æ˜¯è¿™æ ·ç”¨å¾ªç¯å¾ˆéº»çƒ¦ï¼Œå¯ä»¥è¿™æ ·åš 12list[0:3] #è¿™æ ·å–çš„æ˜¯ä»0å¼€å§‹ï¼Œå¾€åæ•°3ä¸ªæ•°list[1:3] #è¿™æ ·å–çš„æ˜¯ä»1å¼€å§‹ï¼Œå¾€åæ•°2ä¸ªæ•° è¿­ä»£ å¦‚æœç»™å®šä¸€ä¸ªlistæˆ–tupleï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡forå¾ªç¯æ¥éå†è¿™ä¸ªlistæˆ–tupleï¼Œè¿™ç§éå†æˆ‘ä»¬ç§°ä¸ºè¿­ä»£ã€‚åœ¨Pythonä¸­ï¼Œè¿­ä»£æ˜¯é€šè¿‡for â€¦ inæ¥å®Œæˆçš„ åœ¨Pythonä¸æ˜¯éƒ½æ˜¯è¿­ä»£çš„ï¼Œæ‰€ä»¥æœ‰æ—¶å€™éœ€è¦åˆ¤æ–­æ˜¯å¦å¯ä»¥è¿­ä»£ 1234567&gt;&gt;&gt; from collections import Iterable&gt;&gt;&gt; isinstance('abc', Iterable) # stræ˜¯å¦å¯è¿­ä»£True&gt;&gt;&gt; isinstance([1,2,3], Iterable) # listæ˜¯å¦å¯è¿­ä»£True&gt;&gt;&gt; isinstance(123, Iterable) # æ•´æ•°æ˜¯å¦å¯è¿­ä»£False åˆ—è¡¨ç”Ÿæˆå¼åˆ—è¡¨ç”Ÿæˆå¼æ˜¯Pythonä¸­å†…ç½®çš„éå¸¸ç®€å•å´éå¸¸å¼ºå¤§çš„å¯ä»¥ç”¨æ¥åˆ›å»ºlistçš„ç”Ÿæˆå¼ã€‚ä¾‹å¦‚è¦ç”Ÿæˆlist [1,2,3,4,5,6,7,8,9],å¯ä»¥ç”¨list(range(1,10))ä½†å¦‚æœè¦ç”Ÿæˆ[1x1, 2x2, 3x3, â€¦, 10x10]æ€ä¹ˆåšï¼Ÿæ–¹æ³•ä¸€æ˜¯å¾ªç¯ï¼š 123456&gt;&gt;&gt; L = []&gt;&gt;&gt; for x in range(1, 11):... L.append(x * x)...&gt;&gt;&gt; L[1, 4, 9, 16, 25, 36, 49, 64, 81, 100] æ–¹æ³•äºŒï¼šåˆ—è¡¨ç”Ÿæˆå¼ 123[x * x for x in range(1,10)]å¾—å‡ºï¼š[1, 4, 9, 16, 25, 36, 49, 64, 81] åˆ—è¡¨ç”Ÿæˆå¼è¿˜æœ‰å…¶ä»–çš„ç”¨æ³•*åœ¨forå¾ªç¯åé¢åŠ ifåˆ¤æ–­è¯­å¥ä¾‹å¦‚ï¼šä»…å¶æ•°çš„å¹³æ–¹ 12[x * x for x in range(1,11) if x % 2 == 0 ][4, 16, 36, 64, 100] *ä½¿ç”¨ä¸¤å±‚å¾ªç¯,ç”Ÿæˆå…¨æ’åˆ— 12[m + n for m in 'ABC' for n in 'XYZ']['AX', 'AY', 'AZ', 'BX', 'BY', 'BZ', 'CX', 'CY', 'CZ'] ä¸¾ä¾‹åˆ¤æ–­æ˜¯å¦å¯ä»¥è¿­ä»£ï¼Œåœ¨ç”¨åˆ—è¡¨ç”Ÿæˆå¼ 12345L = ['Hello', 'World', 18, 'Apple', None][x for x in L if isinstance(x,str) == True]ç»“æœï¼š['Hello', 'World', 'Apple'] æ³¨ï¼šæ–‡ç« æ˜¯åœ¨å»–é›ªå³°å¤§å¤§çš„ç½‘ç«™å­¦ä¹ åå†™ä¸‹çš„å­¦ä¹ æ‘˜è¦ã€‚","tags":[]},{"title":"Flask ä¸Šä¸‹æ–‡å…¨å±€å˜é‡","date":"2018-10-31T10:13:21.000Z","path":"2018/10/31/Flask-ä¸Šä¸‹æ–‡å…¨å±€å˜é‡/","text":"å˜é‡å ä¸Šä¸‹æ–‡ è¯´æ˜ current_app ç¨‹åºä¸Šä¸‹æ–‡ å½“å‰æ¿€æ´»ç¨‹åºçš„ç¨‹åºå®ä¾‹ g ç¨‹åºä¸Šä¸‹æ–‡ å¤„ç†è¯·æ±‚æ—¶ç”¨ä½œä¸´æ—¶å­˜å‚¨çš„å¯¹è±¡ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½ä¼šé‡è®¾è¿™ä¸ªå˜é‡ request è¯·æ±‚ä¸Šä¸‹æ–‡ è¯·æ±‚å¯¹è±¡ï¼Œå°è£…äº†å®¢æˆ·ç«¯å‘å‡ºçš„HTTPè¯·æ±‚ä¸­çš„å†…å®¹ session è¯·æ±‚ä¸Šä¸‹æ–‡ ç”¨æˆ·ä¼šè¯ï¼Œç”¨äºå­˜å‚¨è¯·æ±‚ä¹‹é—´éœ€è¦è®°ä½çš„å€¼çš„è¯å…¸ Flask åœ¨åˆ†å‘è¯·æ±‚ä¹‹å‰æ¿€æ´»(æˆ–æ¨é€)ç¨‹åºå’Œè¯·æ±‚ä¸Šä¸‹æ–‡ï¼Œè¯·æ±‚å¤„ç†å®Œæˆåå†å°†å…¶åˆ é™¤ã€‚ç¨‹ åºä¸Šä¸‹æ–‡è¢«æ¨é€åï¼Œå°±å¯ä»¥åœ¨çº¿ç¨‹ä¸­ä½¿ç”¨ current_app å’Œ g å˜é‡ã€‚ç±»ä¼¼åœ°ï¼Œè¯·æ±‚ä¸Šä¸‹æ–‡è¢« æ¨é€åï¼Œå°±å¯ä»¥ä½¿ç”¨ request å’Œ session å˜é‡ã€‚å¦‚æœä½¿ç”¨è¿™äº›å˜é‡æ—¶æˆ‘ä»¬æ²¡æœ‰æ¿€æ´»ç¨‹åºä¸Š ä¸‹æ–‡æˆ–è¯·æ±‚ä¸Šä¸‹æ–‡ï¼Œå°±ä¼šå¯¼è‡´é”™è¯¯ã€‚","tags":[]},{"title":"flaskä¸‹ gunicornåœ¨Pythonä¸­çš„ä½¿ç”¨","date":"2018-10-31T10:13:09.000Z","path":"2018/10/31/flaskä¸‹-gunicornåœ¨Pythonä¸­çš„ä½¿ç”¨/","text":"gunicornä½¿ç”¨éå¸¸ç®€å•ï¼Œå¹¶ä¸”ä¹Ÿéå¸¸å¥½ç”¨ï¼Œæ‰€ä»¥éœ€è¦å†™ä¸€ä¸‹è‡ªå·±çš„ç†è§£ã€‚ğŸ˜€ ä½¿ç”¨gunicornçš„ä½¿ç”¨ï¼Œéœ€å…ˆå®‰è£…flask,å®‰è£…æ–¹æ³•å¦‚ä¸‹ï¼š 1pip install flask ä¸‹é¢ä¸ºä¸€ä¸ªç®€å•çš„ç”¨flaskå†™çš„webæœåŠ¡,main.py 12345678from flask import Flaskapp = Flask(__name__)@app.route('/')def index(): return 'hello world'if __name__ == '__main__': app.debug = True app.run() gunicornçš„ä½œç”¨å°±æ˜¯ç”¨å‘½ä»¤è¡Œæ¥å¯åŠ¨æœåŠ¡å™¨ã€‚å®‰è£…å¦‚ä¸‹ï¼š 1pip install gunicorn æœ€ç®€å•çš„å¯åŠ¨å‘½ä»¤ä¸ºï¼š1gunicorn main:app å…¶ä¸­codeå°±æ˜¯æŒ‡main.py.appå°±æ˜¯é‚£ä¸ªwsgifuncçš„åå­—ã€‚ è¿™æ ·è¿è¡Œçš„è¯ï¼Œ gunicorn é»˜è®¤ä½œä¸ºä¸€ä¸ªç›‘å¬ 127.0.0.1:8000 çš„web serverï¼Œå¯ä»¥åœ¨æœ¬æœºé€šè¿‡ï¼š http://127.0.0.1:8000 è®¿é—®ã€‚å¦‚æœè¦é€šè¿‡ç½‘ç»œè®¿é—®ï¼Œåˆ™éœ€è¦ç»‘å®šä¸åŒçš„åœ°å€ï¼ˆä¹Ÿå¯ä»¥åŒæ—¶è®¾ç½®ç›‘å¬ç«¯å£ï¼‰ï¼Œè®¾ç½®0.0.0.0å¯ä»¥ç›‘å¬åˆ°æ‰€æœ‰ipçš„è¯·æ±‚ï¼š1gunicorn -b 0.0.0.0:8080 main:app åœ¨å¤šæ ¸æœåŠ¡å™¨ä¸Šï¼Œä¸ºäº†æ”¯æŒæ›´å¤šçš„å¹¶å‘è®¿é—®å¹¶å……åˆ†åˆ©ç”¨èµ„æºï¼Œå¯ä»¥ä½¿ç”¨æ›´å¤šçš„ gunicorn è¿›ç¨‹ï¼š1gunicorn -w 4 main:app ä¸¤è€…ç»“åˆåˆ°ä¸€èµ·å°±æ˜¯ï¼š1gunicorn -w 4 -b 0.0.0.0:8080 main:app å¤‡æ³¨ï¼š -b è¡¨ç¤º gunicorn å¼€å‘çš„è®¿é—®åœ°å€ -w è¡¨ç¤ºå¼€å¯å¤šå°‘ä¸ªçº¿ç¨‹","tags":[]},{"title":"Pythonä¹‹randomçš„send()çš„ä½¿ç”¨","date":"2018-10-31T10:12:55.000Z","path":"2018/10/31/Pythonä¹‹randomçš„send-çš„ä½¿ç”¨/","text":"å¯¹äºsendæ–¹æ³•çš„å®šä¹‰ï¼Œåœ¨ä¸€ç¯‡æ–‡ç« ä¸­çœ‹åˆ°è¿™æ ·ä¸€ä¸ªå®šä¹‰ï¼Œå‘ç°å¾ˆç¬¦åˆè¿™ä¸ªè§£é‡Šseed( ) ç”¨äºæŒ‡å®šéšæœºæ•°ç”Ÿæˆæ—¶æ‰€ç”¨ç®—æ³•å¼€å§‹çš„æ•´æ•°å€¼ï¼Œå¦‚æœä½¿ç”¨ç›¸åŒçš„seed( )å€¼ï¼Œåˆ™æ¯æ¬¡ç”Ÿæˆçš„éšå³æ•°éƒ½ç›¸åŒï¼Œå¦‚æœä¸è®¾ç½®è¿™ä¸ªå€¼ï¼Œåˆ™ç³»ç»Ÿæ ¹æ®æ—¶é—´æ¥è‡ªå·±é€‰æ‹©è¿™ä¸ªå€¼ï¼Œæ­¤æ—¶æ¯æ¬¡ç”Ÿæˆçš„éšæœºæ•°å› æ—¶é—´å·®å¼‚è€Œä¸åŒ æƒ…å†µä¸‹é¢çš„å‡ è¡Œä»£ç  12345678910import randomrandom.seed(5)print (\"random 5 is \", random.random())random.seed(10)print (\"random 10 is \", random.random())random.seed(7)print (\"random 7 is \", random.random())random.seed(5)print(\"random 5 is \", random.random()) è¿è¡Œç»“æœä¸º: 1234random 5 is 0.6229016948897019random 10 is 0.5714025946899135random 7 is 0.32383276483316237random 5 is 0.6229016948897019 ä½ ä¼šå‘ç°å½“seed()å€¼æ˜¯ä¸€æ ·çš„æ—¶å€™ï¼Œè¾“å‡ºçš„ç»“æœæ˜¯ä¸€æ ·çš„ã€‚è€Œä¸ä¸€æ ·çš„å€¼å¾—å‡ºçš„ç»“æœä¸ä¸€æ ·ã€‚","tags":[]},{"title":"pythonä¹‹randomçš„randomçš„ä½¿ç”¨","date":"2018-10-31T10:12:33.000Z","path":"2018/10/31/pythonä¹‹randomçš„randomçš„ä½¿ç”¨/","text":"random.random()ç”Ÿæˆ0å’Œ1ä¹‹é—´çš„éšæœºæµ®ç‚¹æ•°floatä¾‹å¦‚ï¼š 1print (\"random 7 is \", random.random()) è¿è¡Œç»“æœä¸ºï¼š1random 7 is 0.32383276483316237","tags":[]},{"title":"åˆ©ç”¨tablibã€make_response è¿›è¡Œæ–‡ä»¶çš„ä¸‹è½½","date":"2018-10-31T10:12:23.000Z","path":"2018/10/31/åˆ©ç”¨tablibã€make-response-è¿›è¡Œæ–‡ä»¶çš„ä¸‹è½½/","text":"tablib ä¸»è¦ä½œç”¨æ˜¯å°†æ•°æ®å¯¼å‡ºä¸ºå„ç§ä¸åŒçš„æ ¼å¼ï¼ŒåŒ…æ‹¬excelï¼Œjsonï¼Œhtmlï¼Œyamlï¼Œcsvï¼Œtsvç­‰æ ¼å¼ã€‚ä½¿ç”¨èµ·æ¥ä¹Ÿéå¸¸ç®€å•ã€‚ tablibçš„ä¸‹è½½1pip install tablib ä¸‹é¢å°±æ˜¯æ–‡ä»¶ä¸‹è½½çš„ä»£ç 123456789101112131415161718192021222324252627282930import tablibfrom flask import make_responsedef file_download(): dataset1 = tablib.Dataset() header1 = ('ID', 'Name', 'Tel', 'Age') dataset1.headers = header1 dataset1.append([1, 'zhangsands', 13711111111, 16]) dataset1.append([2, 'lisiasfasdé˜¿æ–¯é¡¿å‘gwus', 13911111111, 20]) dataset1.append([4, 'zhaoå‘é€åˆ°li2u', 15811111111, 25]) header2 = ('ID', 'Name', 'Tel', 'Age') data2 = [ [1, 'zhangsan', 13711111111, 16], [2, 'lisi', 13811111111, 18], [3, 'wangwu', 13911111111, 20], [4, 'zhaoliu', 15811111111, 25] ] dataset2 = tablib.Dataset(*data2, headers=header2) dataset1.title = 'dataset1' # è®¾ç½®Excelä¸­è¡¨å•çš„åç§° dataset2.title = 'dataset2' # å¦‚æœæœ‰å¤šä¸ªsheetè¡¨å•ï¼Œä½¿ç”¨DataBookå°±å¯ä»¥äº† myDataBook = tablib.Databook((dataset1, dataset2)) ds = myDataBook.export('xlsx') response = make_response(ds) response.headers['Content-Disposition'] = 'attachment; filename=&#123;&#125;'.format('dhel.xlsx') return response å¼•ç”¨ï¼šPython tablibæ¨¡å—tablibæ–‡æ¡£","tags":[]},{"title":"pip å‡çº§æ‰€é‡åˆ°çš„é—®é¢˜","date":"2018-10-31T10:12:11.000Z","path":"2018/10/31/pip-å‡çº§æ‰€é‡åˆ°çš„é—®é¢˜/","text":"pipçš„åŸæœ‰ç‰ˆæœ¬æ˜¯9.0.1ï¼Œæœ€è¿‘å‘ç°pipå¯ä»¥å‡çº§äº†ï¼Œæƒ³åˆ°pipå‡çº§åˆ°10ä»¥ä¸Šç”¨äº†ä¸‹é¢å„ç§æ–¹æ³•ï¼Œéƒ½ä¸ç®¡ç”¨,å¦‚ä¸‹ï¼šç”¨äº†mac/limuxæ–¹æ³• :123 pip install -U pip easy_install --upgrade pippip install --upgrade pip ç”¨äº†windows æ–¹æ³•ï¼š12python -m pip install --upgrade pippython -m pip install -U pip æœ€åä»æºå¤´åšèµ·ï¼Œé‡Œé¢æå®š1curl https://bootstrap.pypa.io/get-pip.py | python3","tags":[]},{"title":"pipå®‰è£…æ—¶ReadTimeoutErrorè§£å†³åŠæ³•","date":"2018-10-31T10:12:00.000Z","path":"2018/10/31/pipå®‰è£…æ—¶ReadTimeoutErrorè§£å†³åŠæ³•/","text":"æœ‰ä¸€ä¸ªæœ¬åœ°æœåŠ¡å™¨ï¼Œç½‘é€Ÿå¾ˆæ…¢ï¼Œä¸‹è½½è€æ˜¯å‡ºé”™ï¼Œå‡ºç°12pip._vendor.urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host='files.pythonhosted.org', port=443): Read timed out. ç»è¿‡googleï¼Œå‘ç°ç”¨ä¸‹é¢çš„å†…å®¹å°±å¯ä»¥å®Œç¾è§£å†³1pip --default-timeout=100 install gevent","tags":[]},{"title":"å®‰è£…PyCryptoä»¥åå‡ºç°çš„é”™è¯¯","date":"2018-10-31T10:11:50.000Z","path":"2018/10/31/å®‰è£…PyCryptoä»¥åå‡ºç°çš„é”™è¯¯/","text":"æœ€è¿‘å¦ä¸€ä¸ªåŒäº‹å®‰è£…äº†PyCryptoï¼Œå¹¶ä¸”åœ¨æœ¬åœ°å’ŒæœåŠ¡å™¨è¿è¡Œéƒ½æ²¡æœ‰é”™è¯¯ã€‚å½“æˆ‘downloadä¸‹æ¥çš„æ—¶å€™ï¼Œå®‰è£…PyCryptoï¼Œè¿è¡Œç«Ÿç„¶å‡ºç°äº†é”™è¯¯ã€‚å¦‚ä¸‹ï¼š123456789101112131415homeassistant | 16-07-01 18:35:24 ERROR (MainThread) [homeassistant.bootstrap] Error during setup of component winkhomeassistant | Traceback (most recent call last):homeassistant | File \"/usr/src/app/homeassistant/bootstrap.py\", line 150, in _setup_componenthomeassistant | if not component.setup(hass, config):homeassistant | File \"/usr/src/app/homeassistant/components/wink.py\", line 29, in setuphomeassistant | from pubnub import Pubnubhomeassistant | File \"/usr/local/lib/python3.4/site-packages/pubnub.py\", line 25, in &lt;module&gt;homeassistant | from Crypto.Cipher import AEShomeassistant | File \"/usr/local/lib/python3.4/site-packages/Crypto/Cipher/__init__.py\", line 78, in &lt;module&gt;homeassistant | from Crypto.Cipher._mode_ecb import _create_ecb_cipherhomeassistant | File \"/usr/local/lib/python3.4/site-packages/Crypto/Cipher/_mode_ecb.py\", line 29, in &lt;module&gt;homeassistant | from Crypto.Util._raw_api import (load_pycryptodome_raw_lib,homeassistant | File \"/usr/local/lib/python3.4/site-packages/Crypto/Util/_raw_api.py\", line 33, in &lt;module&gt;homeassistant | from Crypto.Util.py3compat import byte_stringhomeassistant | ImportError: cannot import name 'byte_string' è§£å†³åŠæ³•æ˜¯123pip3 uninstall pycryptopip3 uninstall pycryptodomepip3 install pycryptodome è¿™æ—¶å€™å°±å¯ä»¥æ­£å¸¸è¿è¡Œäº†","tags":[]},{"title":"ä½¿ç”¨tablibå‡ºç°çš„é”™è¯¯","date":"2018-10-31T10:11:39.000Z","path":"2018/10/31/ä½¿ç”¨tablibå‡ºç°çš„é”™è¯¯/","text":"æœ€è¿‘å…¬å¸è¦å‘é‚®ä»¶ï¼ŒåŸºäºtablibçš„å¼ºå¤§åŠŸèƒ½ï¼Œæˆ‘ç†æ‰€å½“ç„¶çš„ä½¿ç”¨äº†å®ƒã€‚ä½†æ˜¯åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­å‘ç°ä¸€ä¸ªbugï¼Œå…·ä½“bugæŠ¥è¿™ä¸ªé”™è¯¯1Using a coordinate with ws.cell is deprecated. Use ws[coordinate] instead\" åˆšå¼€å§‹æ˜¯æŠ¥è­¦å‘Šï¼Œåé¢å› ä¸ºæ¢ç”µè„‘ç›´æ¥æ›´æ–°requerement.txtï¼Œç„¶åå‘é‚®ä»¶å°±ç›´æ¥æŠ¥é”™123DeprecationWarning: Call to deprecated function remove_sheet (Use wb.remove(worksheet) or del wb[sheetname]). wb.remove_sheet(sheet) åæ¥ç»è¿‡æŸ¥èµ„æ–™å‘ç°æ˜¯å› ä¸ºtablibé‡Œé¢ä½¿ç”¨openpyxlçš„é—®é¢˜ã€‚openpyxlçš„ç‰ˆæœ¬è¿‡é«˜ï¼Œå¯¼è‡´çš„é—®é¢˜ï¼ŒæŠŠopenpyxlçš„ç‰ˆæœ¬æ”¹ä¸‹å°±OKäº†ã€‚12åŸæ¥çš„openpyxlç‰ˆæœ¬æ˜¯2.5.4.å°†å…¶é™åˆ°2.5.0ä»¥ä¸‹å°±æ²¡é—®é¢˜äº†ã€‚pip install openpyxl==2.4.9","tags":[]},{"title":"flask-excel ä¸‹è½½çš„æ—¶å€™å‡ºç°OSErroré”™è¯¯","date":"2018-10-31T10:11:27.000Z","path":"2018/10/31/flask-excel-ä¸‹è½½çš„æ—¶å€™å‡ºç°OSErroré”™è¯¯/","text":"æœ€è¿‘åœ¨ä½¿ç”¨flask-excelæŠ¥OSError: No content, file name. Nothing is givené”™è¯¯1return excel.make_response_from_records(items, \"xlsx\", file_name=\"all_content\") ç»è¿‡æŸ¥è€ƒæ˜¯å› ä¸ºéœ€è¦æ·»åŠ æ”¯æŒxlsxçš„æ§ä»¶1pip install pyexcel-xlsx è¿™æ—¶å€™å°±ä¼šå®Œç¾è§£å†³","tags":[]},{"title":"iOSå¼€å‘æ‚è®°","date":"2018-10-31T10:10:26.000Z","path":"2018/10/31/iOSå¼€å‘æ‚è®°/","text":"å› ä¸ºè®°æ€§ä¸å¥½ï¼Œå¸¸å¸¸çœ‹åˆ°ç‚¹ä¸œè¥¿ï¼Œéƒ½æ„Ÿè§‰å¾ˆå¥½ï¼Œä½†æ˜¯ç»å¸¸æ—¶é—´ä¸€é•¿éƒ½å¿˜äº†ï¼Œæ‰€ä»¥ç°åœ¨äº›æ‚è®°ï¼Œè®°ä½è¿™äº›ã€‚æ…¢æ…¢è¡¥å……ã€‚ 1.iOSå±å¹•æ—‹è½¬iOSå±å¹•æ—‹è½¬å¯ä»¥ç”¨ç³»ç»Ÿé€šçŸ¥åˆ¤æ–­æ–¹å‘UIDeviceOrientationDidChangeNotification; æ˜¯åœ¨å±å¹•æ—‹è½¬è¿‡ä»¥åUIApplicationWillChangeStatusBarOrientationNotification;å±å¹•æ²¡æœ‰æ—‹è½¬è¿‡çš„æ—¶å€™è°ƒç”¨ï¼Œå¯ä»¥ç”¨ç³»ç»Ÿé€šçŸ¥ 12[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(autorotateDirection)name:UIDeviceOrientationDidChangeNotification object:nil]; 2.tableViewå¤´éƒ¨åç¦»é—®é¢˜æœ€è¿‘åœ¨ç”¨tableViewçš„æ—¶å€™ï¼Œå‡ºç°è‡ªåŠ¨åç§»äº†64PXï¼Œç»è¿‡æŸ¥èµ„æ–™ï¼Œå‘ç°éœ€è¦è®¾ç½®ä¸‹ 12345if([selfrespondsToSelector:@selector(edgesForExtendedLayout)])&#123; self.edgesForExtendedLayout= UIRectEdgeNone;&#125;[self.navigationController.navigationBar setTranslucent:YES]","tags":[]},{"title":"å…³äºcocoapodsç®¡ç†åº“é‡åˆ°çš„å‘","date":"2018-10-31T10:10:15.000Z","path":"2018/10/31/å…³äºcocoapodsç®¡ç†åº“é‡åˆ°çš„å‘/","text":"ä»Šå¤©èŠ±äº†ä¸€ç‚¹æ—¶é—´æ¥åšcocoapodsç®¡ç†è‡ªå·±å†™çš„åº“é—®é¢˜ã€‚å‘ç°é‡åˆ°å¥½å¤šå‘ã€‚ è®°å¾—è¿™æ ·æ”¾ è®°å¾—å½“ä½ pod lib lint XXKH.podspecæˆåŠŸçš„æ—¶å€™ï¼Œè®°å¾—ç»™åº“åŠ å…¥tagå€¼123git tag '1.0.0'git push --tagspod spec lint ç„¶åæ˜¯æ£€æŸ¥ä¸‹ï¼Œæœ€åæäº¤ç»™podï¼Œå…·ä½“ä¸ºpod trunk push XXKH.podspec","tags":[]},{"title":"git Authentication failed é”™è¯¯","date":"2018-10-31T10:08:47.000Z","path":"2018/10/31/git-Authentication-failed-é”™è¯¯/","text":"æœ€è¿‘åœ¨windowsä¸Šé¢å®‰è£…gitçš„ä»¥åï¼ŒgitæŸä¸€ä¸ªé¡¹ç›®ï¼Œå‡ºç°è¾“å…¥è´¦å·å¯†ç çš„ç•Œé¢ï¼Œè¿™æ—¶å€™åº”å½“è¾“å…¥ä½ çš„ç”¨æˆ·åå’Œå¯†ç ã€‚ç”¨æˆ·åæ˜¯ä½ çš„ç™»å½•è´¦å·ï¼Œå¯†ç æ˜¯ä½ çš„å¯†ç ã€‚è¿™æ—¶å€™å¦‚æœè¾“å…¥é”™è¯¯ã€‚é‚£ä¹ˆä½ å°±git clone gitâ€¦ ä¼šå‡ºç°Authentication failedé”™è¯¯ã€‚è¿™æ—¶å€™ä½ æ— è®ºä¿®æ”¹ 12git config --global user.name 'name'git config --global user.email 'email' ä¼šå‘ç°è¿˜æ˜¯æŠ¥è¿™ä¸ªé”™è¯¯ã€‚ç„¶åæˆ‘æŠŠgitåˆ é™¤äº†ï¼Œé‡è£…ä¹Ÿè¿˜æ˜¯ä¸æˆã€‚åæ¥ç»å¤§ç¥æŒ‡ç‚¹ï¼Œå‘ç°ä¸€ä¸ªéå¸¸ç®€å•çš„è§£å†³æ–¹æ³•ã€‚ 123456 (ä¸€)è¿›å…¥æ§åˆ¶é¢æ¿ï¼ˆäºŒï¼‰é€‰æ‹©ç”¨æˆ·è´¦æˆ·ï¼ˆä¸‰ï¼‰é€‰æ‹©ç®¡ç†ä½ çš„å‡­æ®ï¼ˆå››ï¼‰é€‰æ‹©Windowså‡­æ®ï¼ˆäº”ï¼‰é€‰æ‹©gitä¿å­˜çš„ç”¨æˆ·ä¿¡æ¯ï¼ˆå…­ï¼‰é€‰æ‹©ç¼–è¾‘æˆ–è€…è¿›è¡Œåˆ é™¤æ“ä½œ è¿™æ—¶å€™ä½ åœ¨git clone gitâ€¦ï¼Œä½ å°±ä¼šå‘ç°æˆåŠŸäº†ã€‚ 123git add .git commit -m 'good'git push origin master","tags":[]},{"title":"Git tagå€¼çš„ä½¿ç”¨","date":"2018-10-31T10:07:55.000Z","path":"2018/10/31/Git-tagå€¼çš„ä½¿ç”¨/","text":"é¡¹ç›®ä¸­å› ä¸ºä¸šåŠ¡çš„éœ€è¦ï¼Œéœ€è¦æ‰“æ ‡ç­¾ã€‚æ‰€ä»¥è¿™é‡Œå°±æŠŠå¸¸ç”¨çš„å‡ ä¸ªå‘½ä»¤å†™ä¸‹æ¥ï¼Œæ–¹ä¾¿ä»¥åè‡ªå·±åœ¨æ‰“tagçš„æ—¶å€™å¯ä»¥ç›´æ¥ç”¨åˆ°ã€‚ æŸ¥çœ‹æ ‡ç­¾12git tag #è¿™ä¼šçœ‹åˆ°é¡¹ç›®ä¸‹åŒ…å«çš„æ ‡ç­¾git show v1.1.0 #æŸ¥çœ‹è¯¥æ ‡ç­¾ä¸‹çš„ç‰ˆæœ¬ä¿¡æ¯ æ‰“æ ‡ç­¾æ‰“æ ‡ç­¾æœ‰ä¸¤ç§ï¼Œè½»é‡æ ‡ç­¾å’Œé™„æ³¨æ ‡ç­¾,è½»é‡æ ‡ç­¾æ˜¯æŒ‡å‘æäº¤å¯¹è±¡çš„å¼•ç”¨ï¼Œé™„æ³¨æ ‡ç­¾åˆ™æ˜¯ä»“åº“ä¸­çš„ä¸€ä¸ªç‹¬ç«‹å¯¹è±¡. 12git tag v1.1.0 #åˆ›å»ºè½»é‡æ ‡ç­¾git tag -a v1.1.0 -m \"1.1.0ç‰ˆæœ¬\" #åˆ›å»ºé™„æ³¨æ ‡ç­¾ åˆ›å»ºé™„æ³¨Tagæ—¶ï¼Œå‚æ•°aå³annotatedçš„ç¼©å†™ï¼ŒæŒ‡å®šTagç±»å‹ï¼Œåé™„Tagåã€‚å‚æ•°mæŒ‡å®šTagè¯´æ˜ï¼Œè¯´æ˜ä¿¡æ¯ä¼šä¿å­˜åœ¨Tagå¯¹è±¡ä¸­ã€‚ åˆ‡æ¢æ ‡ç­¾1git checkout v1.1.0 åˆ é™¤æ ‡ç­¾åˆ é™¤æœ¬åœ°æ ‡ç­¾1git tag -d v1.1.0 #åˆ é™¤tag åˆ é™¤è¿œç¨‹æ ‡ç­¾ 123git push origin :refs/tags/æ ‡ç­¾å git push origin :refs/tags/protobuf-2.5.0rc1 tagæ¨é€åˆ°é¡¹ç›®ç®¡ç†ä»“åº“æ³¨æ„ï¼šæ‰“tagçš„æ—¶å€™å…ˆæŠŠä»£ç æäº¤åˆ°é¡¹ç›®ç®¡ç†ä»“åº“ï¼Œç„¶ååœ¨æäº¤tag,æ‰€ä»¥åœ¨æäº¤tagå€¼çš„æ—¶å€™å¯ä»¥å…ˆgit push origin master 12git push origin v1.1.0 #å°†v1.1.0 Tagæäº¤åˆ°gitæœåŠ¡å™¨git push origin â€“-tags # å°†æœ¬åœ°æ‰€æœ‰Tagä¸€æ¬¡æ€§æäº¤åˆ°gitæœåŠ¡å™¨","tags":[]},{"title":"gitçš„åˆå§‹ç”¨","date":"2018-10-31T10:07:44.000Z","path":"2018/10/31/gitçš„åˆå§‹ç”¨/","text":"gité…ç½®å…¨å±€çš„ç”¨æˆ·åå’Œé‚®ç®± 12git config --global user.name xxkhgit config --global user.email xxx@gmail.com æŸ¥çœ‹ç”¨æˆ·åå’Œé‚®ç®±12git config user.namegit config user.email è®°ä½å¯†ç åœ¨æœåŠ¡å™¨ä¸Š clone ä»£ç ç¬¬ä¸€æ¬¡é€šå¸¸ä¼šæç¤ºè¾“å…¥å¯†ç ï¼Œä¸ºäº†ä¸‹æ¬¡ä¸å†æç¤ºï¼Œå¯ä»¥åœ¨ clone ååšå¦‚ä¸‹æ“ä½œ1git config credential.helper store åˆå§‹åŒ–é¡¹ç›®12345678cd project_root # è¿›å…¥é¡¹ç›®ç›®å½•git init # åˆå§‹åŒ–gitä»“åº“git add . # æ·»åŠ æ–‡ä»¶åˆ°ä»“åº“git commit -m 'init commit' # æäº¤ä»£ç åˆ°æœ¬åœ°ä»“åº“git remote add origin $&#123;repository_path&#125; # å°†é¡¹ç›®å…³è”åˆ°git servergit pull origin master # åŒæ­¥ä»£ç git push origin master # pushä»£ç åˆ°è¿œç¨‹ä»“åº“git clone $&#123;repository_path&#125; # æ–°çš„ä½ç½®cloneé¡¹ç›® é‡æ–°æäº¤æäº¤åå¦‚æœå‘ç°é—æ¼å¯ä»¥ä½¿ç”¨ git commit â€“amend é‡æ–°æäº¤123git commit -m 'initial commit'git add forgotten_filegit commit --amend æ’¤é”€æäº¤æ–‡ä»¶12345678git checkout -- &lt;file&gt; # å–æ¶ˆå¯¹æ–‡ä»¶çš„ä¿®æ”¹ã€‚è¿˜åŸåˆ°æœ€è¿‘çš„ç‰ˆæœ¬ï¼ŒåºŸå¼ƒæœ¬åœ°åšçš„ä¿®æ”¹ã€‚git reset HEAD &lt;file&gt;... # å–æ¶ˆå·²ç»æš‚å­˜çš„æ–‡ä»¶ã€‚å³ï¼Œæ’¤é”€å…ˆå‰\"git add\"çš„æ“ä½œgit reset HEAD^ # å›é€€æ‰€æœ‰å†…å®¹åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬git reset HEAD^ a.py # å›é€€a.pyè¿™ä¸ªæ–‡ä»¶çš„ç‰ˆæœ¬åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬git reset â€“soft HEAD~3 # å‘å‰å›é€€åˆ°ç¬¬3ä¸ªç‰ˆæœ¬git reset â€“hard origin/master # å°†æœ¬åœ°çš„çŠ¶æ€å›é€€åˆ°å’Œè¿œç¨‹çš„ä¸€æ ·git reset 057d # å›é€€åˆ°æŸä¸ªç‰ˆæœ¬git revert HEAD # å›é€€åˆ°ä¸Šä¸€æ¬¡æäº¤çš„çŠ¶æ€ï¼ŒæŒ‰ç…§æŸä¸€æ¬¡çš„commitå®Œå…¨åå‘çš„è¿›è¡Œä¸€æ¬¡commit.(ä»£ç å›æ»šåˆ°ä¸Šä¸ªç‰ˆæœ¬ï¼Œå¹¶æäº¤git)","tags":[]},{"title":"input radio attråŠ¨æ€èµ‹å€¼é—®é¢˜","date":"2018-10-31T10:04:46.000Z","path":"2018/10/31/input-radio-attråŠ¨æ€èµ‹å€¼é—®é¢˜/","text":"ç¨‹åºç¯å¢ƒï¼šeasyui+jQueryä»£ç  12&lt;label &gt;&lt;input name=\"Fruit\" type=\"radio\" value=\"è‹¹æœ\" /&gt;è‹¹æœ &lt;/label&gt;&lt;label &gt;&lt;input name=\"Fruit\" type=\"radio\" value=\"è¥¿ç“œ\" /&gt;è¥¿ç“œ &lt;/label&gt; æœ€è¿‘å‘ç°ç”¨$(&quot;input[name=&#39;Fruit&#39;][value=&#39;è¥¿ç“œ&#39;]&quot;).attr(&quot;checked&quot;,true);åŠ¨æ€èµ‹å€¼æ²¡æœ‰èµ‹å€¼æˆåŠŸã€‚åŸæ¥ä»¥ä¸ºæ˜¯easyuiçš„é—®é¢˜ï¼Œåæ¥æŸ¥è€ƒæ–‡æ¡£æ‰å‘ç°jQueryä¸­ä½¿ç”¨propå¯ä»¥å®Œç¾è§£å†³è¿™ä¸ªé—®é¢˜ã€‚$(&quot;input[name=&#39;Fruit&#39;][value=&#39;è¥¿ç“œ&#39;]&quot;).prop(&quot;checked&quot;,true); é‚£ä¹ˆï¼Œä»€ä¹ˆæ—¶å€™ä½¿ç”¨attrï¼Œä»€ä¹ˆæ—¶å€™ä½¿ç”¨propï¼Ÿ1.æ·»åŠ å±æ€§åç§°è¯¥å±æ€§å°±ä¼šç”Ÿæ•ˆåº”è¯¥ä½¿ç”¨prop.2.æ˜¯æœ‰true,falseä¸¤ä¸ªå±æ€§ä½¿ç”¨prop.3.å…¶ä»–åˆ™ä½¿ç”¨attr","tags":[]},{"title":"jQueryå®ç°è·å–å¹´æœˆæ—¥çš„ä¸€äº›æ–¹æ³•æ€»ç»“","date":"2018-10-31T10:04:23.000Z","path":"2018/10/31/jQueryå®ç°è·å–å¹´æœˆæ—¥çš„ä¸€äº›æ–¹æ³•æ€»ç»“/","text":"ç”¨jqæ¥è·å–å½“å‰çš„æ—¶é—´ï¼š123456789$(function()&#123; var myDate = new Date; var year = myDate.getFullYear();//è·å–å½“å‰å¹´ var yue = myDate.getMonth()+1;//è·å–å½“å‰æœˆ var date = myDate.getDate();//è·å–å½“å‰æ—¥ var h = myDate.getHours();//è·å–å½“å‰å°æ—¶æ•°(0-23) var m = myDate.getMinutes();//è·å–å½“å‰åˆ†é’Ÿæ•°(0-59) var s = myDate.getSeconds();//è·å–å½“å‰ç§’&#125;)","tags":[]},{"title":"tableå®½åº¦é—®é¢˜","date":"2018-10-31T10:04:11.000Z","path":"2018/10/31/tableå®½åº¦é—®é¢˜/","text":"æœ€è¿‘åœ¨åštableåˆ—è¡¨çš„æ—¶å€™ï¼Œå‡ºç°å¦‚æœæ•°æ®è¿‡å¤šï¼Œå¯¼è‡´åˆ—è¡¨çš„å®½åº¦è¶Šæ¥è¶Šå®½ï¼Œåæ¥åœ¨ç½‘ä¸Šæ‰¾äº†å¾ˆå¤šæ–¹æ³•ï¼Œé€šè¿‡åœ¨tdé‡Œé¢æ·»åŠ div,é€šè¿‡è®¾ç½®divçš„å®½åº¦æ¥è§£å†³ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š1234567891011&lt;table border=\"1\" height=\"100\" width=\"500\" bordercolor=\"#ccc\" id=\"startId\" &gt; &lt;thead&gt; &lt;tr&gt; &lt;th&gt;topicId&lt;/th&gt; &lt;th&gt;åˆ›å»ºæ—¶é—´(åŒ—äº¬)&lt;/th&gt; &lt;th&gt;æµ‹è¯•ç±»å‹&lt;/th&gt; &lt;th&gt;æµ‹è¯•ä¿¡æ¯&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody id=\"tbMain\"&gt;&lt;/tbody&gt;&lt;/table&gt; åœ¨è¯·æ±‚æ•°æ®çš„æ—¶å€™ï¼Œåœ¨tdé‡Œé¢æ·»åŠ div,è®¾ç½®divçš„å®½åº¦123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051function resultData1(data) &#123; var tbody = document.getElementById('resultMain'); for(var i = 0;i &lt; data.length; i++)&#123; //éå†ä¸€ä¸‹jsonæ•°æ® var trow = getresultRow(data[i]); //å®šä¹‰ä¸€ä¸ªæ–¹æ³•,è¿”å›træ•°æ® tbody.appendChild(trow); &#125; &#125; function getresultRow(h) &#123; console.log(h); var row = document.createElement('tr'); //åˆ›å»ºè¡Œ var idCell = document.createElement('td'); //åˆ›å»ºç¬¬ä¸€åˆ—id idCell.innerHTML = h.debug_info.topic_id; //å¡«å……æ•°æ® row.appendChild(idCell); //åŠ å…¥è¡Œ ï¼Œä¸‹é¢ç±»ä¼¼ var ddd = \"\" if (\"create_ts\" in h.debug_info)&#123; var ddd = formatTS2YYYYMMDDHHMMSS(h.create_ts.toString()); &#125; var nameCell = document.createElement('td');//åˆ›å»ºç¬¬äºŒåˆ—name nameCell.innerHTML = ddd; row.appendChild(nameCell); jobCell = document.createElement('td');//åˆ›å»ºç¬¬ä¸‰åˆ— jobCell.innerHTML = h.debug_info.type; row.appendChild(jobCell); jobCell = document.createElement('td');//åˆ›å»ºç¬¬å››åˆ— var mesDiv = document.createElement('div'); mesDiv.className = 'mes_div'; #è¿™é‡Œæ·»åŠ divï¼Œå¹¶ä¸”è®¾ç½®divçš„class mesDiv.innerHTML = h.debug_info.message; jobCell.appendChild(mesDiv); row.appendChild(jobCell); jobCell = document.createElement('td');//åˆ›å»ºç¬¬äº”åˆ— var div = document.createElement('div'); div.innerHTML = h.debug_info.result; jobCell.appendChild(div); row.appendChild(jobCell); return row; //è¿”å›træ•°æ® &#125;&lt;style&gt; .mes_div&#123; width: 100px; &#125;&lt;/style&gt;","tags":[]},{"title":"easyuiå¼¹çª—çª—å£æ— æ³•ç§»åŠ¨","date":"2018-10-31T10:03:56.000Z","path":"2018/10/31/easyuiå¼¹çª—çª—å£æ— æ³•ç§»åŠ¨/","text":"æœ€è¿‘åœ¨ä½¿ç”¨easyui å¼¹å‡ºçª—å£çš„æ—¶å€™ï¼Œå‘ç°çª—å£æ— æ³•æ‹–åŠ¨ã€‚å…·ä½“ä»£ç å¦‚ä¸‹123456function openLookUp(url, title) &#123; lookUpWin.dialogFrameHtml(url); if(title) &#123; lookUpWin.panel(&#123;title: title&#125;); &#125;&#125; åæ¥ç»è¿‡å¯¹æ¯”æ˜¯å› ä¸ºä¿®æ”¹titleå¼•èµ·çš„ï¼Œè¿™ä¸ªeasyui è¿˜æ²¡æœ‰è§£å†³è¿™ä¸ªbugã€‚çŸ¥é“æ˜¯å“ªå‡ºç°é—®é¢˜ï¼Œåé¢å°±å¥½åŠäº†ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š1234function openLookUp(url, title) &#123; lookUpWin.dialogFrameHtml(url); $('.panel-title')[0].innerHTML=title;&#125;","tags":[]},{"title":"fetchçš„ä½¿ç”¨","date":"2018-10-31T10:03:35.000Z","path":"2018/10/31/fetchçš„ä½¿ç”¨/","text":"æœ€è¿‘çš„å·¥ä½œè¿‡ç¨‹ä¸­ï¼Œåœ¨åšjsè°ƒå–æ¥å£çš„æ—¶å€™ï¼Œä½¿ç”¨äº†fetchï¼ŒåŸæ¥æ˜¯åªçŸ¥é“fetchï¼Œä½†æ˜¯æ²¡æœ‰æ€ä¹ˆä½¿ç”¨è¿‡ã€‚æ­£å¥½æœ€è¿‘ä½¿ç”¨åˆ°ï¼Œæ‰€ä»¥å¯¹å…¶è¯¦ç»†äº†è§£äº†ä¸‹ã€‚ fetchçš„åŸºæœ¬æ–¹å¼123456789101112131415fetch(url,&#123; method:'GET', # 'POST','PUT','DELETE' headers:&#123; 'Content-Type':'application/json', //'application/x-www-form-urlencoded' 'Accept':'application/json' &#125;, body:JSON.stringfiy(body)&#125;).then((res)=&gt;&#123; return res.json() //è¿”å›ä¸€ä¸ªPromise,è§£ææˆJSON,å…·ä½“è¯·çœ‹ä¸‹é¢è¿”å›çš„æ•°æ®&#125;).then(function(res)&#123; console.log(res) //è·å–jsonæ•°æ®&#125;).catch(function(error)&#123; console.log(error) //è¯·æ±‚é”™è¯¯æ—¶è¿”å›&#125;) è¿”å›çš„æ•°æ®1234567891011121314res.arrayBuffer()è¯»å– reså¯¹è±¡å¹¶ä¸”å°†å®ƒè®¾ç½®ä¸ºå·²è¯»ï¼ˆå› ä¸ºResponseså¯¹è±¡è¢«è®¾ç½®ä¸ºäº† stream çš„æ–¹å¼ï¼Œæ‰€ä»¥å®ƒä»¬åªèƒ½è¢«è¯»å–ä¸€æ¬¡ï¼‰ ,å¹¶è¿”å›ä¸€ä¸ªè¢«è§£æä¸ºArrayBufferæ ¼å¼çš„promiseå¯¹è±¡res.blob()è¯»å– reså¯¹è±¡å¹¶ä¸”å°†å®ƒè®¾ç½®ä¸ºå·²è¯»ï¼ˆå› ä¸ºResponseså¯¹è±¡è¢«è®¾ç½®ä¸ºäº† stream çš„æ–¹å¼ï¼Œæ‰€ä»¥å®ƒä»¬åªèƒ½è¢«è¯»å–ä¸€æ¬¡ï¼‰ ,å¹¶è¿”å›ä¸€ä¸ªè¢«è§£æä¸ºBlobæ ¼å¼çš„promiseå¯¹è±¡res.formData()è¯»å–reså¯¹è±¡å¹¶ä¸”å°†å®ƒè®¾ç½®ä¸ºå·²è¯»ï¼ˆå› ä¸ºResponseså¯¹è±¡è¢«è®¾ç½®ä¸ºäº† stream çš„æ–¹å¼ï¼Œæ‰€ä»¥å®ƒä»¬åªèƒ½è¢«è¯»å–ä¸€æ¬¡ï¼‰ ,å¹¶è¿”å›ä¸€ä¸ªè¢«è§£æä¸ºFormDataæ ¼å¼çš„promiseå¯¹è±¡res.json()è¯»å– reså¯¹è±¡å¹¶ä¸”å°†å®ƒè®¾ç½®ä¸ºå·²è¯»ï¼ˆå› ä¸ºResponseså¯¹è±¡è¢«è®¾ç½®ä¸ºäº† stream çš„æ–¹å¼ï¼Œæ‰€ä»¥å®ƒä»¬åªèƒ½è¢«è¯»å–ä¸€æ¬¡ï¼‰ ,å¹¶è¿”å›ä¸€ä¸ªè¢«è§£æä¸ºJSONæ ¼å¼çš„promiseå¯¹è±¡res.text()è¯»å– reså¯¹è±¡å¹¶ä¸”å°†å®ƒè®¾ç½®ä¸ºå·²è¯»ï¼ˆå› ä¸ºResponseså¯¹è±¡è¢«è®¾ç½®ä¸ºäº† stream çš„æ–¹å¼ï¼Œæ‰€ä»¥å®ƒä»¬åªèƒ½è¢«è¯»å–ä¸€æ¬¡ï¼‰ ,å¹¶è¿”å›ä¸€ä¸ªè¢«è§£æä¸ºUSVStringæ ¼å¼çš„promiseå¯¹è±¡ å¼ºåˆ¶å¸¦Cookieé»˜è®¤æƒ…å†µä¸‹, fetchä¸ä¼šä»æœåŠ¡ç«¯å‘é€æˆ–æ¥æ”¶ä»»ä½• cookies, å¦‚æœç«™ç‚¹ä¾èµ–äºç»´æŠ¤ä¸€ä¸ªç”¨æˆ·ä¼šè¯ï¼Œåˆ™å¯¼è‡´æœªç»è®¤è¯çš„è¯·æ±‚(è¦å‘é€ cookiesï¼Œå¿…é¡»å‘é€å‡­æ®å¤´). 12345678910fetch(url, &#123; method: 'GET', credentials: 'include' // å¼ºåˆ¶åŠ å…¥å‡­æ®å¤´ &#125;) .then((res)=&gt;&#123; return res.text() &#125;) .then((res)=&gt;&#123; console.log(res) &#125;)","tags":[]},{"title":"ansibleè‡ªåŠ¨åŒ–éƒ¨ç½²","date":"2018-10-31T09:58:59.000Z","path":"2018/10/31/è‡ªåŠ¨åŒ–éƒ¨ç½²/","text":"å®‰è£…Ansibleå¯é€šè¿‡ â€œpipâ€ å®‰è£…(å®‰è£…å’Œç®¡ç†PythonåŒ…çš„å·¥å…·),è‹¥ä½ è¿˜æ²¡æœ‰å®‰è£… pip,å¯æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…: 1$ sudo easy_install pip ç„¶åå®‰è£…Ansible:1$ sudo pip install ansible å¦‚æœä½ æ˜¯åœ¨ OS X Mavericks ä¸Šå®‰è£…,ç¼–è¯‘å™¨å¯èƒ½æˆ–å‘Šè­¦æˆ–æŠ¥é”™,å¯é€šè¿‡å¦‚ä¸‹è®¾ç½®é¿å…è¿™ç§æƒ…å†µ:1$ sudo CFLAGS=-Qunused-arguments CPPFLAGS=-Qunused-arguments pip install ansible ä½¿ç”¨ virtualenv çš„è¯»è€…å¯é€šè¿‡ virtualenv å®‰è£… Ansible, ç„¶è€Œæˆ‘ä»¬å»ºè®®ä¸ç”¨è¿™æ ·åš,ç›´æ¥åœ¨å…¨å±€å®‰è£… Ansible.ä¸è¦ä½¿ç”¨ easy_install ç›´æ¥å®‰è£… ansible. é…ç½®hostsä¿®æ”¹/etc/ansible/hosts å…¨å±€hostsæ–‡ä»¶ï¼Œæ²¡æœ‰çš„è¯è‡ªå·±åˆ›å»º1$ vim /etc/ansible/hosts 12345[localhost] # å¦‚æœæœåŠ¡å™¨ä½¿ç”¨å¯†ç ç™»å½•å°±ç”¨è¿™ä¸ªæ–¹å¼ä¿å­˜å¯†ç ï¼Œé¿å…æ¯æ¬¡è¾“å…¥127.0.0.1 ansible_ssh_pass=your_pass ansible_ssh_user=your_name[prod] # å¦‚æœæœåŠ¡å™¨ä½¿ç”¨sshkeyç™»é™†ï¼ˆæ¨èä½¿ç”¨ï¼‰prod.server.org ansible_ssh_user=your_name ansible_ssh_private_key_file=key_path å…·ä½“çš„æ˜¯ prod.server.orgæ˜¯IP, your_passæ˜¯æœåŠ¡å™¨çš„å¯†ç ,your_nameæ˜¯æœåŠ¡å™¨çš„åå­—, key_pathæ˜¯ç”¨keyç™»å½•. ç¬¬ä¸€æ¡å‘½ä»¤é¦–å…ˆæ‰§è¡Œping,çœ‹æ˜¯å¦å¯ä»¥è¿æ¥ä¸ŠæœåŠ¡å™¨ 12345678910$ ansible all -m ping127.0.0.1 | SUCCESS =&gt; &#123; \"changed\": false, \"ping\": \"pong\"&#125;prod.server.org | SUCCESS =&gt; &#123; \"changed\": false, \"ping\": \"pong\"&#125; å¾—åˆ°å¦‚ä¸Šæ ·å¼ç»“æœå³ä¸ºæ­£ç¡®,å¦å¤–æ‰§è¡Œ ansible prod -m ping å¯ä»¥é’ˆå¯¹æŸä¸€ä¸ªæœåŠ¡å™¨ç»„è¿›è¡Œæ“ä½œ è¿™æ—¶å€™è¯´æ˜ä½ çš„ansibleå·²ç»è·‘é€šï¼Œä¸‹é¢å¯ä»¥è¿›è¡Œå…¶ä»–æ“ä½œ","tags":[]},{"title":"ansible sshpassçš„éƒ¨ç½²é—®é¢˜","date":"2018-10-31T09:58:50.000Z","path":"2018/10/31/sshpassçš„éƒ¨ç½²é—®é¢˜/","text":"åœ¨ä½¿ç”¨ansibleé…ç½®å¥½hostsï¼Œè¿è¡Œping1$ ansible all -m ping å‘ç°å‡ºç°é”™è¯¯ï¼Œé”™è¯¯åŸå› æ˜¯éœ€è¦å®‰è£…sshpassã€‚å°±ç”¨yumå»å®‰è£…ï¼Œå› ä¸ºç”¨çš„æ˜¯macï¼Œå¯¼è‡´æ²¡æœ‰å®‰è£…yumï¼Œæ‰€ä»¥å°±æƒ³ç”¨brewå»å®‰è£…ï¼Œç›´æ¥ä½¿ç”¨brew install sshpass,å‘ç°å‘ç°é”™è¯¯ã€‚ 12345Shellä»£ç  æ”¶è—ä»£ç $ brew install sshpass Error: No available formula for sshpass We won't add sshpass because it makes it too easy for novice SSH users to ruin SSH's security. ä½¿ç”¨homebrewå¼ºåˆ¶å®‰è£… 1brew install https://raw.github.com/eugeneoden/homebrew/eca9de1/Library/Formula/sshpass.rb å°±å¯ä»¥æˆåŠŸäº†","tags":[]},{"title":"ansible playbook","date":"2018-10-31T09:58:40.000Z","path":"2018/10/31/playbook/","text":"Playbooks æ˜¯ Ansibleçš„é…ç½®,éƒ¨ç½²,ç¼–æ’è¯­è¨€.ä»–ä»¬å¯ä»¥è¢«æè¿°ä¸ºä¸€ä¸ªéœ€è¦å¸Œæœ›è¿œç¨‹ä¸»æœºæ‰§è¡Œå‘½ä»¤çš„æ–¹æ¡ˆ,æˆ–è€…ä¸€ç»„ITç¨‹åºè¿è¡Œçš„å‘½ä»¤é›†åˆ. ä¸€ä¸ªplaybookå°±æ˜¯ä¸€ä¸ªYAMLæ–‡ä»¶ï¼Œæ‰€ä»¥playbookæ–‡ä»¶ä¸€èˆ¬éƒ½ä»¥.ymlç»“å°¾ï¼Œä¸€ä¸ªplaybookæ–‡ä»¶ç”±ä¸€ä¸ªæˆ–å¤šä¸ªplayç»„æˆï¼Œæ¯ä¸ªplayå®šä¹‰äº†åœ¨ä¸€ä¸ªæˆ–å¤šä¸ªè¿œç¨‹ä¸»æœºä¸Šæ‰§è¡Œçš„ä¸€ç³»åˆ—çš„taskï¼Œå…¶ä¸­æ¯ä¸ªtaskä¸€èˆ¬å°±æ˜¯è°ƒç”¨ä¸€ä¸ªansibleçš„æ¨¡å—ï¼Œå¦‚è°ƒç”¨copyæ¨¡å—å¤åˆ¶æ–‡ä»¶åˆ°è¿œç¨‹ä¸»æœºæˆ–è°ƒç”¨shellæ¨¡å—æ‰§è¡Œå‘½ä»¤ã€‚ ç®€å•çš„é…ç½®é…ç½®deploy.ymlå®Œæˆè¿›å…¥è¿œç¨‹æœåŠ¡å™¨çš„æŸä¸ªç›®å½•å¹¶æ‰§è¡Œgit pullæ“ä½œ 1234561 - hosts: wxnacy # å®ƒä¼šé»˜è®¤ä½¿ç”¨/etc/ansible/hosts ä¸­é…ç½®çš„æœåŠ¡å™¨ç»„å ä¹Ÿå¯ä»¥å•ç‹¬è®¾ç½®hostsåœ°å€2 tasks:3 - name: cd path and git pull # å‘½ä»¤åç§°4 shell: git pull # æ‰§è¡Œå‘½ä»¤5 args:6 chdir: ~/workdir # è¿›å…¥ç›®å½• è¿è¡Œ 123456$ ansible-playbook deploy.ymlPLAY [wxnacy] *************************************************************************TASK [cd path and git pull] *************************************************************************ok: [wxnacy.server.org]PLAY RECAP *************************************************************************wxnacy.server.org : ok=2 changed=1 unreachable=0 failed=0 æ‰§è¡Œå®Œè¿è¡Œå‘½ä»¤ansibleä¼šåœ¨webserversç»„ä¸­ä¾æ¬¡æ‰§è¡Œtasksï¼Œè¿”å›ä»¥ä¸Šæ ·å¼ç»“æœæä¸ºæˆåŠŸï¼Œç»“æœé€šè¿‡çº¢é»„ç»¿ä¸‰ç§é¢œè‰²æ ‡æ˜äº†ä¸åŒçš„æ‰§è¡Œç»“æœï¼Œçº¢è‰²è¡¨ç¤ºæœ‰taskæ‰§è¡Œå¤±è´¥ï¼Œé»„è‰²è¡¨ç¤ºæ”¹å˜äº†è¿œç¨‹ä¸»æœºçŠ¶æ€ã€‚ å¯ä»¥æŸ¥çœ‹ç›¸å…³æ–‡ç« shell - Execute commands in nodesAll modulesAnsible playbookç®€ä»‹ä¸é…ç½®","tags":[]},{"title":"ansible è‡ªåŠ¨åŒ–","date":"2018-10-31T09:58:30.000Z","path":"2018/10/31/è‡ªåŠ¨åŒ–/","text":"ansible è‡ªåŠ¨åŒ–éƒ¨ç½²ansible playbookansible sshpassçš„éƒ¨ç½²é—®é¢˜ ansibleä»‹ç»å›½å†…çš„ä¸­æ–‡ç«™ç‚¹ï¼šAnsibleä¸­æ–‡æƒå¨æŒ‡å— ansibleæ˜¯æ–°å‡ºç°çš„è‡ªåŠ¨åŒ–è¿ç»´å·¥å…·ï¼ŒåŸºäºPythonå¼€å‘ï¼Œé›†åˆäº†ä¼—å¤šè¿ç»´å·¥å…·ï¼ˆpuppetã€chefã€funcã€fabricï¼‰çš„ä¼˜ç‚¹ï¼Œå®ç°äº†æ‰¹é‡ç³»ç»Ÿé…ç½®ã€æ‰¹é‡ç¨‹åºéƒ¨ç½²ã€æ‰¹é‡è¿è¡Œå‘½ä»¤ç­‰åŠŸèƒ½ã€‚ ansibleæ˜¯åŸºäº paramiko å¼€å‘çš„,å¹¶ä¸”åŸºäºæ¨¡å—åŒ–å·¥ä½œï¼Œæœ¬èº«æ²¡æœ‰æ‰¹é‡éƒ¨ç½²çš„èƒ½åŠ›ã€‚çœŸæ­£å…·æœ‰æ‰¹é‡éƒ¨ç½²çš„æ˜¯ansibleæ‰€è¿è¡Œçš„æ¨¡å—ï¼Œansibleåªæ˜¯æä¾›ä¸€ç§æ¡†æ¶ã€‚ansibleä¸éœ€è¦åœ¨è¿œç¨‹ä¸»æœºä¸Šå®‰è£…client/agentsï¼Œå› ä¸ºå®ƒä»¬æ˜¯åŸºäºsshæ¥å’Œè¿œç¨‹ä¸»æœºé€šè®¯çš„ã€‚ansibleç›®å‰å·²ç»å·²ç»è¢«çº¢å¸½å®˜æ–¹æ”¶è´­ï¼Œæ˜¯è‡ªåŠ¨åŒ–è¿ç»´å·¥å…·ä¸­å¤§å®¶è®¤å¯åº¦æœ€é«˜çš„ï¼Œå¹¶ä¸”ä¸Šæ‰‹å®¹æ˜“ï¼Œå­¦ä¹ ç®€å•ã€‚æ˜¯æ¯ä½è¿ç»´å·¥ç¨‹å¸ˆå¿…é¡»æŒæ¡çš„æŠ€èƒ½ä¹‹ä¸€ã€‚ansibleç‰¹ç‚¹123456781ã€éƒ¨ç½²ç®€å•ï¼Œåªéœ€åœ¨ä¸»æ§ç«¯éƒ¨ç½²Ansibleç¯å¢ƒï¼Œè¢«æ§ç«¯æ— éœ€åšä»»ä½•æ“ä½œï¼›2ã€é»˜è®¤ä½¿ç”¨SSHåè®®å¯¹è®¾å¤‡è¿›è¡Œç®¡ç†ï¼›3ã€æœ‰å¤§é‡å¸¸è§„è¿ç»´æ“ä½œæ¨¡å—ï¼Œå¯å®ç°æ—¥å¸¸ç»å¤§éƒ¨åˆ†æ“ä½œã€‚4ã€é…ç½®ç®€å•ã€åŠŸèƒ½å¼ºå¤§ã€æ‰©å±•æ€§å¼ºï¼›5ã€æ”¯æŒAPIåŠè‡ªå®šä¹‰æ¨¡å—ï¼Œå¯é€šè¿‡Pythonè½»æ¾æ‰©å±•ï¼›6ã€é€šè¿‡Playbooksæ¥å®šåˆ¶å¼ºå¤§çš„é…ç½®ã€çŠ¶æ€ç®¡ç†ï¼›7ã€è½»é‡çº§ï¼Œæ— éœ€åœ¨å®¢æˆ·ç«¯å®‰è£…agentï¼Œæ›´æ–°æ—¶ï¼Œåªéœ€åœ¨æ“ä½œæœºä¸Šè¿›è¡Œä¸€æ¬¡æ›´æ–°å³å¯ï¼›8ã€æä¾›ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ã€æ“ä½œæ€§å¼ºçš„Webç®¡ç†ç•Œé¢å’ŒREST APIæ¥å£â€”â€”AWXå¹³å°ã€‚","tags":[]},{"title":"item2å¿«æ·é”®çš„åº”ç”¨","date":"2018-10-31T09:57:44.000Z","path":"2018/10/31/item2å¿«æ·é”®çš„åº”ç”¨/","text":"ä½¿ç”¨item2å·²ç»ä¸€æ®µæ—¶é—´äº†ï¼Œå‘ç°item2å’Œè‹¹æœè‡ªå¸¦çš„ç»ˆç«¯å·¥å…·Terminalç›¸æ¯”ï¼Œç®€ç›´å®Œçˆ†å®ƒã€‚ä¸‹é¢æ˜¯ä¸€äº›åŸºç¡€çš„å¿«æ·é”® æ ‡ç­¾12æ–°å»ºæ ‡ç­¾ command + tåˆ‡æ¢æ ‡ç­¾ command + å·¦å³æ–¹å‘é”® æˆ–è€… command+æ•°å­— åˆ†å±123å‚ç›´åˆ†å±ï¼šcommand + dæ°´å¹³åˆ†å±ï¼šcommand + shift + dåˆ‡æ¢å±å¹•ï¼šcommand + [ æˆ– command + ] å…±åŒæ ‡ç­¾æˆ–è€…åˆ†å±çš„å¿«é”®é”®ä¸º12å…³é—­æ ‡ç­¾æˆ–è€…åˆ†å±ï¼šcommand + wåˆ‡æ¢å…¨å±ï¼šcommand + enter command ç›¸å…³çš„å¿«æ·é”®1234æŸ¥æ‰¾ï¼šcommand + fæŸ¥çœ‹å†å²å‘½ä»¤ï¼šcommand + ;æŸ¥çœ‹å‰ªè´´æ¿å†å²ï¼šcommand + shift + hæ¸…å±ï¼šcommand + r control ç›¸å…³çš„å¿«æ·é”®1234567891011æ¸…é™¤å½“å‰è¡Œï¼šctrl + uåˆ°è¡Œé¦–ï¼šctrl + aåˆ°è¡Œå°¾ï¼šctrl + eå‰è¿›åé€€ï¼šctrl + f/b (ç¿»é¡µ)ä¸Šä¸€æ¡å‘½ä»¤ï¼šctrl + pæœç´¢å‘½ä»¤å†å²ï¼šctrl + råˆ é™¤å½“å‰å…‰æ ‡çš„å­—ç¬¦ï¼šctrl + dåˆ é™¤å…‰æ ‡ä¹‹å‰çš„å­—ç¬¦ï¼šctrl + håˆ é™¤å…‰æ ‡ä¹‹å‰çš„å•è¯ï¼šctrl + wåˆ é™¤åˆ°æ–‡æœ¬æœ«å°¾ï¼šctrl + käº¤æ¢å…‰æ ‡å¤„æ–‡æœ¬ï¼šctrl + t","tags":[]},{"title":"Macä¸‹pyenvä¸pyenv-virtualenvçš„å®‰è£…","date":"2018-10-31T09:56:54.000Z","path":"2018/10/31/Macä¸‹pyenvä¸pyenv-virtualenvçš„å®‰è£…/","text":"åœ¨ Mac ä¸Šä½¿ç”¨ brew å¯ä»¥å¾ˆæ–¹ä¾¿çš„å®‰è£… pyenv 1ã€å®‰è£…1brew install pyenv 2ã€é…ç½®æ‰“å¼€vim ~/.bash_profileï¼Œåœ¨æœ€åå†™å…¥12345export PYENV_ROOT=\"$HOME/.pyenv\"export PATH=\"$PYENV_ROOT/bin:$PATH\"if which pyenv &gt; /dev/null; then eval \"$(pyenv init -)\";fi é…ç½®å®Œä»¥ååˆ«å¿˜äº†source ~/.bash_profileï¼Œä½¿é…ç½®ç”Ÿæ•ˆ 3ã€ä½¿ç”¨1234567891011#æŸ¥çœ‹å¯å®‰è£…çš„ç‰ˆæœ¬pyenv install --list#å®‰è£…pythonç‰ˆæœ¬pyenv install 3.5.0#æŸ¥çœ‹å½“å‰å·²å®‰è£…çš„pythonç‰ˆæœ¬pyenv versions#é‡ç½®ç‰ˆæœ¬è®¾ç½® (åªæœ‰ pyenv shell å’Œ pyenv local å‘½ä»¤æœ‰--unsetå‚æ•°)pyenv shell --unsetpyenv local --unset#å¸è½½ç‰ˆæœ¬pyenv uninstall 3.5.0 è®¾ç½®pythonç‰ˆæœ¬12345678# å¯¹æ‰€æœ‰çš„Shellå…¨å±€æœ‰æ•ˆï¼Œä¼šæŠŠç‰ˆæœ¬å·å†™å…¥åˆ°~/.pyenv/versionæ–‡ä»¶ä¸­pyenv global 3.5.0# åªå¯¹å½“å‰ç›®å½•æœ‰æ•ˆï¼Œä¼šåœ¨å½“å‰ç›®å½•åˆ›å»º.python-versionæ–‡ä»¶pyenv local 3.5.0# åªåœ¨å½“å‰ä¼šè¯æœ‰æ•ˆpyenv shell 3.5.0 è¿™ä¸ªæ—¶å€™ï¼Œpyenvå·²ç»å®‰è£…æˆåŠŸäº†ï¼Œä¸‹é¢å’±ä»¬å®‰è£…è®¾ç½®pythonç‰ˆæœ¬ pyenv-virtualenv pyenv-virtualenv æ˜¯pyenvçš„æ’ä»¶ï¼Œä¸ºpyenvè®¾ç½®çš„pythonç‰ˆæœ¬æä¾›éš”ç¦»çš„è™šæ‹Ÿç¯å¢ƒï¼Œè®¾ç½®è™šæ‹Ÿç¯å¢ƒåï¼Œåœ¨å½“å‰ç›®å½•ä¸‹é¢å®‰è£…çš„ç¬¬ä¸‰æ–¹åº“éƒ½ä¸ä¼šå½±å“å…¶ä»–ç¯å¢ƒ 1ã€å®‰è£…1brew install pyenv-virtualenv 2ã€é…ç½®æ‰“å¼€vim ~/.bash_profileï¼Œåœ¨æœ€åå†™å…¥123if which pyenv-virtualenv-init &gt; /dev/null; then eval \"$(pyenv virtualenv-init -)\";fi é…ç½®å®Œä»¥ååˆ«å¿˜äº†source ~/.bash_profileï¼Œä½¿é…ç½®ç”Ÿæ•ˆ 3ã€ä½¿ç”¨123456789101112131415161718192021222324#ä»å½“å‰ç‰ˆæœ¬åˆ›å»ºvirtualenvpyenv virtualenv env350#æŒ‡å®šç‰ˆæœ¬åˆ›å»ºvirtualenv#pyenv virtualenv ç‰ˆæœ¬å· è™šæ‹Ÿç¯å¢ƒåpyenv virtualenv 3.6.3 xxx-3.6.3#æŸ¥çœ‹å·²åˆ›å»ºçš„virtualenvpyenv versions#æ¿€æ´»å’Œåœç”¨virtualenv# æ‰‹åŠ¨æ¿€æ´»pyenv activate è™šæ‹Ÿç¯å¢ƒåpyenv deactivate# è‡ªåŠ¨æ¿€æ´»# ä½¿ç”¨pyenv local è™šæ‹Ÿç¯å¢ƒå# ä¼šæŠŠ`è™šæ‹Ÿç¯å¢ƒå`å†™å…¥å½“å‰ç›®å½•çš„.python-versionæ–‡ä»¶ä¸­# å…³é—­è‡ªåŠ¨æ¿€æ´» -&gt; pyenv deactivate# å¯åŠ¨è‡ªåŠ¨æ¿€æ´» -&gt; pyenv activate xxx-3.6.3pyenv local xxx-3.6.3#åˆ é™¤ç°æœ‰virtualenvpyenv uninstall è™šæ‹Ÿç¯å¢ƒå","tags":[]},{"title":"å¦‚ä½•æ€æ­»ä¸€ä¸ªå·²ç»detachedçš„screenä¼šè¯","date":"2018-10-31T09:56:16.000Z","path":"2018/10/31/å¦‚ä½•æ€æ­»ä¸€ä¸ªå·²ç»detachedçš„screenä¼šè¯/","text":"å¦‚æœæƒ³æ€æ­»ä¸€ä¸ªå·²ç»detachedçš„screenä¼šè¯ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š æ–¹æ³•ä¸€ï¼š1screen -X -S [session # you want to kill] quit æ¯”å¦‚12345678910[root@localhost ~]# screen -lsThere are screens on: 9975.admin (Detached) 4588.scheduler (Detached)[root@localhost ~]# screen -X -S 4588 quit[root@localhost ~]# screen -lsThere is a screen on: 9975.pts-0.localhost (Detached)1 Socket in /var/run/screen/S-root. å¯ä»¥çœ‹åˆ°ï¼Œ4588ä¼šè¯å·²ç»æ²¡æœ‰äº†ã€‚ æ–¹æ³•äºŒï¼šæ¿€æ´»screenï¼š screen -r session_name å¹¶åˆ©ç”¨exité€€å‡ºå¹¶kiilæ‰sessionã€‚","tags":[]},{"title":"Linux æŸ¥çœ‹ç¡¬ç›˜å®¹é‡ï¼ŒLinuxç³»ç»Ÿæ˜¯Centosè¿˜æ˜¯Ubuntu","date":"2018-10-31T09:55:04.000Z","path":"2018/10/31/Linuxçš„å¸¸ç”¨å‘½ä»¤/","text":"æŸ¥çœ‹ç¡¬ç›˜ä½¿ç”¨äº†å¤šå°‘å®¹é‡ 123456789101112131415161718[root@iZ2ze32 ~]# df -hlæ–‡ä»¶ç³»ç»Ÿ å®¹é‡ å·²ç”¨ å¯ç”¨ å·²ç”¨% æŒ‚è½½ç‚¹/dev/vda1 40G 3.7G 34G 10% /devtmpfs 1.9G 0 1.9G 0% /devtmpfs 1.9G 0 1.9G 0% /dev/shmtmpfs 1.9G 364K 1.9G 1% /runtmpfs 1.9G 0 1.9G 0% /sys/fs/cgrouptmpfs 380M 0 380M 0% /run/user/0[root@iZ2ze326 ~]# dfæ–‡ä»¶ç³»ç»Ÿ 1K-å— å·²ç”¨ å¯ç”¨ å·²ç”¨% æŒ‚è½½ç‚¹/dev/vda1 41151808 3867112 35171264 10% /devtmpfs 1931336 0 1931336 0% /devtmpfs 1940844 0 1940844 0% /dev/shmtmpfs 1940844 364 1940480 1% /runtmpfs 1940844 0 1940844 0% /sys/fs/cgrouptmpfs 388172 0 388172 0% /run/user/0 æŸ¥çœ‹Linuxç³»ç»Ÿæ˜¯Centosè¿˜æ˜¯Ubuntuè¾“å…¥å‘½ä»¤ lsb_release -a 1234567891011## ç°åœ¨æœ‰çš„ç³»ç»Ÿå¯ä»¥ç”¨è¿™ä¸ªæŸ¥å‡ºæ˜¯å¦æ˜¯centosè¿˜æ˜¯ubuntuï¼Œå¦‚é˜¿é‡Œäº‘[root@iZ2ze326 ~]# lsb_release -aLSB Version: :core-4.1-amd64:core-4.1-noarchDistributor ID: CentOSDescription: CentOS Linux release 7.4.1708 (Core)Release: 7.4.1708Codename: Core## è€Œåœ¨å…¬å¸çš„æœ¬åœ°æœåŠ¡å™¨ï¼Œå´å‡ºç°è¿™ç§æƒ…å†µ[root@hardwareupdate ~]# lsb_release -a-bash: lsb_release: command not found å½“è¿™ä¸ªå‘½ä»¤ä¸ç®¡ç”¨çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ cat /etc/redhat-release 1234567## åœ¨ubuntuä¸­ä¼šå‡ºç°[root@hardwareupdate ~]# cat /etc/redhat-release-bash: /etc/redhat-release: command not found## åœ¨centosä¸­æ˜¾ç¤º[root@hardwareupdate ~]# cat /etc/redhat-releaseCentOS release 6.10 (Final) æŸ¥çœ‹Linux æŸäº›ç¨‹åºè¿›ç¨‹ ps auxæ¯”å¦‚ï¼š123[root@iZ2ze3269b etc]# ps aux | grep mysqlroot 2371 0.0 0.0 112676 980 pts/0 S+ 14:34 0:00 grep --color=auto mysqlmysql 10810 0.1 9.4 1599384 367788 ? Sl 10æœˆ11 13:13 /usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid","tags":[]},{"title":"Centos7å®‰è£…mysql","date":"2018-10-31T09:53:56.000Z","path":"2018/10/31/Centos7å®‰è£…mysql/","text":"mysql å®˜æ–¹ä¸‹è½½åœ°å€ï¼šhttps://dev.mysql.com/downloads/repo/yum/æŸ¥æ‰¾æœ€æ–°çš„ rpmä¸‹è½½1$ wget https://dev.mysql.com/get/mysql80-community-release-el7-1.noarch.rpm ç¡®å®š md5 å€¼12$ md5sum mysql80-community-release-el7-1.noarch.rpm739dc44566d739c5d7b893de96ee6848 mysql80-community-release-el7-1.noarch.rpm å®‰è£…1$ sudo rpm -ivh mysql80-community-release-el7-1.noarch.rpm å› ä¸ºç°ä»Šmysqlå·²ç»æ›´æ–°åˆ°8.0ä»¥ä¸Šäº†ï¼Œæ‰€ä»¥å¯ä»¥æ ¹æ®éœ€æ±‚æ˜¯ç”¨5.5ä»¥ä¸Šçš„æŸä¸€ä¸ªç‰ˆæœ¬è¿˜æ˜¯8.0ç­‰ 8.0ç‰ˆæœ¬12$ sudo yum update -y$ sudo yum install -y mysql-server 5.7ç‰ˆæœ¬æŸ¥çœ‹å¯å®‰è£…çš„ç‰ˆæœ¬12345678910111213141516171819$ yum repolist all | grep mysqlmysql-cluster-7.5-community/x86_64 MySQL Cluster 7.5 Community disabledmysql-cluster-7.5-community-source MySQL Cluster 7.5 Community - disabledmysql-cluster-7.6-community/x86_64 MySQL Cluster 7.6 Community disabledmysql-cluster-7.6-community-source MySQL Cluster 7.6 Community - disabledmysql-connectors-community/x86_64 MySQL Connectors Community enabled: 51mysql-connectors-community-source MySQL Connectors Community - S disabledmysql-tools-community/x86_64 MySQL Tools Community enabled: 63mysql-tools-community-source MySQL Tools Community - Source disabledmysql-tools-preview/x86_64 MySQL Tools Preview disabledmysql-tools-preview-source MySQL Tools Preview - Source disabledmysql55-community/x86_64 MySQL 5.5 Community Server disabledmysql55-community-source MySQL 5.5 Community Server - S disabledmysql56-community/x86_64 MySQL 5.6 Community Server disabledmysql56-community-source MySQL 5.6 Community Server - S disabledmysql57-community/x86_64 MySQL 5.7 Community Server disabledmysql57-community-source MySQL 5.7 Community Server - S disabledmysql80-community/x86_64 MySQL 8.0 Community Server enabled: 17mysql80-community-source MySQL 8.0 Community Server - S disabled å› ä¸ºé»˜è®¤çš„æ˜¯8.0çš„ç‰ˆæœ¬ï¼Œæ‰€ä»¥è¦é€‰æ‹©5.7çš„ç‰ˆæœ¬12$ sudo yum-config-manager --disable mysql80-community$ sudo yum-config-manager --enable mysql57-community ä¸‹è½½1$ sudo yum install mysql-community-server å¯åŠ¨1$ sudo systemctl start mysqld æŸ¥çœ‹è¿è¡ŒçŠ¶æ€123456789101112131415$ sudo systemctl status mysqldâ— mysqld.service - MySQL Server Loaded: loaded (/usr/lib/systemd/system/mysqld.service; enabled; vendor preset: disabled) Active: active (running) since Fri 2018-06-01 10:35:58 UTC; 1h 39min ago Docs: man:mysqld(8) [http://dev.mysql.com/doc/refman/en/using-systemd.html](http://dev.mysql.com/doc/refman/en/using-systemd.html) Process: 7474 ExecStartPre=/usr/bin/mysqld_pre_systemd (code=exited, status=0/SUCCESS) Main PID: 7542 (mysqld) Status: \"SERVER_OPERATING\" CGroup: /system.slice/mysqld.service â””â”€7542 /usr/sbin/mysqldJun 01 10:35:49 bogon systemd[1]: Starting MySQL Server...Jun 01 10:35:58 bogon systemd[1]: Started MySQL Server.&lt;/pre&gt; è¿™æ—¶å€™mysqlå·²ç»å®‰è£…æˆåŠŸäº†ï¼Œä¸‹é¢æ˜¯é…ç½® é…ç½®Mysql åœ¨å®‰è£…æ—¶ä¼šé»˜è®¤è®¾ç½®ä¸€ä¸ªéšæœºå¯†ç ï¼Œéœ€è¦åœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶ä¿®æ”¹ æŸ¥çœ‹å¯†ç 12$ sudo grep 'temporary password' /var/log/mysqld.log2018-06-01T10:35:51.710406Z 5 [Note] [MY-010454] [Server] A temporary password is generated for root@localhost: Vq9wOQ&amp;trFs* é¦–å…ˆä½¿ç”¨é»˜è®¤å¯†ç ç™»å½• Mysql1$ mysql -uroot -p æŸ¥çœ‹æ‰€æœ‰ validatei_password123456789101112131415161718192021mysql&gt; SHOW VARIABLES LIKE 'validate_password%';+--------------------------------------+-------+| Variable_name | Value |+--------------------------------------+-------+| validate_password.check_user_name | ON || validate_password.dictionary_file | || validate_password.length | 8 || validate_password.mixed_case_count | 1 || validate_password.number_count | 1 || validate_password.policy | MEDIUM|| validate_password.special_char_count | 1 || validate_password_check_user_name | ON || validate_password_dictionary_file | || validate_password_length | 8 || validate_password_mixed_case_count | 1 || validate_password_number_count | 1 || validate_password_policy | MEDIUM|| validate_password_special_char_count | 1 |+--------------------------------------+-------+14 rows in set (0.00 sec) è¿™æ—¶å€™ä¼šçœ‹åˆ°mysqlçš„å¯†ç ç­–ç•¥123456789101112There are three levels of password validation policy:# é•¿åº¦å¤§äº 8 ä½LOW Length &gt;= 8# é•¿åº¦å¤§äº 8 ä½ï¼Œæ•°å­—ï¼Œæ··åˆå¤§å°å†™å’Œç‰¹æ®Šå­—ç¬¦MEDIUM Length &gt;= 8, numeric, mixed case, and special characters# é•¿åº¦å¤§äº 8 ä½ï¼Œæ•°å­—ï¼Œæ··åˆå¤§å°å†™ï¼Œç‰¹æ®Šå­—ç¬¦å’Œå­—å…¸STRONG Length &gt;= 8, numeric, mixed case, special characters and dictionaryPlease enter 0 = LOW, 1 = MEDIUM and 2 = STRONG:ä»–ä»¬åˆ†åˆ«å¯¹åº”äº†æ•°å­— 0, 1, 2ï¼ŒMysql é»˜è®¤çš„ç­‰çº§ä¸º MEDIUMï¼Œæ‰€ä»¥è¾“å…¥æ™®é€šçš„å¯†ç å°±ä¼šæŠ¥é”™ï¼Œæ€æ ·ä¿®æ”¹ç­–ç•¥å‘¢ï¼Ÿ æ‰€ä»¥å½“å‡ºç°ä¸‹é¢çš„é”™è¯¯çš„æ—¶å€™ï¼Œæœ‰å¯èƒ½å°±æ˜¯å› ä¸ºå¯†ç å¼ºåº¦çš„é—®é¢˜1Failed! Error: Your password does not satisfy the current policy requirements æ‰€ä»¥å¯ä»¥æ ¹æ®ä½ æƒ³è¾¾åˆ°çš„å®‰å…¨ç¨‹åº¦ï¼Œè®¾ç½®å¯†ç ï¼Œæ¯”å¦‚æˆ‘è¿™é‡Œè®¾ç½®ä¸ºæœ€ä½:123set global validate_password_policy=0;## å¦‚æœä½ ä¸æƒ³è®©é•¿åº¦å¿…é¡»å¤§äº 8 ä½ï¼Œä¹Ÿå¯ä»¥æ”¹ä¸º 4ï¼Œè¿™æ˜¯æœ€ä½é•¿åº¦set global validate_password_length=4; éšåä¿®æ”¹mysqlå¯†ç :1set password=password('111111'); æœ€åå¯ä»¥å°†è®¿é—®æƒé™å…¨éƒ¨å¯¹å¤–å¼€æ”¾1GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY 'wxnacy' WITH GRANT OPTION; ä¹Ÿå¯ä»¥æŒ‡å®š ip å¼€æ”¾1GRANT ALL PRIVILEGES ON *.* TO 'root'@'192.168.33.11' IDENTIFIED BY 'wxnacy' WITH GRANT OPTION; æœ€åä½¿é…ç½®ç”Ÿæ•ˆ1flush privileges; mysql æ–°è®¾ç½®ç”¨æˆ·æˆ–æ›´æ”¹å¯†ç åéœ€ç”¨flush privilegesåˆ·æ–°MySQLçš„ç³»ç»Ÿæƒé™ç›¸å…³è¡¨ï¼Œå¦åˆ™ä¼šå‡ºç°æ‹’ç»è®¿é—®ï¼Œè¿˜æœ‰ä¸€ç§æ–¹æ³•ï¼Œå°±æ˜¯é‡æ–°å¯åŠ¨mysqlæœåŠ¡å™¨ï¼Œæ¥ä½¿æ–°è®¾ç½®ç”Ÿæ•ˆ","tags":[]},{"title":"Supervisoré‡æ–°åŠ è½½é…ç½®å¯åŠ¨æ–°çš„è¿›ç¨‹","date":"2018-10-31T09:52:57.000Z","path":"2018/10/31/Supervisoré‡æ–°åŠ è½½é…ç½®å¯åŠ¨æ–°çš„è¿›ç¨‹/","text":"ä¸€ã€æ·»åŠ å¥½é…ç½®æ–‡ä»¶åäºŒã€æ›´æ–°æ–°çš„é…ç½®åˆ°supervisord1supervisorctl update ä¸‰ã€é‡æ–°å¯åŠ¨é…ç½®ä¸­çš„æ‰€æœ‰ç¨‹åº1supervisorctl reload å››ã€å¯åŠ¨æŸä¸ªè¿›ç¨‹(program_name=ä½ é…ç½®ä¸­å†™çš„ç¨‹åºåç§°)1supervisorctl start program_name äº”ã€æŸ¥çœ‹æ­£åœ¨å®ˆå€™çš„è¿›ç¨‹1supervisorctl å…­ã€åœæ­¢æŸä¸€è¿›ç¨‹ (program_name=ä½ é…ç½®ä¸­å†™çš„ç¨‹åºåç§°)1pervisorctl stop program_name ä¸ƒã€é‡å¯æŸä¸€è¿›ç¨‹ (program_name=ä½ é…ç½®ä¸­å†™çš„ç¨‹åºåç§°)1supervisorctl restart program_name å…«ã€åœæ­¢å…¨éƒ¨è¿›ç¨‹(æ˜¾ç¤ºç”¨stopåœæ­¢æ‰çš„è¿›ç¨‹ï¼Œç”¨reloadæˆ–è€…updateéƒ½ä¸ä¼šè‡ªåŠ¨é‡å¯)1supervisorctl stop all å‚è€ƒï¼šSupervisoré‡æ–°åŠ è½½é…ç½®å¯åŠ¨æ–°çš„è¿›ç¨‹","tags":[{"name":"Supervisor","slug":"Supervisor","permalink":"http://yoursite.com/tags/Supervisor/"}]},{"title":"macæŸ¥çœ‹ç«¯å£å ç”¨è¿›ç¨‹ä»¥åŠå¼ºåˆ¶æ¸…ç†è¿›ç¨‹","date":"2018-10-31T09:47:30.000Z","path":"2018/10/31/macæŸ¥çœ‹ç«¯å£å ç”¨è¿›ç¨‹ä»¥åŠå¼ºåˆ¶æ¸…ç†è¿›ç¨‹/","text":"æŸ¥çœ‹5001æ®µå£è¢«å ç”¨è¿›ç¨‹lsof -i:5001ï¼š 12345678910111213localhost:My$ lsof -i:5001COMMAND PID USER FD TYPE DEVICE SIZE/OFF NODE NAME[Python](http://lib.csdn.net/base/python \"PythonçŸ¥è¯†åº“\") 6320 zhaozeguang 3u IPv4 0x82d867c5ec4904d9 0t0 TCP localhost:51816-&gt;localhost:commplex-link (CLOSED)[python](http://lib.csdn.net/base/python \"PythonçŸ¥è¯†åº“\") 6323 zhaozeguang 3u IPv4 0x82d867c5ec4916e9 0t0 TCP localhost:51820-&gt;localhost:commplex-link (CLOSED)Python 6327 zhaozeguang 3u IPv4 0x82d867c5ed8b52c9 0t0 TCP localhost:51828-&gt;localhost:commplex-link (CLOSED)Python 6328 zhaozeguang 3u IPv4 0x82d867c5edcf04d9 0t0 TCP localhost:51835-&gt;localhost:commplex-link (CLOSED)Python 6330 zhaozeguang 3u IPv4 0x82d867c5e27d06e9 0t0 TCP localhost:51836-&gt;localhost:commplex-link (CLOSED) killæ‰æ— ç”¨è¿›ç¨‹ kill PID1localhost:My$ kill 6327 6328 6330","tags":[]}]